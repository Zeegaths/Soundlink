import{B as e,g as t,A as n,f as r,t as a,k as o,a as s,e as i,n as c,b as u,c as l,d,R as f,h,C as p,I as m,i as y,j as b,l as g,m as w,o as v,q as E,r as B,s as k,u as x,v as N,w as T,x as I,y as P,z as A,U as S,D as R,E as O,F as q,S as C,G as F,H as L,J as D,K as _,L as U,M as H,N as M,O as G,P as z,Q as j,T as $,V,W as Z,X as W,Y as K,Z as Y,_ as J,$ as Q,a0 as X,a1 as ee,a2 as te,a3 as ne,a4 as re,a5 as ae,a6 as oe,a7 as se,a8 as ie,a9 as ce,aa as ue,ab as le,ac as de,ad as fe,ae as he,af as pe,ag as me,ah as ye,ai as be,aj as ge,ak as we,al as ve,am as Ee,an as Be,ao as ke,ap as xe,aq as Ne,ar as Te,as as Ie,at as Pe,au as Ae,av as Se,aw as Re,ax as Oe,ay as qe,az as Ce,aA as Fe,aB as Le,aC as De,aD as _e,aE as Ue,aF as He,aG as Me,aH as Ge,aI as ze,aJ as je,aK as $e,aL as Ve,aM as Ze,aN as We,aO as Ke,aP as Ye,aQ as Je}from"./@farcaster/auth-kit-6f54cab9.js";const Qe=function(){const e="undefined"!=typeof document&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),Xe={},et=function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in Xe)return;Xe[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!n)for(let n=r.length-1;n>=0;n--){const a=r[n];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":Qe,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};function tt(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const a=e[n];return"function"==typeof a?a:n=>t(e,n)}class nt extends e{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const rt="/docs/contract/encodeEventTopics";function at(e){const{abi:o,eventName:s,args:i}=e;let c=o[0];if(s){const e=t({abi:o,name:s});if(!e)throw new n(s,{docsPath:rt});c=e}if("event"!==c.type)throw new n(void 0,{docsPath:rt});const u=r(c),l=a(u);let d=[];if(i&&"inputs"in c){const e=c.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(i)?i:Object.values(i).length>0?e?.map((e=>i[e.name]))??[]:[];t.length>0&&(d=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,a)=>ot({param:e,value:t[n][a]}))):t[n]?ot({param:e,value:t[n]}):null))??[])}return[l,...d]}function ot({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return o(s(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new nt(e.type);return i([e],[t])}function st(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:a,transport:o})=>{"success"===a&&t===e&&(n[r]=o.request)})),t=>n[t]||e.request}async function it(e,t){const{address:n,abi:r,args:a,eventName:o,fromBlock:s,strict:i,toBlock:u}=t,l=st(e,{method:"eth_newFilter"}),d=o?at({abi:r,args:a,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof s?c(s):s,toBlock:"bigint"==typeof u?c(u):u,topics:d}]});return{abi:r,args:a,eventName:o,id:f,request:l(f),strict:Boolean(i),type:"event"}}const ct="/docs/contract/encodeFunctionData";function ut(e){const{args:n}=e,{abi:a,functionName:o}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:n,args:a,functionName:o}=e;let s=n[0];if(o){const e=t({abi:n,args:a,name:o});if(!e)throw new u(o,{docsPath:ct});s=e}if("function"!==s.type)throw new u(void 0,{docsPath:ct});return{abi:[s],functionName:l(r(s))}}(e),s=a[0],c=o,f="inputs"in s&&s.inputs?i(s.inputs,n??[]):void 0;return d([c,f??"0x"])}const lt=3;function dt(t,{abi:n,address:r,args:a,docsPath:o,functionName:s,sender:i}){const c=t instanceof f?t:t instanceof e?t.walk((e=>"data"in e))||t.walk():{},{code:u,data:l,details:d,message:w,shortMessage:v}=c,E=t instanceof h?new p({functionName:s}):[lt,m.code].includes(u)&&(l||d||w||v)?new y({abi:n,data:"object"==typeof l?l.data:l,functionName:s,message:c instanceof b?d:v??w}):t;return new g(E,{abi:n,args:a,contractAddress:r,docsPath:o,functionName:s,sender:i})}function ft(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function ht({hash:e,signature:t}){return function(e){const t=o(`0x${e.substring(4)}`).substring(26);return w(`0x${t}`)}(await async function({hash:e,signature:t}){const n=v(e)?e:E(e),{secp256k1:r}=await et((()=>Promise.resolve().then((()=>Vo))),void 0);return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:a,yParity:o}=t,s=ft(Number(o??a));return new r.Signature(B(e),B(n)).addRecoveryBit(s)}const e=v(t)?t:E(t),n=ft(k(`0x${e.slice(130)}`));return r.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}({hash:e,signature:t}))}function pt(e){const{chainId:t,contractAddress:n,nonce:r,to:a}=e,s=o(d(["0x05",x([t?c(t):"0x",n,r?c(r):"0x"])]));return"bytes"===a?N(s):s}class mt extends e{constructor(e,{account:t,docsPath:n,chain:r,data:a,gas:o,gasPrice:s,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){const f=T({from:t?.address,to:l,value:void 0!==d&&`${I(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:void 0!==s&&`${P(s)} gwei`,maxFeePerGas:void 0!==i&&`${P(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${P(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function yt(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:n})=>{if(66!==t.length)throw new F({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new F({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e}),{})}function bt(e){const{balance:t,nonce:n,state:r,stateDiff:a,code:o}=e,s={};if(void 0!==o&&(s.code=o),void 0!==t&&(s.balance=c(t)),void 0!==n&&(s.nonce=c(n)),void 0!==r&&(s.state=yt(r)),void 0!==a){if(s.state)throw new C;s.stateDiff=yt(a)}return s}function gt(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!R(n,{strict:!1}))throw new O({address:n});if(t[n])throw new q({address:n});t[n]=bt(r)}return t}class wt extends e{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class vt extends e{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Et extends e{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${P(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Bt extends e{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function kt(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:a}={}){const o=r??"latest",s=a??!1,i=void 0!==n?c(n):void 0;let u=null;if(u=t?await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[i||o,s]},{dedupe:Boolean(i)}),!u)throw new Bt({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||L)(u)}async function xt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Nt(e,t){const{block:n,chain:r=e.chain,request:a}=t||{};try{const t=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await tt(e,kt,"getBlock")({}),o=await t({block:r,client:e,request:a});if(null===o)throw new Error;return o}if(void 0!==t)return t;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return B(o)}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):tt(e,kt,"getBlock")({}),tt(e,xt,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new vt;const a=r-t.baseFeePerGas;return a<0n?0n:a}}async function Tt(e,t){const{block:n,chain:r=e.chain,request:a,type:o="eip1559"}=t||{},s=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:a}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new wt;const i=10**(s.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(s*i))/BigInt(i),u=n||await tt(e,kt,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:a,type:o});if(null!==t)return t}if("eip1559"===o){if("bigint"!=typeof u.baseFeePerGas)throw new vt;const t="bigint"==typeof a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:await Nt(e,{block:u,chain:r,request:a}),n=c(u.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:a?.gasPrice??c(await tt(e,xt,"getGasPrice")({}))}}async function It(e,{address:t,blockTag:n="latest",blockNumber:r}){const a=await e.request({method:"eth_getTransactionCount",params:[t,r?c(r):n]},{dedupe:Boolean(r)});return k(a)}async function Pt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return k(t)}const At=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function St(e,t){const{account:n=e.account,blobs:r,chain:a,gas:o,kzg:s,nonce:i,nonceManager:c,parameters:u=At,type:l}=t,d=n?z(n):n,f={...t,...d?{from:d?.address}:{}};let h,p;async function m(){return h||(h=await tt(e,kt,"getBlock")({blockTag:"latest"}),h)}async function y(){if(p)return p;if(a)return a.id;if(void 0!==t.chainId)return t.chainId;const n=await tt(e,Pt,"getChainId")({});return p=n,p}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&s){const e=D({blobs:r,kzg:s});if(u.includes("blobVersionedHashes")){const t=_({commitments:e,to:"hex"});f.blobVersionedHashes=t}if(u.includes("sidecars")){const t=U({blobs:r,commitments:e,kzg:s}),n=H({blobs:r,commitments:e,proofs:t,to:"hex"});f.sidecars=n}}if(u.includes("chainId")&&(f.chainId=await y()),u.includes("nonce")&&void 0===i&&d)if(c){const t=await y();f.nonce=await c.consume({address:d.address,chainId:t,client:e})}else f.nonce=await tt(e,It,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&void 0===l)try{f.type=M(f)}catch{const e=await m();f.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if(void 0===f.maxFeePerGas||void 0===f.maxPriorityFeePerGas){const n=await m(),{maxFeePerGas:r,maxPriorityFeePerGas:o}=await Tt(e,{block:n,chain:a,request:f});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<o)throw new Et({maxPriorityFeePerGas:o});f.maxPriorityFeePerGas=o,f.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new vt;const n=await m(),{gasPrice:r}=await Tt(e,{block:n,chain:a,request:f,type:"legacy"});f.gasPrice=r}return u.includes("gas")&&void 0===o&&(f.gas=await tt(e,Ot,"estimateGas")({...f,account:d?{address:d.address,type:"json-rpc"}:d})),G(f),delete f.parameters,f}async function Rt(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n?c(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,a||r]});return BigInt(o)}async function Ot(t,n){const{account:r=t.account}=n,a=r?z(r):void 0;try{let r=function(e){const{block:n,request:r,rpcStateOverride:a}=e;return t.request({method:"eth_estimateGas",params:a?[r,n??"latest",a]:n?[r,n]:[r]})};const{accessList:o,authorizationList:s,blobs:i,blobVersionedHashes:u,blockNumber:l,blockTag:d,data:f,gas:h,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:g,value:w,stateOverride:v,...E}=await St(t,{...n,parameters:"local"===a?.type?void 0:["blobVersionedHashes"]}),B=(l?c(l):void 0)||d,k=gt(v),x=await(async()=>E.to?E.to:s&&s.length>0?await async function(e){const{authorization:t,signature:n}=e;return ht({hash:pt(t),signature:n??t})}({authorization:s[0]}).catch((()=>{throw new e("`to` is required. Could not infer from `authorizationList`")})):void 0)();G(n);const N=t.chain?.formatters?.transactionRequest?.format,T=(N||j)({...$(E,{format:N}),from:a?.address,accessList:o,authorizationList:s,blobs:i,blobVersionedHashes:u,data:f,gas:h,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:g,to:x,value:w});let I=BigInt(await r({block:B,request:T,rpcStateOverride:k}));if(s){const e=await Rt(t,{address:T.from});I+=(await Promise.all(s.map((async t=>{const{contractAddress:n}=t,o=await r({block:B,request:{authorizationList:void 0,data:f,from:a?.address,to:n,value:c(e)},rpcStateOverride:k}).catch((()=>100000n));return 2n*BigInt(o)})))).reduce(((e,t)=>e+t),0n)}return I}catch(o){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=A(e,n);return t instanceof S?e:t})();return new mt(r,{docsPath:t,...n})}(o,{...n,account:a,chain:t.chain})}}function qt(e,t){if(!R(e,{strict:!1}))throw new O({address:e});if(!R(t,{strict:!1}))throw new O({address:t});return e.toLowerCase()===t.toLowerCase()}const Ct="/docs/contract/decodeEventLog";function Ft(e){const{abi:t,data:n,strict:o,topics:s}=e,i=o??!0,[c,...u]=s;if(!c)throw new V({docsPath:Ct});const l=1===t.length?t[0]:t.find((e=>"event"===e.type&&c===a(r(e))));if(!l||!("name"in l)||"event"!==l.type)throw new Z(c,{docsPath:Ct});const{name:d,inputs:f}=l,h=f?.some((e=>!("name"in e&&e.name)));let p=h?[]:{};const m=f.filter((e=>"indexed"in e&&e.indexed));for(let r=0;r<m.length;r++){const e=m[r],t=u[r];if(!t)throw new W({abiItem:l,param:e});p[h?r:e.name||r]=Lt({param:e,value:t})}const y=f.filter((e=>!("indexed"in e&&e.indexed)));if(y.length>0)if(n&&"0x"!==n)try{const e=K(y,n);if(e)if(h)p=[...p,...e];else for(let t=0;t<y.length;t++)p[y[t].name]=e[t]}catch(b){if(i){if(b instanceof Y||b instanceof J)throw new Q({abiItem:l,data:n,params:y,size:X(n)});throw b}}else if(i)throw new Q({abiItem:l,data:"0x",params:y,size:0});return{eventName:d,args:Object.values(p).length>0?p:void 0}}function Lt({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(K([e],t)||[])[0]}function Dt(e){const{abi:t,args:n,logs:r,strict:i=!0}=e,c=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map((e=>{try{const r=t.find((t=>"event"===t.type&&e.topics[0]===a(t)));if(!r)return null;const u=Ft({...e,abi:[r],strict:i});return c&&!c.includes(u.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function a(e,t,n){try{return"address"===e.type?qt(t,n):"string"===e.type||"bytes"===e.type?o(s(t))===n:t===n}catch{return!1}}if(Array.isArray(t)&&Array.isArray(r))return r.every(((e,r)=>{if(null==e)return!0;const o=n[r];if(!o)return!1;return(Array.isArray(e)?e:[e]).some((e=>a(o,e,t[r])))}));return"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every((([e,r])=>{if(null==r)return!0;const o=n.find((t=>t.name===e));if(!o)return!1;return(Array.isArray(r)?r:[r]).some((n=>a(o,n,t[e])))}))}({args:u.args,inputs:r.inputs,matchArgs:n})?{...u,...e}:null}catch(r){let t,n;if(r instanceof Z)return null;if(r instanceof Q||r instanceof W){if(i)return null;t=r.abiItem.name,n=r.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...e,args:n?[]:{},eventName:t}}})).filter(Boolean)}async function _t(e,{address:t,blockHash:n,fromBlock:r,toBlock:a,event:o,events:s,args:i,strict:u}={}){const l=u??!1,d=s??(o?[o]:void 0);let f,h=[];if(d){h=[d.flatMap((e=>at({abi:[e],eventName:e.name,args:s?void 0:i})))],o&&(h=h[0])}f=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:"bigint"==typeof r?c(r):r,toBlock:"bigint"==typeof a?c(a):a}]});const p=f.map((e=>ee(e)));return d?Dt({abi:d,args:i,logs:p,strict:l}):p}async function Ut(e,n){const{abi:r,address:a,args:o,blockHash:s,eventName:i,fromBlock:c,toBlock:u,strict:l}=n,d=i?t({abi:r,name:i}):void 0,f=d?void 0:r.filter((e=>"event"===e.type));return tt(e,_t,"getLogs")({address:a,args:o,blockHash:s,event:d,events:f,fromBlock:c,toBlock:u,strict:l})}const Ht="/docs/contract/decodeFunctionResult";function Mt(e){const{abi:n,args:r,functionName:a,data:o}=e;let s=n[0];if(a){const e=t({abi:n,args:r,name:a});if(!e)throw new u(a,{docsPath:Ht});s=e}if("function"!==s.type)throw new u(void 0,{docsPath:Ht});if(!s.outputs)throw new te(s.name,{docsPath:Ht});const i=K(s.outputs,o);return i&&i.length>1?i:i&&1===i.length?i[0]:void 0}const Gt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],zt=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],jt=[...zt,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$t=[...zt,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Vt=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Zt=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Wt=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Kt="0x82ad56cb",Yt="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Jt="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Qt="/docs/contract/encodeDeployData";function Xt(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const a=t.find((e=>"type"in e&&"constructor"===e.type));if(!a)throw new ne({docsPath:Qt});if(!("inputs"in a))throw new re({docsPath:Qt});if(!a.inputs||0===a.inputs.length)throw new re({docsPath:Qt});const o=i(a.inputs,n);return d([r,o])}function en(){let e=()=>{},t=()=>{};return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}const tn=new Map;function nn({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:a}){const o=async()=>{const t=i();s();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{a&&Array.isArray(e)&&e.sort(a);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}})).catch((e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}}))},s=()=>tn.delete(t),i=()=>tn.get(t)||[],c=e=>tn.set(t,[...i(),e]);return{flush:s,async schedule(e){const{promise:t,resolve:a,reject:s}=en(),u=n?.([...i().map((({args:e})=>e)),e]);u&&o();return i().length>0?(c({args:e,resolve:a,reject:s}),t):(c({args:e,resolve:a,reject:s}),setTimeout(o,r),t)}}}async function rn(t,n){const{account:r=t.account,batch:a=Boolean(t.batch?.multicall),blockNumber:o,blockTag:s="latest",accessList:i,blobs:u,code:l,data:d,factory:h,factoryData:p,gas:m,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:v,to:E,value:B,stateOverride:k,...x}=n,N=r?z(r):void 0;if(l&&(h||p))throw new e("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&E)throw new e("Cannot provide both `code` & `to` as parameters.");const T=l&&d,I=h&&p&&E&&d,P=T||I,A=T?function(e){const{code:t,data:n}=e;return Xt({abi:ue(["constructor(bytes, bytes)"]),bytecode:Yt,args:[t,n]})}({code:l,data:d}):I?function(e){const{data:t,factory:n,factoryData:r,to:a}=e;return Xt({abi:ue(["constructor(address, bytes, address, bytes)"]),bytecode:Jt,args:[a,t,n,r]})}({data:d,factory:h,factoryData:p,to:E}):d;try{G(n);const e=(o?c(o):void 0)||s,r=gt(k),l=t.chain?.formatters?.transactionRequest?.format,d=(l||j)({...$(x,{format:l}),from:N?.address,accessList:i,blobs:u,data:A,gas:m,gasPrice:y,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:v,to:P?void 0:E,value:B});if(a&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(Kt)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:d})&&!r)try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:a,blockTag:o="latest",data:s,multicallAddress:i,to:u}=t;let l=i;if(!l){if(!e.chain)throw new ae;l=ce({blockNumber:a,chain:e.chain,contract:"multicall3"})}const d=a?c(a):void 0,h=d||o,{schedule:p}=nn({id:`${e.uid}.${h}`,wait:r,shouldSplitBatch:e=>e.reduce(((e,{data:t})=>e+(t.length-2)),0)>2*n,fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=ut({abi:Gt,args:[n],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{data:r,to:l},h]});return Mt({abi:Gt,args:[n],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:m,success:y}]=await p({data:s,to:u});if(!y)throw new f({data:m});return"0x"===m?{data:void 0}:{data:m}}(t,{...d,blockNumber:o,blockTag:s})}catch(S){if(!(S instanceof ae||S instanceof oe))throw S}const h=await t.request({method:"eth_call",params:r?[d,e,r]:[d,e]});return"0x"===h?{data:void 0}:{data:h}}catch(S){const r=function(t){if(!(t instanceof e))return;const n=t.walk();return"object"==typeof n?.data?n.data?.data:n.data}(S),{offchainLookup:a,offchainLookupSignature:o}=await et((()=>Promise.resolve().then((()=>or))),void 0);if(!1!==t.ccipRead&&r?.slice(0,10)===o&&E)return{data:await a(t,{data:r,to:E})};if(P&&"0x101bb98d"===r?.slice(0,10))throw new se({factory:h});throw ie(S,{...n,account:N,chain:t.chain})}}async function an(e,t){const{abi:n,address:r,args:a,functionName:o,...s}=t,i=ut({abi:n,args:a,functionName:o});try{const{data:t}=await tt(e,rn,"call")({...s,data:i,to:r});return Mt({abi:n,args:a,functionName:o,data:t||"0x"})}catch(c){throw dt(c,{abi:n,address:r,args:a,docsPath:"/docs/contract/readContract",functionName:o})}}const on=new Map,sn=new Map;let cn=0;function un(e,t,n){const r=++cn,a=()=>on.get(e)||[],o=()=>{const t=a();if(!t.some((e=>e.id===r)))return;const n=sn.get(e);1===t.length&&n&&n(),(()=>{const t=a();on.set(e,t.filter((e=>e.id!==r)))})()},s=a();if(on.set(e,[...s,{id:r,fns:t}]),s&&s.length>0)return o;const i={};for(const u in t)i[u]=(...e)=>{const t=a();if(0!==t.length)for(const n of t)n.fns[u]?.(...e)};const c=n(i);return"function"==typeof c&&sn.set(e,c),o}async function ln(e){return new Promise((t=>setTimeout(t,e)))}function dn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let a=!0;const o=()=>a=!1;return(async()=>{let s;t&&(s=await e({unpoll:o}));const i=await(n?.(s))??r;await ln(i);const c=async()=>{a&&(await e({unpoll:o}),await ln(r),c())};c()})(),o}const fn=new Map,hn=new Map;async function pn(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,fn),r=t(e,hn);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),a=r.response.get();if(a&&n>0){if((new Date).getTime()-a.created.getTime()<n)return a.data}let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const e=await o;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}async function mn(e,{cacheTime:t=e.cacheTime}={}){const n=await pn((()=>e.request({method:"eth_blockNumber"})),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t});var r;return BigInt(n)}async function yn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const a=r.map((e=>ee(e)));return"abi"in t&&t.abi?Dt({abi:t.abi,logs:a,strict:n}):a}async function bn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}class gn extends e{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const wn=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];let vn,En=256;function Bn(e=11){if(!vn||En+e>512){vn="",En=0;for(let e=0;e<256;e++)vn+=(256+256*Math.random()|0).toString(16).substring(1)}return vn.substring(En,En+++e)}const kn=new fe(8192);function xn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise(((a,o)=>{const s=async({count:i=0}={})=>{try{const t=await e();a(t)}catch(c){if(i<n&&await r({count:i,error:c}))return(async({error:e})=>{const n="function"==typeof t?t({count:i,error:e}):t;n&&await ln(n),s({count:i+1})})({error:c});o(c)}};s()}))}function Nn(t,n={}){return async(r,a={})=>{const{dedupe:s=!1,retryDelay:i=150,retryCount:c=3,uid:u}={...n,...a};return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(kn.get(n))return kn.get(n);const r=e().finally((()=>kn.delete(n)));return kn.set(n,r),r}((()=>xn((async()=>{try{return await t(r)}catch(n){const t=n;switch(t.code){case Re.code:throw new Re(t);case Se.code:throw new Se(t);case Ae.code:throw new Ae(t,{method:r.method});case Pe.code:throw new Pe(t);case m.code:throw new m(t);case de.code:throw new de(t);case Ie.code:throw new Ie(t);case Te.code:throw new Te(t);case Ne.code:throw new Ne(t);case xe.code:throw new xe(t,{method:r.method});case ke.code:throw new ke(t);case Be.code:throw new Be(t);case ye.code:throw new ye(t);case Ee.code:throw new Ee(t);case ve.code:throw new ve(t);case we.code:throw new we(t);case ge.code:throw new ge(t);case be.code:throw new be(t);case 5e3:throw new ye(t);default:if(n instanceof e)throw n;throw new me(t)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof pe){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return(1<<e)*i},retryCount:c,shouldRetry:({error:e})=>function(e){if("code"in e&&"number"==typeof e.code)return-1===e.code||(e.code===ke.code||e.code===m.code);if(e instanceof pe&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(e)})),{enabled:s,id:s?o(he(`${u}.${le(r)}`)):void 0})}}class Tn extends e{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function In(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Pn=In();function An(e,t={}){return{async request(n){const{body:r,onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:s=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=i;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise(((a,o)=>{(async()=>{let s;try{const i=new AbortController;n>0&&(s=setTimeout((()=>{r?i.abort():o(t)}),n)),a(await e({signal:i?.signal||null}))}catch(i){"AbortError"===i?.name&&o(t),o(i)}finally{clearTimeout(s)}})()}))}((async({signal:t})=>{const n={...i,body:Array.isArray(r)?le(r.map((e=>({jsonrpc:"2.0",id:e.id??Pn.take(),...e})))):le({jsonrpc:"2.0",id:r.id??Pn.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(s>0?t:null)},o=new Request(e,n),d=await(a?.(o,n))??{...n,url:e};return await fetch(d.url??e,d)}),{errorInstance:new Oe({body:r,url:e}),timeout:s,signal:!0});let n;if(o&&await o(t),t.headers.get("Content-Type")?.startsWith("application/json"))n=await t.json();else{n=await t.text();try{n=JSON.parse(n||"{}")}catch(d){if(t.ok)throw d;n={error:n}}}if(!t.ok)throw new pe({body:r,details:le(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(d){if(d instanceof pe)throw d;if(d instanceof Oe)throw d;throw new pe({body:r,cause:d,url:e})}}}}function Sn(e,t={}){const{batch:n,fetchOptions:r,key:a="http",name:o="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:f=1e3,wait:h=0}="object"==typeof n?n:{},p=t.retryCount??l,m=d??t.timeout??1e4,y=e||u?.rpcUrls.default.http[0];if(!y)throw new Tn;const g=An(y,{fetchOptions:r,onRequest:s,onResponse:i,timeout:m});return function({key:e,name:t,request:n,retryCount:r=3,retryDelay:a=150,timeout:o,type:s},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:a,timeout:o,type:s},request:Nn(n,{retryCount:r,retryDelay:a,uid:Bn()}),value:i}}({key:a,name:o,async request({method:e,params:t}){const r={method:e,params:t},{schedule:a}=nn({id:y,wait:h,shouldSplitBatch:e=>e.length>f,fn:e=>g.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:o,result:s}]=await(async e=>n?a(e):[await g.request({body:e})])(r);if(o)throw new b({body:r,error:o,url:y});return s},retryCount:p,retryDelay:c,timeout:m,type:"http"},{fetchOptions:r,url:y})}}function Rn(t,n){if(!(t instanceof e))return!1;const r=t.walk((e=>e instanceof y));return r instanceof y&&("ResolverNotFound"===r.data?.errorName||("ResolverWildcardNotSupported"===r.data?.errorName||("ResolverNotContract"===r.data?.errorName||("ResolverError"===r.data?.errorName||("HttpError"===r.data?.errorName||(!!r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===n&&r.reason===qe[50]))))))}function On(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return v(t)?t:null}function qn(e){let t=new Uint8Array(32).fill(0);if(!e)return Ce(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const e=On(n[r]),a=e?s(e):o(Fe(n[r]),"bytes");t=o(Le([t,a]),"bytes")}return Ce(t)}function Cn(e){const t=new Uint8Array(32).fill(0);return e?On(e)||o(Fe(e)):Ce(t)}function Fn(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(Fe(t).byteLength+2);let r=0;const a=t.split(".");for(let o=0;o<a.length;o++){let e=Fe(a[o]);e.byteLength>255&&(e=Fe(`[${Cn(a[o]).slice(2)}]`)),n[r]=e.length,n.set(e,r+1),r+=e.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}class Ln extends e{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Dn extends e{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class _n extends e{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Un extends e{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Hn=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Mn=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Gn=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,zn=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function jn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function $n({uri:e,gatewayUrls:t}){const n=Gn.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=jn(t?.ipfs,"https://ipfs.io"),a=jn(t?.arweave,"https://arweave.net"),o=e.match(Hn),{protocol:s,subpath:i,target:c,subtarget:u=""}=o?.groups||{},l="ipns:/"===s||"ipns/"===i,d="ipfs:/"===s||"ipfs/"===i||Mn.test(e);if(e.startsWith("http")&&!l&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(zn,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new _n({uri:e})}function Vn(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ln({data:e});return e.image||e.image_url||e.image_data}async function Zn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=$n({uri:t,gatewayUrls:e});if(r)return n;const a=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(a)return n;throw new _n({uri:t})}async function Wn(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,a]=t.split("/"),[o,s]=n.split(":"),[i,c]=r.split(":");if(!o||"eip155"!==o.toLowerCase())throw new Dn({reason:"Only EIP-155 supported"});if(!s)throw new Dn({reason:"Chain ID not found"});if(!c)throw new Dn({reason:"Contract address not found"});if(!a)throw new Dn({reason:"Token ID not found"});if(!i)throw new Dn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:i.toLowerCase(),contractAddress:c,tokenID:a}}(n),a=await async function(e,{nft:t}){if("erc721"===t.namespace)return an(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return an(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Un({namespace:t.namespace})}(e,{nft:r}),{uri:o,isOnChain:s,isEncoded:i}=$n({uri:a,gatewayUrls:t});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const e=i?atob(o.replace("data:application/json;base64,","")):o;return Zn({uri:Vn(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await Zn({gatewayUrls:e,uri:Vn(n)})}catch{throw new _n({uri:t})}}({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):Zn({uri:n,gatewayUrls:t})}async function Kn(e,{blockNumber:t,blockTag:n,name:r,key:a,gatewayUrls:o,strict:s,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ce({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const s={address:c,abi:jt,functionName:"resolve",args:[E(Fn(r)),ut({abi:Vt,functionName:"text",args:[qn(r),a]})],blockNumber:t,blockTag:n},i=tt(e,an,"readContract"),u=o?await i({...s,args:[...s.args,o]}):await i(s);if("0x"===u[0])return null;const l=Mt({abi:Vt,functionName:"text",data:u[0]});return""===l?null:l}catch(u){if(s)throw u;if(Rn(u,"resolve"))return null;throw u}}async function Yn(e,{address:t,args:n,event:r,events:a,fromBlock:o,strict:s,toBlock:i}={}){const u=a??(r?[r]:void 0),l=st(e,{method:"eth_newFilter"});let d=[];if(u){d=[u.flatMap((e=>at({abi:[e],eventName:e.name,args:n})))],r&&(d=d[0])}const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?c(o):o,toBlock:"bigint"==typeof i?c(i):i,...d.length?{topics:d}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:l(f),strict:Boolean(s),toBlock:i,type:"event"}}async function Jn(e){const t=st(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Qn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=void 0!==n?c(n):void 0,o=await e.request({method:"eth_getCode",params:[t,a||r]},{dedupe:Boolean(a)});if("0x"!==o)return o}async function Xn(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const o=n?c(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[c(t),o||r,a]},{dedupe:Boolean(o)}))}class er extends e{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:a,urls:o}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map((e=>`    ${_e(e)}`))],`  Sender: ${a}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class tr extends e{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${_e(t)}`,`Response: ${le(e)}`],name:"OffchainLookupResponseMalformedError"})}}class nr extends e{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const rr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function ar({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const s=n[o],i=s.includes("{data}")?"GET":"POST",c="POST"===i?{data:e,sender:t}:void 0,u="POST"===i?{"Content-Type":"application/json"}:{};try{const n=await fetch(s.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:i});let a;if(a=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new pe({body:c,details:a?.error?le(a.error):n.statusText,headers:n.headers,status:n.status,url:s});continue}if(!v(a)){r=new tr({result:a,url:s});continue}return a}catch(a){r=new pe({body:c,details:a.message,url:s})}}throw r}const or=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:ar,offchainLookup:async function(e,{blockNumber:t,blockTag:n,data:r,to:a}){const{args:o}=Ue({data:r,abi:[rr]}),[s,c,u,l,d]=o,{ccipRead:f}=e,h=f&&"function"==typeof f?.request?f.request:ar;try{if(!qt(a,s))throw new nr({sender:s,to:a});const r=await h({data:u,sender:s,urls:c}),{data:o}=await rn(e,{blockNumber:t,blockTag:n,data:Le([l,i([{type:"bytes"},{type:"bytes"}],[r,d])]),to:a});return o}catch(p){throw new er({callbackSelector:l,cause:p,data:r,extraData:d,sender:s,urls:c})}},offchainLookupAbiItem:rr,offchainLookupSignature:"0x556f1830"},Symbol.toStringTag,{value:"Module"}));class sr extends e{constructor({domain:e}){super(`Invalid domain "${le(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class ir extends e{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cr extends e{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function ur(e){const{domain:t={},message:n,primaryType:r}=e,a={EIP712Domain:mr({domain:t}),...e.types};!function(e){const{domain:t,message:n,primaryType:r,types:a}=e,o=(e,t)=>{for(const n of e){const{name:e,type:r}=n,s=t[e],i=r.match(He);if(i&&("number"==typeof s||"bigint"==typeof s)){const[e,t,n]=i;c(s,{signed:"int"===t,size:Number.parseInt(n)/8})}if("address"===r&&"string"==typeof s&&!R(s))throw new O({address:s});const u=r.match(Me);if(u){const[e,t]=u;if(t&&X(s)!==Number.parseInt(t))throw new Ge({expectedSize:Number.parseInt(t),givenSize:X(s)})}const l=a[r];l&&(yr(r),o(l,s))}};if(a.EIP712Domain&&t){if("object"!=typeof t)throw new sr({domain:t});o(a.EIP712Domain,t)}if("EIP712Domain"!==r){if(!a[r])throw new ir({primaryType:r,types:a});o(a[r],n)}}({domain:t,message:n,primaryType:r,types:a});const s=["0x1901"];return t&&s.push(function({domain:e,types:t}){return lr({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:a})),"EIP712Domain"!==r&&s.push(lr({data:n,primaryType:r,types:a})),o(Le(s))}function lr({data:e,primaryType:t,types:n}){const r=dr({data:e,primaryType:t,types:n});return o(r)}function dr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],a=[fr({primaryType:t,types:n})];for(const o of n[t]){const[t,s]=pr({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(t),a.push(s)}return i(r,a)}function fr({primaryType:e,types:t}){const n=E(function({primaryType:e,types:t}){let n="";const r=hr({primaryType:e,types:t});r.delete(e);const a=[e,...Array.from(r).sort()];for(const o of a)n+=`${o}(${t[o].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return o(n)}function hr({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),a=r?.[0];if(n.has(a)||void 0===t[a])return n;n.add(a);for(const o of t[a])hr({primaryType:o.type,types:t},n);return n}function pr({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},o(dr({data:r,primaryType:n,types:e}))];if("bytes"===n){return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},o(r)]}if("string"===n)return[{type:"bytes32"},o(E(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),s=r.map((n=>pr({name:t,type:a,types:e,value:n})));return[{type:"bytes32"},o(i(s.map((([e])=>e)),s.map((([,e])=>e))))]}return[{type:n},r]}function mr({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function yr(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new cr({type:e})}function br(e,t){return o(function(e){const t="string"==typeof e?he(e):"string"==typeof e.raw?e.raw:Ce(e.raw),n=he(`Ethereum Signed Message:\n${X(t)}`);return Le([n,t])}(e),t)}const gr="0x6492649264926492649264926492649264926492649264926492649264926492";async function wr(e,{address:t,blockNumber:n,blockTag:r,storageKeys:a}){const o=r??"latest",s=void 0!==n?c(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?k(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,a,s||o]}))}async function vr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:a,index:o}){const s=r||"latest",i=void 0!==n?c(n):void 0;let u=null;if(a?u=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,c(o)]},{dedupe:!0}):(i||s)&&(u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||s,c(o)]},{dedupe:Boolean(i)})),!u)throw new je({blockHash:t,blockNumber:n,blockTag:s,hash:a,index:o});return(e.chain?.formatters?.transaction?.format||$e)(u)}async function Er(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ve({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ze)(n)}function Br(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function kr(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function xr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Nr="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Tr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ir=(e,t)=>e<<32-t|e>>>t;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pr(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),kr(e),e}class Ar{clone(){return this._cloneInto()}}function Sr(e){const t=t=>e().update(Pr(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Rr(e=32){if(Nr&&"function"==typeof Nr.getRandomValues)return Nr.getRandomValues(new Uint8Array(e));if(Nr&&"function"==typeof Nr.randomBytes)return Nr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Or=(e,t,n)=>e&t^e&n^t&n;class qr extends Ar{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tr(this.buffer)}update(e){xr(this);const{view:t,buffer:n,blockLen:r}=this,a=(e=Pr(e)).length;for(let o=0;o<a;){const s=Math.min(r-this.pos,a-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Tr(e);for(;r<=a-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){xr(this),function(e,t){kr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let l=o;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const a=BigInt(32),o=BigInt(4294967295),s=Number(n>>a&o),i=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,i,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const s=Tr(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:a,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=a,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Cr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lr=new Uint32Array(64);class Dr extends qr{constructor(){super(64,32,8,!1),this.A=0|Fr[0],this.B=0|Fr[1],this.C=0|Fr[2],this.D=0|Fr[3],this.E=0|Fr[4],this.F=0|Fr[5],this.G=0|Fr[6],this.H=0|Fr[7]}get(){const{A:e,B:t,C:n,D:r,E:a,F:o,G:s,H:i}=this;return[e,t,n,r,a,o,s,i]}set(e,t,n,r,a,o,s,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|o,this.G=0|s,this.H=0|i}process(e,t){for(let d=0;d<16;d++,t+=4)Lr[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Lr[d-15],t=Lr[d-2],n=Ir(e,7)^Ir(e,18)^e>>>3,r=Ir(t,17)^Ir(t,19)^t>>>10;Lr[d]=r+Lr[d-7]+n+Lr[d-16]|0}let{A:n,B:r,C:a,D:o,E:s,F:i,G:c,H:u}=this;for(let d=0;d<64;d++){const e=u+(Ir(s,6)^Ir(s,11)^Ir(s,25))+((l=s)&i^~l&c)+Cr[d]+Lr[d]|0,t=(Ir(n,2)^Ir(n,13)^Ir(n,22))+Or(n,r,a)|0;u=c,c=i,i=s,s=o+e|0,o=a,a=r,r=n,n=e+t|0}var l;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,i=i+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,a,o,s,i,c,u)}roundClean(){Lr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _r=Sr((()=>new Dr));class Ur extends Ar{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Br(e.outputLen),Br(e.blockLen)}(e);const n=Pr(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,a=new Uint8Array(r);a.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return xr(this),this.iHash.update(e),this}digestInto(e){xr(this),kr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:a,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hr=(e,t,n)=>new Ur(e,t).update(n).digest();Hr.create=(e,t)=>new Ur(e,t)
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */;const Mr=BigInt(0),Gr=BigInt(1),zr=BigInt(2);function jr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function $r(e){if(!jr(e))throw new Error("Uint8Array expected")}function Vr(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const Zr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Wr(e){$r(e);let t="";for(let n=0;n<e.length;n++)t+=Zr[e[n]];return t}function Kr(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Yr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Mr:BigInt("0x"+e)}const Jr=48,Qr=57,Xr=65,ea=70,ta=97,na=102;function ra(e){return e>=Jr&&e<=Qr?e-Jr:e>=Xr&&e<=ea?e-(Xr-10):e>=ta&&e<=na?e-(ta-10):void 0}function aa(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let a=0,o=0;a<n;a++,o+=2){const t=ra(e.charCodeAt(o)),n=ra(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[a]=16*t+n}return r}function oa(e){return Yr(Wr(e))}function sa(e){return $r(e),Yr(Wr(Uint8Array.from(e).reverse()))}function ia(e,t){return aa(e.toString(16).padStart(2*t,"0"))}function ca(e,t){return ia(e,t).reverse()}function ua(e,t,n){let r;if("string"==typeof t)try{r=aa(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else{if(!jr(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const a=r.length;if("number"==typeof n&&a!==n)throw new Error(e+" of length "+n+" expected, got "+a);return r}function la(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];$r(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,a=0;r<e.length;r++){const t=e[r];n.set(t,a),a+=t.length}return n}function da(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}const fa=e=>"bigint"==typeof e&&Mr<=e;function ha(e,t,n){return fa(e)&&fa(t)&&fa(n)&&t<=e&&e<n}function pa(e,t,n,r){if(!ha(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function ma(e){let t;for(t=0;e>Mr;e>>=Gr,t+=1);return t}const ya=e=>(zr<<BigInt(e-1))-Gr,ba=e=>new Uint8Array(e),ga=e=>Uint8Array.from(e);function wa(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=ba(e),a=ba(e),o=0;const s=()=>{r.fill(1),a.fill(0),o=0},i=(...e)=>n(a,r,...e),c=(e=ba())=>{a=i(ga([0]),e),r=i(),0!==e.length&&(a=i(ga([1]),e),r=i())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=i();const t=r.slice();n.push(t),e+=r.length}return la(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}const va={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||jr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ea(e,t,n={}){const r=(t,n,r)=>{const a=va[n];if("function"!=typeof a)throw new Error("invalid validator function");const o=e[t];if(!(r&&void 0===o||a(o,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[a,o]of Object.entries(t))r(a,o,!1);for(const[a,o]of Object.entries(n))r(a,o,!0);return e}function Ba(e){const t=new WeakMap;return(n,...r)=>{const a=t.get(n);if(void 0!==a)return a;const o=e(n,...r);return t.set(n,o),o}}const ka=Object.freeze(Object.defineProperty({__proto__:null,aInRange:pa,abool:Vr,abytes:$r,bitGet:function(e,t){return e>>BigInt(t)&Gr},bitLen:ma,bitMask:ya,bitSet:function(e,t,n){return e|(n?Gr:Mr)<<BigInt(t)},bytesToHex:Wr,bytesToNumberBE:oa,bytesToNumberLE:sa,concatBytes:la,createHmacDrbg:wa,ensureBytes:ua,equalBytes:function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},hexToBytes:aa,hexToNumber:Yr,inRange:ha,isBytes:jr,memoized:Ba,notImplemented:()=>{throw new Error("not implemented")},numberToBytesBE:ia,numberToBytesLE:ca,numberToHexUnpadded:Kr,numberToVarBytesBE:function(e){return aa(Kr(e))},utf8ToBytes:da,validateObject:Ea},Symbol.toStringTag,{value:"Module"})),xa=BigInt(0),Na=BigInt(1),Ta=BigInt(2),Ia=BigInt(3),Pa=BigInt(4),Aa=BigInt(5),Sa=BigInt(8);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ra(e,t){const n=e%t;return n>=xa?n:t+n}function Oa(e,t,n){if(t<xa)throw new Error("invalid exponent, negatives unsupported");if(n<=xa)throw new Error("invalid modulus");if(n===Na)return xa;let r=Na;for(;t>xa;)t&Na&&(r=r*e%n),e=e*e%n,t>>=Na;return r}function qa(e,t,n){let r=e;for(;t-- >xa;)r*=r,r%=n;return r}function Ca(e,t){if(e===xa)throw new Error("invert: expected non-zero number");if(t<=xa)throw new Error("invert: expected positive modulus, got "+t);let n=Ra(e,t),r=t,a=xa,o=Na;for(;n!==xa;){const e=r%n,t=a-o*(r/n);r=n,n=e,a=o,o=t}if(r!==Na)throw new Error("invert: does not exist");return Ra(a,t)}function Fa(e){if(e%Pa===Ia){const t=(e+Na)/Pa;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Sa===Aa){const t=(e-Aa)/Sa;return function(e,n){const r=e.mul(n,Ta),a=e.pow(r,t),o=e.mul(n,a),s=e.mul(e.mul(o,Ta),a),i=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}return function(e){const t=(e-Na)/Ta;let n,r,a;for(n=e-Na,r=0;n%Ta===xa;n/=Ta,r++);for(a=Ta;a<e&&Oa(a,t,e)!==e-Na;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+Na)/Pa;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Na)/Ta;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let i=r,c=e.pow(e.mul(e.ONE,a),n),u=e.pow(s,o),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<i&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Na<<BigInt(i-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),i=t}return u}}(e)}const La=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Da(e){return Ea(e,La.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function _a(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ua(e,t,n=!1,r={}){if(e<=xa)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:o}=_a(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const i=Object.freeze({ORDER:e,BITS:a,BYTES:o,MASK:ya(a),ZERO:xa,ONE:Na,create:t=>Ra(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return xa<=t&&t<e},is0:e=>e===xa,isOdd:e=>(e&Na)===Na,neg:t=>Ra(-t,e),eql:(e,t)=>e===t,sqr:t=>Ra(t*t,e),add:(t,n)=>Ra(t+n,e),sub:(t,n)=>Ra(t-n,e),mul:(t,n)=>Ra(t*n,e),pow:(e,t)=>function(e,t,n){if(n<xa)throw new Error("invalid exponent, negatives unsupported");if(n===xa)return e.ONE;if(n===Na)return t;let r=e.ONE,a=t;for(;n>xa;)n&Na&&(r=e.mul(r,a)),a=e.sqr(a),n>>=Na;return r}(i,e,t),div:(t,n)=>Ra(t*Ca(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ca(t,e),sqrt:r.sqrt||(t=>(s||(s=Fa(e)),s(i,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,a)=>e.is0(r)?t:(n[a]=t,e.mul(t,r))),e.ONE),a=e.inv(r);return t.reduceRight(((t,r,a)=>e.is0(r)?t:(n[a]=e.mul(t,n[a]),e.mul(t,r))),a),n}(i,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ca(e,o):ia(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return n?sa(e):oa(e)}});return Object.freeze(i)}function Ha(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ma(e){const t=Ha(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ga=BigInt(0),za=BigInt(1);function ja(e,t){const n=t.negate();return e?n:t}function $a(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Va(e,t){$a(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Za=new WeakMap,Wa=new WeakMap;function Ka(e){return Wa.get(e)||1}function Ya(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,o=ma(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,i=(1<<s)-1,c=new Array(i+1).fill(a);let u=a;for(let l=Math.floor((t.BITS-1)/s)*s;l>=0;l-=s){c.fill(a);for(let t=0;t<r.length;t++){const e=r[t],a=Number(e>>BigInt(l)&BigInt(i));c[a]=c[a].add(n[t])}let e=a;for(let t=c.length-1,n=a;t>0;t--)n=n.add(c[t]),e=e.add(n);if(u=u.add(e),0!==l)for(let t=0;t<s;t++)u=u.double()}return u}function Ja(e){return Da(e.Fp),Ea(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._a(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qa(e){void 0!==e.lowS&&Vr("lowS",e.lowS),void 0!==e.prehash&&Vr("prehash",e.prehash)}const{bytesToNumberBE:Xa,hexToBytes:eo}=ka,to={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{const{Err:n}=to;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,a=Kr(r);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Kr(a.length/2|128):"";return Kr(e)+o+a+t},decode(e,t){const{Err:n}=to;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const a=t[r++];let o=0;if(!!(128&a)){const e=127&a;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=a;const s=t.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=to;if(e<no)throw new t("integer: negative integers are not allowed");let n=Kr(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=to;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Xa(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=to,a="string"==typeof e?eo(e):e;$r(a);const{v:o,l:s}=r.decode(48,a);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,o),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=to,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},no=BigInt(0),ro=BigInt(1),ao=BigInt(2),oo=BigInt(3),so=BigInt(4);function io(e){const t=function(e){const t=Ja(e);Ea(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a}=t;if(n){if(!r.eql(a,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=Ua(t.n,t.nBitLength),a=t.toBytes||((e,t,r)=>{const a=t.toAffine();return la(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:a}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),a)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:a,n:o}=t;if(n&&"bigint"!=typeof e){if(jr(e)&&(e=Wr(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:oa(ua("private key",e,r))}catch(i){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return a&&(s=Ra(s,o)),pa("private key",s,ro,o),s}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=Ba(((e,t)=>{const{px:r,py:a,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:a};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const i=n.mul(r,t),c=n.mul(a,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:i,y:c}})),l=Ba((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:a}=e.toAffine();if(!n.isValid(r)||!n.isValid(a))throw new Error("bad point: x or y not FE");const o=n.sqr(a),i=s(r);if(!n.eql(o,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const a=e=>n.eql(e,n.ZERO);return a(t)&&a(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(ua("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(i(e))}static msm(e,t){return Ya(d,r,e,t)}_setWindowSize(e){h.setWindowSize(this,e)}assertValidity(){l(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:a}=this,{px:o,py:s,pz:i}=e,u=n.eql(n.mul(t,i),n.mul(o,a)),l=n.eql(n.mul(r,i),n.mul(s,a));return u&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,a=n.mul(r,oo),{px:o,py:s,pz:i}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,f=n.mul(o,o),h=n.mul(s,s),p=n.mul(i,i),m=n.mul(o,s);return m=n.add(m,m),l=n.mul(o,i),l=n.add(l,l),c=n.mul(e,l),u=n.mul(a,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(a,l),p=n.mul(e,p),m=n.sub(f,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,p),f=n.mul(f,m),u=n.add(u,f),p=n.mul(s,i),p=n.add(p,p),f=n.mul(p,m),c=n.sub(c,f),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new d(c,u,l)}add(e){c(e);const{px:r,py:a,pz:o}=this,{px:s,py:i,pz:u}=e;let l=n.ZERO,f=n.ZERO,h=n.ZERO;const p=t.a,m=n.mul(t.b,oo);let y=n.mul(r,s),b=n.mul(a,i),g=n.mul(o,u),w=n.add(r,a),v=n.add(s,i);w=n.mul(w,v),v=n.add(y,b),w=n.sub(w,v),v=n.add(r,o);let E=n.add(s,u);return v=n.mul(v,E),E=n.add(y,g),v=n.sub(v,E),E=n.add(a,o),l=n.add(i,u),E=n.mul(E,l),l=n.add(b,g),E=n.sub(E,l),h=n.mul(p,v),l=n.mul(m,g),h=n.add(l,h),l=n.sub(b,h),h=n.add(b,h),f=n.mul(l,h),b=n.add(y,y),b=n.add(b,y),g=n.mul(p,g),v=n.mul(m,v),b=n.add(b,g),g=n.sub(y,g),g=n.mul(p,g),v=n.add(v,g),y=n.mul(b,v),f=n.add(f,y),y=n.mul(E,v),l=n.mul(w,l),l=n.sub(l,y),y=n.mul(w,b),h=n.mul(E,h),h=n.add(h,y),new d(l,f,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:a}=t;pa("scalar",e,no,a);const o=d.ZERO;if(e===no)return o;if(this.is0()||e===ro)return this;if(!r||h.hasPrecomputes(this))return h.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:s,k1:i,k2neg:c,k2:u}=r.splitScalar(e),l=o,f=o,p=this;for(;i>no||u>no;)i&ro&&(l=l.add(p)),u&ro&&(f=f.add(p)),p=p.double(),i>>=ro,u>>=ro;return s&&(l=l.negate()),c&&(f=f.negate()),f=new d(n.mul(f.px,r.beta),f.py,f.pz),l.add(f)}multiply(e){const{endo:r,n:a}=t;let o,s;if(pa("scalar",e,ro,a),r){const{k1neg:t,k1:a,k2neg:i,k2:c}=r.splitScalar(e);let{p:u,f:l}=this.wNAF(a),{p:f,f:p}=this.wNAF(c);u=h.constTimeNegate(t,u),f=h.constTimeNegate(i,f),f=new d(n.mul(f.px,r.beta),f.py,f.pz),o=u.add(f),s=l.add(p)}else{const{p:t,f:n}=this.wNAF(e);o=t,s=n}return d.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,a=(e,t)=>t!==no&&t!==ro&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=a(this,t).add(a(e,n));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===ro)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===ro?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return Vr("isCompressed",e),this.assertValidity(),a(d,this,e)}toHex(e=!0){return Vr("isCompressed",e),Wr(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,h=(p=d,m=t.endo?Math.ceil(f/2):f,{constTimeNegate:ja,hasPrecomputes:e=>1!==Ka(e),unsafeLadder(e,t,n=p.ZERO){let r=e;for(;t>Ga;)t&za&&(n=n.add(r)),r=r.double(),t>>=za;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=Va(t,m),a=[];let o=e,s=o;for(let i=0;i<n;i++){s=o,a.push(s);for(let e=1;e<r;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(e,t,n){const{windows:r,windowSize:a}=Va(e,m);let o=p.ZERO,s=p.BASE;const i=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let l=0;l<r;l++){const e=l*a;let r=Number(n&i);n>>=u,r>a&&(r-=c,n+=za);const d=e,f=e+Math.abs(r)-1,h=l%2!=0,p=r<0;0===r?s=s.add(ja(h,t[d])):o=o.add(ja(p,t[f]))}return{p:o,f:s}},wNAFUnsafe(e,t,n,r=p.ZERO){const{windows:a,windowSize:o}=Va(e,m),s=BigInt(2**e-1),i=2**e,c=BigInt(e);for(let u=0;u<a;u++){const e=u*o;if(n===Ga)break;let a=Number(n&s);if(n>>=c,a>o&&(a-=i,n+=za),0===a)continue;let l=t[e+Math.abs(a)-1];a<0&&(l=l.negate()),r=r.add(l)}return r},getPrecomputes(e,t,n){let r=Za.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Za.set(t,n(r))),r},wNAFCached(e,t,n){const r=Ka(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const a=Ka(e);return 1===a?this.unsafeLadder(e,t,r):this.wNAFUnsafe(a,this.getPrecomputes(a,e,n),t,r)},setWindowSize(e,t){$a(t,m),Wa.set(e,t),Za.delete(e)}});var p,m;return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:i,weierstrassEquation:s,isWithinCurveOrder:function(e){return ha(e,ro,t.n)}}}function co(e){const t=function(e){const t=Ja(e);return Ea(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,a=n.BYTES+1,o=2*n.BYTES+1;function s(e){return Ra(e,r)}function i(e){return Ca(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=io({...t,toBytes(e,t,r){const a=t.toAffine(),o=n.toBytes(a.x),s=la;return Vr("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(a.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==a||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+a+", or uncompressed "+o+", got "+t)}{const e=oa(s);if(!ha(e,ro,n.ORDER))throw new Error("Point is not on curve");const t=l(e);let a;try{a=n.sqrt(t)}catch(i){const e=i instanceof Error?": "+i.message:"";throw new Error("Point is not on curve"+e)}return!(1&~r)!==((a&ro)===ro)&&(a=n.neg(a)),{x:e,y:a}}}}),f=e=>Wr(ia(e,t.nByteLength));function h(e){return e>r>>ro}const p=(e,t,n)=>oa(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=ua("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=to.toSig(ua("DER",e));return new m(t,n)}assertValidity(){pa("r",this.r,ro,r),pa("s",this.s,ro,r)}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s:a,recovery:o}=this,u=w(ua("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&o?"03":"02",h=c.fromHex(d+f(l)),p=i(l),m=s(-u*p),y=s(a*p),b=c.BASE.multiplyAndAddUnsafe(h,m,y);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return aa(this.toDERHex())}toDERHex(){return to.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return aa(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Ma(t.n);return function(e,t,n=!1){const r=e.length,a=Ha(t),o=Ma(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=Ra(n?oa(e):sa(e),t-Na)+Na;return n?ca(s,a):ia(s,a)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=jr(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===a||r===o:n?r===2*a||r===2*o:e instanceof c}const g=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=oa(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(g(e))},v=ya(t.nBitLength);function E(e){return pa("num < 2^"+t.nBitLength,e,no,v),ia(e,t.nByteLength)}function B(e,r,a=k){if(["recovered","canonical"].some((e=>e in a)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=t;let{lowS:f,prehash:p,extraEntropy:y}=a;null==f&&(f=!0),e=ua("msgHash",e),Qa(a),p&&(e=ua("prehashed msgHash",o(e)));const b=w(e),v=u(r),B=[E(v),E(b)];if(null!=y&&!1!==y){const e=!0===y?l(n.BYTES):y;B.push(ua("extraEntropy",e))}const x=la(...B),N=b;return{seed:x,k2sig:function(e){const t=g(e);if(!d(t))return;const n=i(t),r=c.BASE.multiply(t).toAffine(),a=s(r.x);if(a===no)return;const o=s(n*s(N+a*v));if(o===no)return;let u=(r.x===a?0:2)|Number(r.y&ro),l=o;return f&&h(o)&&(l=function(e){return h(e)?s(-e):e}(o),u^=1),new m(a,l,u)}}}const k={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=k){const{seed:a,k2sig:o}=B(e,n,r),s=t;return wa(s.hash.outputLen,s.nByteLength,s.hmac)(a,o)},verify:function(e,n,r,a=x){const o=e;n=ua("msgHash",n),r=ua("publicKey",r);const{lowS:u,prehash:l,format:d}=a;if(Qa(a),"strict"in a)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const f="string"==typeof o||jr(o),h=!f&&!d&&"object"==typeof o&&null!==o&&"bigint"==typeof o.r&&"bigint"==typeof o.s;if(!f&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,y;try{if(h&&(p=new m(o.r,o.s)),f){try{"compact"!==d&&(p=m.fromDER(o))}catch(T){if(!(T instanceof to.Err))throw T}p||"der"===d||(p=m.fromCompact(o))}y=c.fromHex(r)}catch(I){return!1}if(!p)return!1;if(u&&p.hasHighS())return!1;l&&(n=t.hash(n));const{r:b,s:g}=p,v=w(n),E=i(g),B=s(v*E),k=s(b*E),N=c.BASE.multiplyAndAddUnsafe(y,B,k)?.toAffine();return!!N&&s(N.x)===b},ProjectivePoint:c,Signature:m,utils:y}}function uo(e,t){if(Da(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=function(e,t){const n=e.ORDER;let r=no;for(let p=n-ro;p%ao===no;p/=ao)r+=ro;const a=r,o=ao<<a-ro-ro,s=o*ao,i=(n-ro)/s,c=(i-ro)/ao,u=s-ro,l=o,d=e.pow(t,i),f=e.pow(t,(i+ro)/ao);let h=(t,n)=>{let r=d,o=e.pow(n,u),s=e.sqr(o);s=e.mul(s,n);let i=e.mul(t,s);i=e.pow(i,c),i=e.mul(i,o),o=e.mul(i,n),s=e.mul(i,t);let h=e.mul(s,o);i=e.pow(h,l);let p=e.eql(i,e.ONE);o=e.mul(s,f),i=e.mul(h,r),s=e.cmov(o,s,p),h=e.cmov(i,h,p);for(let c=a;c>ro;c--){let t=c-ao;t=ao<<t-ro;let n=e.pow(h,t);const a=e.eql(n,e.ONE);o=e.mul(s,r),r=e.mul(r,r),n=e.mul(h,r),s=e.cmov(o,s,a),h=e.cmov(n,h,a)}return{isValid:p,value:s}};if(e.ORDER%so===oo){const n=(e.ORDER-oo)/so,r=e.sqrt(e.neg(t));h=(t,a)=>{let o=e.sqr(a);const s=e.mul(t,a);o=e.mul(o,s);let i=e.pow(o,n);i=e.mul(i,s);const c=e.mul(i,r),u=e.mul(e.sqr(i),a),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,i,l)}}}return h}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let a,o,s,i,c,u,l,d;a=e.sqr(r),a=e.mul(a,t.Z),o=e.sqr(a),o=e.add(o,a),s=e.add(o,e.ONE),s=e.mul(s,t.B),i=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),i=e.mul(i,t.A),o=e.sqr(s),u=e.sqr(i),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,i),c=e.mul(u,t.B),o=e.add(o,c),l=e.mul(a,s);const{isValid:f,value:h}=n(o,u);d=e.mul(a,r),d=e.mul(d,h),l=e.cmov(l,s,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,i),{x:l,y:d}}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lo(e){return{hash:e,hmac:(t,...n)=>Hr(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];kr(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,a=0;r<e.length;r++){const t=e[r];n.set(t,a),a+=t.length}return n}(...n)),randomBytes:Rr}}const fo=oa;function ho(e,t){if(mo(e),mo(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function po(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function mo(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function yo(e,t,n){Ea(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:a,m:o,hash:s,expand:i,DST:c}=n;$r(e),mo(t);const u="string"==typeof c?da(c):c,l=r.toString(2).length,d=Math.ceil((l+a)/8),f=t*o*d;let h;if("xmd"===i)h=function(e,t,n,r){$r(e),$r(t),mo(n),t.length>255&&(t=r(la(da("H2C-OVERSIZE-DST-"),t)));const{outputLen:a,blockLen:o}=r,s=Math.ceil(n/a);if(n>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const i=la(t,ho(t.length,1)),c=ho(0,o),u=ho(n,2),l=new Array(s),d=r(la(c,e,u,ho(0,1),i));l[0]=r(la(d,ho(1,1),i));for(let f=1;f<=s;f++){const e=[po(d,l[f-1]),ho(f+1,1),i];l[f]=r(la(...e))}return la(...l).slice(0,n)}(e,u,f,s);else if("xof"===i)h=function(e,t,n,r,a){if($r(e),$r(t),mo(n),t.length>255){const e=Math.ceil(2*r/8);t=a.create({dkLen:e}).update(da("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:n}).update(e).update(ho(n,2)).update(t).update(ho(t.length,1)).digest()}(e,u,f,a,s);else{if("_internal_pass"!==i)throw new Error('expand must be "xmd" or "xof"');h=e}const p=new Array(t);for(let m=0;m<t;m++){const e=new Array(o);for(let t=0;t<o;t++){const n=d*(t+m*o),a=h.subarray(n,n+d);e[t]=Ra(fo(a),r)}p[m]=e}return p}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const bo=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),go=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wo=BigInt(1),vo=BigInt(2),Eo=(e,t)=>(e+t/vo)/t;function Bo(e){const t=bo,n=BigInt(3),r=BigInt(6),a=BigInt(11),o=BigInt(22),s=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=qa(l,n,t)*l%t,f=qa(d,n,t)*l%t,h=qa(f,vo,t)*u%t,p=qa(h,a,t)*h%t,m=qa(p,o,t)*p%t,y=qa(m,i,t)*m%t,b=qa(y,c,t)*y%t,g=qa(b,i,t)*m%t,w=qa(g,n,t)*l%t,v=qa(w,s,t)*p%t,E=qa(v,r,t)*u%t,B=qa(E,vo,t);if(!ko.eql(ko.sqr(B),e))throw new Error("Cannot find square root");return B}const ko=Ua(bo,void 0,void 0,{sqrt:Bo}),xo=function(e,t){const n=t=>co({...e,...lo(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:ko,n:go,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=go,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-wo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),i=Eo(o*e,t),c=Eo(-r*e,t);let u=Ra(e-i*n-c*a,t),l=Ra(-i*r-c*o,t);const d=u>s,f=l>s;if(d&&(u=t-u),f&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},_r),No=BigInt(0),To={};function Io(e,...t){let n=To[e];if(void 0===n){const t=_r(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=la(t,t),To[e]=n}return _r(la(n,...t))}const Po=e=>e.toRawBytes(!0).slice(1),Ao=e=>ia(e,32),So=e=>Ra(e,bo),Ro=e=>Ra(e,go),Oo=xo.ProjectivePoint;function qo(e){let t=xo.utils.normPrivateKeyToScalar(e),n=Oo.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ro(-t),bytes:Po(n)}}function Co(e){pa("x",e,wo,bo);const t=So(e*e);let n=Bo(So(t*e+BigInt(7)));n%vo!==No&&(n=So(-n));const r=new Oo(e,n,wo);return r.assertValidity(),r}const Fo=oa;function Lo(...e){return Ro(Fo(Io("BIP0340/challenge",...e)))}function Do(e){return qo(e).bytes}function _o(e,t,n=Rr(32)){const r=ua("message",e),{bytes:a,scalar:o}=qo(t),s=ua("auxRand",n,32),i=Ao(o^Fo(Io("BIP0340/aux",s))),c=Io("BIP0340/nonce",i,a,r),u=Ro(Fo(c));if(u===No)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=qo(u),f=Lo(l,a,r),h=new Uint8Array(64);if(h.set(l,0),h.set(Ao(Ro(d+f*o)),32),!Uo(h,r,a))throw new Error("sign: Invalid signature produced");return h}function Uo(e,t,n){const r=ua("signature",e,64),a=ua("message",t),o=ua("publicKey",n,32);try{const e=Co(Fo(o)),t=Fo(r.subarray(0,32));if(!ha(t,wo,bo))return!1;const n=Fo(r.subarray(32,64));if(!ha(n,wo,go))return!1;const u=Lo(Ao(t),Po(e),a),l=(s=e,i=n,c=Ro(-u),Oo.BASE.multiplyAndAddUnsafe(s,i,c));return!(!l||!l.hasEvenY()||l.toAffine().x!==t)}catch(u){return!1}var s,i,c}const Ho=(()=>({getPublicKey:Do,sign:_o,verify:Uo,utils:{randomPrivateKey:xo.utils.randomPrivateKey,lift_x:Co,pointToBytes:Po,numberToBytesBE:ia,bytesToNumberBE:oa,taggedHash:Io,mod:Ra}}))(),Mo=(()=>function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[a,o,s,i]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(a,o),r=e.mul(r,e.div(s,i)),{x:t,y:r}}}(ko,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),Go=(()=>uo(ko,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ko.create(BigInt("-11"))}))(),zo=(()=>function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,a){const o=yo(r,2,{...n,DST:n.DST,...a}),s=e.fromAffine(t(o[0])),i=e.fromAffine(t(o[1])),c=s.add(i).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,a){const o=yo(r,1,{...n,DST:n.encodeDST,...a}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!=typeof e)throw new Error("mapToCurve: expected array of bigints");const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}}(xo.ProjectivePoint,(e=>{const{x:t,y:n}=Go(ko.create(e[0]));return Mo(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ko.ORDER,m:1,k:128,expand:"xmd",hash:_r}))(),jo=(()=>zo.hashToCurve)(),$o=(()=>zo.encodeToCurve)(),Vo=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:$o,hashToCurve:jo,schnorr:Ho,secp256k1:xo},Symbol.toStringTag,{value:"Module"}));async function Zo(e,t){const{address:n,factory:r,factoryData:a,hash:o,signature:s,universalSignatureVerifierAddress:c=e.chain?.contracts?.universalSignatureVerifier?.address,...u}=t,l=v(s)?s:"object"==typeof s&&"r"in s&&"s"in s?function({r:e,s:t,to:n="hex",v:r,yParity:a}){const o=(()=>{if(0===a||1===a)return a;if(r&&(27n===r||28n===r||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new xo.Signature(B(e),B(t)).toCompactHex()}${0===o?"1b":"1c"}`;return"hex"===n?s:N(s)}(s):Ce(s),f=await(async()=>r||a?function(e){return ze(e,-32)===gr}(l)?l:function(e){const{address:t,data:n,signature:r,to:a="hex"}=e,o=d([i([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),gr]);return"hex"===a?o:N(o)}({address:r,data:a,signature:l}):l)();try{const t=c?{to:c,data:ut({abi:Wt,functionName:"isValidSig",args:[n,o,f]}),...u}:{data:Xt({abi:Wt,args:[n,o,f],bytecode:"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"}),...u},{data:r}=await tt(e,rn,"call")(t);return We(r??"0x0")}catch(h){try{if(qt(Ke(n),await ht({hash:o,signature:s})))return!0}catch{}if(h instanceof Ye)return!1;throw h}}function Wo(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:a,poll:o,pollingInterval:s=e.pollingInterval}){let i;return(void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?un(le(["watchBlockNumber",e.uid,t,n,s]),{onBlockNumber:r,onError:a},(r=>dn((async()=>{try{const t=await tt(e,mn,"getBlockNumber")({cacheTime:0});if(i){if(t===i)return;if(t-i>1&&n)for(let e=i+1n;e<t;e++)r.onBlockNumber(e,i),i=e}(!i||t>i)&&(r.onBlockNumber(t,i),i=t)}catch(t){r.onError?.(t)}}),{emitOnBegin:t,interval:s}))):un(le(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:a},(t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:o}=await a.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=B(e.result?.number);t.onBlockNumber(r,i),i=r},onError(e){t.onError?.(e)}});r=o,n||r()}catch(o){a?.(o)}})(),()=>r()}))}const Ko=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Yo=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function Jo(e,t){const{address:n,domain:r,message:a,nonce:o,scheme:s,signature:i,time:c=new Date,...u}=t,l=function(e){const{scheme:t,statement:n,...r}=e.match(Ko)?.groups??{},{chainId:a,expirationTime:o,issuedAt:s,notBefore:i,requestId:c,...u}=e.match(Yo)?.groups??{},l=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...u,...a?{chainId:Number(a)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(a);if(!l.address)return!1;const d=function(e){const{address:t,domain:n,message:r,nonce:a,scheme:o,time:s=new Date}=e;if(n&&r.domain!==n)return!1;if(a&&r.nonce!==a)return!1;if(o&&r.scheme!==o)return!1;if(r.expirationTime&&s>=r.expirationTime)return!1;if(r.notBefore&&s<r.notBefore)return!1;try{if(!r.address)return!1;if(t&&!qt(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:l,nonce:o,scheme:s,time:c});if(!d)return!1;const f=br(a);return Zo(e,{address:l.address,hash:f,signature:i,...u})}function Qo(t){return{call:e=>rn(t,e),createBlockFilter:()=>async function(e){const t=st(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(t),createContractEventFilter:e=>it(t,e),createEventFilter:e=>Yn(t,e),createPendingTransactionFilter:()=>Jn(t),estimateContractGas:e=>async function(e,t){const{abi:n,address:r,args:a,functionName:o,dataSuffix:s,...i}=t,c=ut({abi:n,args:a,functionName:o});try{return await tt(e,Ot,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...i})}catch(u){const e=i.account?z(i.account):void 0;throw dt(u,{abi:n,address:r,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:e?.address})}}(t,e),estimateGas:e=>Ot(t,e),getBalance:e=>Rt(t,e),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(t),getBlock:e=>kt(t,e),getBlockNumber:e=>mn(t,e),getBlockTransactionCount:e=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const a=void 0!==n?c(n):void 0;let o;return o=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]},{dedupe:Boolean(a)}),k(o)}(t,e),getBytecode:e=>Qn(t,e),getChainId:()=>Pt(t),getCode:e=>Qn(t,e),getContractEvents:e=>Ut(t,e),getEip712Domain:e=>async function(e,t){const{address:n,factory:r,factoryData:a}=t;try{const[t,o,s,i,c,u,l]=await tt(e,an,"readContract")({abi:wn,address:n,functionName:"eip712Domain",factory:r,factoryData:a});return{domain:{name:o,version:s,chainId:Number(i),verifyingContract:c,salt:u},extensions:l,fields:t}}catch(o){const e=o;if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new gn({address:n});throw e}}(t,e),getEnsAddress:e=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:a,gatewayUrls:o,strict:s,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ce({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const s=ut({abi:Zt,functionName:"addr",...null!=r?{args:[qn(a),BigInt(r)]}:{args:[qn(a)]}}),i={address:c,abi:jt,functionName:"resolve",args:[E(Fn(a)),s],blockNumber:t,blockTag:n},u=tt(e,an,"readContract"),l=o?await u({...i,args:[...i.args,o]}):await u(i);if("0x"===l[0])return null;const d=Mt({abi:Zt,args:null!=r?[qn(a),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return"0x"===d||"0x00"===De(d)?null:d}catch(u){if(s)throw u;if(Rn(u,"resolve"))return null;throw u}}(t,e),getEnsAvatar:e=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:a,gatewayUrls:o,strict:s,universalResolverAddress:i}){const c=await tt(e,Kn,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:a,universalResolverAddress:i,gatewayUrls:o,strict:s});if(!c)return null;try{return await Wn(e,{record:c,gatewayUrls:r})}catch{return null}}(t,e),getEnsName:e=>async function(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:a,strict:o,universalResolverAddress:s}){let i=s;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=ce({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const o={address:i,abi:$t,functionName:"reverse",args:[E(Fn(c))],blockNumber:n,blockTag:r},s=tt(e,an,"readContract"),[u,l]=a?await s({...o,args:[...o.args,a]}):await s(o);return t.toLowerCase()!==l.toLowerCase()?null:u}catch(u){if(o)throw u;if(Rn(u,"reverse"))return null;throw u}}(t,e),getEnsResolver:e=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=ce({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[s]=await tt(e,an,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[E(Fn(r))],blockNumber:t,blockTag:n});return s}(t,e),getEnsText:e=>Kn(t,e),getFeeHistory:e=>Xn(t,e),estimateFeesPerGas:e=>async function(e,t){return Tt(e,t)}(t,e),getFilterChanges:e=>yn(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>ee(e)));return t.abi?Dt({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>xt(t),getLogs:e=>_t(t,e),getProof:e=>wr(t,e),estimateMaxPriorityFeePerGas:e=>async function(e,t){return Nt(e,t)}(t,e),getStorageAt:e=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:a}){const o=void 0!==n?c(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,o||r]})}(t,e),getTransaction:e=>vr(t,e),getTransactionConfirmations:e=>async function(e,{hash:t,transactionReceipt:n}){const[r,a]=await Promise.all([tt(e,mn,"getBlockNumber")({}),t?tt(e,vr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||a?.blockNumber;return o?r-o+1n:0n}(t,e),getTransactionCount:e=>It(t,e),getTransactionReceipt:e=>Er(t,e),multicall:n=>async function(t,n){const{allowFailure:r=!0,batchSize:a,blockNumber:o,blockTag:s,multicallAddress:i,stateOverride:c}=n,u=n.contracts,l=a??("object"==typeof t.batch?.multicall&&t.batch.multicall.batchSize||1024);let d=i;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=ce({blockNumber:o,chain:t.chain,contract:"multicall3"})}const p=[[]];let m=0,y=0;for(let e=0;e<u.length;e++){const{abi:t,address:n,args:a,functionName:o}=u[e];try{const e=ut({abi:t,args:a,functionName:o});y+=(e.length-2)/2,l>0&&y>l&&p[m].length>0&&(m++,y=(e.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:e,target:n}]}catch(w){const e=dt(w,{abi:t,address:n,args:a,docsPath:"/docs/contract/multicall",functionName:o});if(!r)throw e;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:n}]}}const b=await Promise.allSettled(p.map((e=>tt(t,an,"readContract")({abi:Gt,address:d,args:[e],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:c})))),g=[];for(let e=0;e<b.length;e++){const t=b[e];if("rejected"===t.status){if(!r)throw t.reason;for(let n=0;n<p[e].length;n++)g.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let a=0;a<n.length;a++){const{returnData:t,success:o}=n[a],{callData:s}=p[e][a],{abi:i,address:c,functionName:l,args:d}=u[g.length];try{if("0x"===s)throw new h;if(!o)throw new f({data:t});const e=Mt({abi:i,args:d,data:t,functionName:l});g.push(r?{result:e,status:"success"}:e)}catch(w){const e=dt(w,{abi:i,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:l});if(!r)throw e;g.push({error:e,result:void 0,status:"failure"})}}}if(g.length!==u.length)throw new e("multicall results mismatch");return g}(t,n),prepareTransactionRequest:e=>St(t,e),readContract:e=>an(t,e),sendRawTransaction:e=>async function(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}(t,e),simulateContract:e=>async function(e,t){const{abi:n,address:r,args:a,dataSuffix:o,functionName:s,...i}=t,c=i.account?z(i.account):e.account,u=ut({abi:n,args:a,functionName:s});try{const{data:l}=await tt(e,rn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...i,account:c});return{result:Mt({abi:n,args:a,functionName:s,data:l||"0x"}),request:{abi:n.filter((e=>"name"in e&&e.name===t.functionName)),address:r,args:a,dataSuffix:o,functionName:s,...i,account:c}}}catch(l){throw dt(l,{abi:n,address:r,args:a,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}(t,e),verifyMessage:e=>async function(e,{address:t,message:n,factory:r,factoryData:a,signature:o,...s}){return Zo(e,{address:t,factory:r,factoryData:a,hash:br(n),signature:o,...s})}(t,e),verifySiweMessage:e=>Jo(t,e),verifyTypedData:e=>async function(e,t){const{address:n,factory:r,factoryData:a,signature:o,message:s,primaryType:i,types:c,domain:u,...l}=t;return Zo(e,{address:n,factory:r,factoryData:a,hash:ur({message:s,primaryType:i,types:c,domain:u}),signature:o,...l})}(t,e),uninstallFilter:e=>bn(0,e),waitForTransactionReceipt:e=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:a=e.pollingInterval,retryCount:o=6,retryDelay:s=({count:e})=>200*(1<<e),timeout:i=18e4}){const c=le(["waitForTransactionReceipt",e.uid,n]);let u,l,d,f=!1;const{promise:h,resolve:p,reject:m}=en(),y=i?setTimeout((()=>m(new Je({hash:n}))),i):void 0,b=un(c,{onReplaced:r,resolve:p,reject:m},(r=>{const i=tt(e,Wo,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(a){const c=e=>{clearTimeout(y),i(),e(),b()};let h=a;if(!f)try{if(d){if(t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;return void c((()=>r.resolve(d)))}if(u||(f=!0,await xn((async()=>{u=await tt(e,vr,"getTransaction")({hash:n}),u.blockNumber&&(h=u.blockNumber)}),{delay:s,retryCount:o}),f=!1),d=await tt(e,Er,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;c((()=>r.resolve(d)))}catch(p){if(p instanceof je||p instanceof Ve){if(!u)return void(f=!1);try{l=u,f=!0;const n=await xn((()=>tt(e,kt,"getBlock")({blockNumber:h,includeTransactions:!0})),{delay:s,retryCount:o,shouldRetry:({error:e})=>e instanceof Bt});f=!1;const a=n.transactions.find((({from:e,nonce:t})=>e===l.from&&t===l.nonce));if(!a)return;if(d=await tt(e,Er,"getTransactionReceipt")({hash:a.hash}),t>1&&(!d.blockNumber||h-d.blockNumber+1n<t))return;let i="replaced";a.to===l.to&&a.value===l.value?i="repriced":a.from===a.to&&0n===a.value&&(i="cancelled"),c((()=>{r.onReplaced?.({reason:i,replacedTransaction:l,transaction:a,transactionReceipt:d}),r.resolve(d)}))}catch(m){c((()=>r.reject(m)))}}else c((()=>r.reject(p)))}}})}));return h}(t,e),watchBlocks:e=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:o,includeTransactions:s,poll:i,pollingInterval:c=e.pollingInterval}){const u=void 0!==i?i:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),l=s??!1;let d;return u?un(le(["watchBlocks",e.uid,t,n,r,l,c]),{onBlock:a,onError:o},(a=>dn((async()=>{try{const r=await tt(e,kt,"getBlock")({blockTag:t,includeTransactions:l});if(r.number&&d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await tt(e,kt,"getBlock")({blockNumber:t,includeTransactions:l});a.onBlock(n,d),d=n}}(!d?.number||"pending"===t&&!r?.number||r.number&&r.number>d.number)&&(a.onBlock(r,d),d=r)}catch(r){a.onError?.(r)}}),{emitOnBegin:r,interval:c}))):(()=>{let n=!0,s=!0,i=()=>n=!1;return(async()=>{try{r&&tt(e,kt,"getBlock")({blockTag:t,includeTransactions:l}).then((e=>{n&&s&&(a(e,void 0),s=!1)}));const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:u}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await tt(e,kt,"getBlock")({blockNumber:t.blockNumber,includeTransactions:l}).catch((()=>{}));n&&(a(r,d),s=!1,d=r)},onError(e){o?.(e)}});i=u,n||i()}catch(c){o?.(c)}})(),()=>i()})()}(t,e),watchBlockNumber:e=>Wo(t,e),watchContractEvent:e=>function(e,t){const{abi:n,address:r,args:a,batch:o=!0,eventName:s,fromBlock:i,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:f}=t;return(void 0!==l?l:"bigint"==typeof i||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const t=f??!1;return un(le(["watchContractEvent",r,a,o,e.uid,s,d,t,i]),{onLogs:u,onError:c},(c=>{let u,l;void 0!==i&&(u=i-1n);let f=!1;const h=dn((async()=>{if(f)try{let i;if(l)i=await tt(e,yn,"getFilterChanges")({filter:l});else{const o=await tt(e,mn,"getBlockNumber")({});i=u&&u<o?await tt(e,Ut,"getContractEvents")({abi:n,address:r,args:a,eventName:s,fromBlock:u+1n,toBlock:o,strict:t}):[],u=o}if(0===i.length)return;if(o)c.onLogs(i);else for(const e of i)c.onLogs([e])}catch(d){l&&d instanceof de&&(f=!1),c.onError?.(d)}else{try{l=await tt(e,it,"createContractEventFilter")({abi:n,address:r,args:a,eventName:s,strict:t,fromBlock:i})}catch{}f=!0}}),{emitOnBegin:!0,interval:d});return async()=>{l&&await tt(e,bn,"uninstallFilter")({filter:l}),h()}}))})():(()=>{const t=f??!1,i=le(["watchContractEvent",r,a,o,e.uid,s,d,t]);let l=!0,h=()=>l=!1;return un(i,{onLogs:u,onError:c},(t=>((async()=>{try{const o=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),i=s?at({abi:n,eventName:s,args:a}):[],{unsubscribe:c}=await o.subscribe({params:["logs",{address:r,topics:i}],onData(e){if(!l)return;const r=e.result;try{const{eventName:e,args:a}=Ft({abi:n,data:r.data,topics:r.topics,strict:f}),o=ee(r,{args:a,eventName:e});t.onLogs([o])}catch(a){let e,n;if(a instanceof Q||a instanceof W){if(f)return;e=a.abiItem.name,n=a.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const o=ee(r,{args:n?[]:{},eventName:e});t.onLogs([o])}},onError(e){t.onError?.(e)}});h=c,l||h()}catch(o){c?.(o)}})(),()=>h())))})()}(t,e),watchEvent:e=>function(e,{address:t,args:n,batch:r=!0,event:a,events:o,fromBlock:s,onError:i,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const f=void 0!==u?u:"bigint"==typeof s||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),h=d??!1;return f?un(le(["watchEvent",t,n,r,e.uid,a,l,s]),{onLogs:c,onError:i},(i=>{let c,u;void 0!==s&&(c=s-1n);let d=!1;const f=dn((async()=>{if(d)try{let s;if(u)s=await tt(e,yn,"getFilterChanges")({filter:u});else{const r=await tt(e,mn,"getBlockNumber")({});s=c&&c!==r?await tt(e,_t,"getLogs")({address:t,args:n,event:a,events:o,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===s.length)return;if(r)i.onLogs(s);else for(const e of s)i.onLogs([e])}catch(l){u&&l instanceof de&&(d=!1),i.onError?.(l)}else{try{u=await tt(e,Yn,"createEventFilter")({address:t,args:n,event:a,events:o,strict:h,fromBlock:s})}catch{}d=!0}}),{emitOnBegin:!0,interval:l});return async()=>{u&&await tt(e,bn,"uninstallFilter")({filter:u}),f()}})):(()=>{let r=!0,s=()=>r=!1;return(async()=>{try{const u=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),l=o??(a?[a]:void 0);let f=[];l&&(f=[l.flatMap((e=>at({abi:[e],eventName:e.name,args:n})))],a&&(f=f[0]));const{unsubscribe:p}=await u.subscribe({params:["logs",{address:t,topics:f}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=Ft({abi:l??[],data:t.data,topics:t.topics,strict:h}),r=ee(t,{args:n,eventName:e});c([r])}catch(n){let e,r;if(n instanceof Q||n instanceof W){if(d)return;e=n.abiItem.name,r=n.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const a=ee(t,{args:r?[]:{},eventName:e});c([a])}},onError(e){i?.(e)}});s=p,r||s()}catch(u){i?.(u)}})(),()=>s()})()}(t,e),watchPendingTransactions:e=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:a,pollingInterval:o=e.pollingInterval}){return(void 0!==a?a:"webSocket"!==e.transport.type)?un(le(["watchPendingTransactions",e.uid,t,o]),{onTransactions:r,onError:n},(n=>{let r;const a=dn((async()=>{try{if(!r)try{return void(r=await tt(e,Jn,"createPendingTransactionFilter")({}))}catch(o){throw a(),o}const s=await tt(e,yn,"getFilterChanges")({filter:r});if(0===s.length)return;if(t)n.onTransactions(s);else for(const e of s)n.onTransactions([e])}catch(o){n.onError?.(o)}}),{emitOnBegin:!0,interval:o});return async()=>{r&&await tt(e,bn,"uninstallFilter")({filter:r}),a()}})):(()=>{let t=!0,a=()=>t=!1;return(async()=>{try{const{unsubscribe:o}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});a=o,t||a()}catch(o){n?.(o)}})(),()=>a()})()}(t,e)}}function Xo(e){const{key:t="public",name:n="Public Client"}=e,r=function(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:a="base",name:o="Base Client",pollingInterval:s=4e3,type:i="base"}=e,c=e.chain,u=e.account?z(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:c,pollingInterval:s}),h={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:a,name:o,pollingInterval:s,request:d,transport:{...l,...f},type:i,uid:Bn()};return Object.assign(h,{extend:function e(t){return n=>{const r=n(t);for(const e in h)delete r[e];const a={...t,...r};return Object.assign(a,{extend:e(a)})}}(h)})}({...e,key:t,name:n,type:"publicClient"});return r.extend(Qo)}export{et as _,Xo as c,Sn as h};
