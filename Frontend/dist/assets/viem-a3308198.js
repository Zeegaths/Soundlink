import{B as H,g as Bt,A as Mn,f as ln,t as hn,k as V,a as pn,e as Ae,n as M,b as dt,c as qs,d as At,R as bn,h as kr,C as Os,I as lt,i as Jt,j as Ir,l as Ls,m as Ds,o as Ve,p as he,q as Te,r as Qe,s as Ms,u as mn,v as Hs,w as Fs,x as ut,y as Us,U as $s,z as ht,D as pt,E as zs,S as Gs,F as Hn,G as js,H as Vs,J as Zs,K as Ws,L as Ks,M as Ys,N as gn,O as Le,P as Pr,Q as Rr,T as Js,V as Tr,W as St,X as yn,Y as Xs,Z as Qs,_ as Ze,$ as bt,a0 as Ee,a1 as eo,a2 as to,a3 as Fn,a4 as _r,a5 as no,a6 as ro,a7 as so,a8 as De,a9 as Cr,aa as Z,ab as mt,ac as oo,ad as Xt,ae as xe,af as ao,ag as Mt,ah as Un,ai as $n,aj as zn,ak as Gn,al as jn,am as Vn,an as Qt,ao as Zn,ap as Wn,aq as Kn,ar as Yn,as as Jn,at as Xn,au as Qn,av as er,aw as tr,ax as io,ay as We,az as je,aA as Nt,aB as co,aC as qr,aD as uo,aE as fo,aF as lo,aG as ho,aH as po,aI as Or,aJ as bo,aK as Lr,aL as mo,aM as go,aN as yo,aO as wo,aP as vo}from"./@farcaster/auth-kit-625cc98d.js";const xo="modulepreload",Eo=function(e){return"/"+e},nr={},Dr=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Eo(o),o in nr)return;nr[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":xo,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class Bo extends H{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const rr="/docs/contract/encodeEventTopics";function et(e){var i;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Bt({abi:t,name:n});if(!u)throw new Mn(n,{docsPath:rr});s=u}if(s.type!=="event")throw new Mn(void 0,{docsPath:rr});const o=ln(s),a=hn(o);let c=[];if(r&&"inputs"in s){const u=(i=s.inputs)==null?void 0:i.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(c=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,g)=>sr({param:d,value:f[l][g]})):f[l]?sr({param:d,value:f[l]}):null))??[])}return[a,...c]}function sr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return V(pn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Bo(e.type);return Ae([e],[t])}function kt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:a,status:c,transport:i})=>{c==="success"&&t===o&&(n[a]=i.request)})),o=>n[o]||e.request}async function Mr(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:a,strict:c,toBlock:i}=t,u=kt(e,{method:"eth_newFilter"}),f=o?et({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?M(a):a,toBlock:typeof i=="bigint"?M(i):i,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}const or="/docs/contract/encodeFunctionData";function Ao(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Bt({abi:t,args:n,name:r});if(!o)throw new dt(r,{docsPath:or});s=o}if(s.type!=="function")throw new dt(void 0,{docsPath:or});return{abi:[s],functionName:qs(ln(s))}}function ge(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var c;return e.abi.length===1&&((c=e.functionName)!=null&&c.startsWith("0x"))?e:Ao(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?Ae(s.inputs,t??[]):void 0;return At([o,a??"0x"])}const So=3;function Ke(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const c=e instanceof bn?e:e instanceof H?e.walk(g=>"data"in g)||e.walk():{},{code:i,data:u,details:f,message:d,shortMessage:l}=c,h=(()=>e instanceof kr?new Os({functionName:o}):[So,lt.code].includes(i)&&(u||f||d||l)?new Jt({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:c instanceof Ir?f:l??d}):e)();return new Ls(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}function No(e){const t=V(`0x${e.substring(4)}`).substring(26);return Ds(`0x${t}`)}async function ko({hash:e,signature:t}){const n=Ve(e)?e:he(e),{secp256k1:r}=await Dr(()=>Promise.resolve().then(()=>gc),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),g=ar(h);return new r.Signature(Te(u),Te(f)).addRecoveryBit(g)}const a=Ve(t)?t:he(t),c=Qe(`0x${a.slice(130)}`),i=ar(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ar(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Hr({hash:e,signature:t}){return No(await ko({hash:e,signature:t}))}function Io(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,o=V(At(["0x05",Ms([t?M(t):"0x",n,r?M(r):"0x"])]));return s==="bytes"?mn(o):o}async function Po(e){const{authorization:t,signature:n}=e;return Hr({hash:Io(t),signature:n??t})}class Ro extends H{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var g;const h=Hs({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Fs(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof c<"u"&&`${ut(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${ut(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ut(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function To(e,{docsPath:t,...n}){const r=(()=>{const s=Us(e,n);return s instanceof $s?e:s})();return new Ro(r,{docsPath:t,...n})}function ir(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Hn({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Hn({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function _o(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=M(t)),n!==void 0&&(a.nonce=M(n)),r!==void 0&&(a.state=ir(r)),s!==void 0){if(a.state)throw new Gs;a.stateDiff=ir(s)}return a}function Fr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ht(n,{strict:!1}))throw new pt({address:n});if(t[n])throw new zs({address:n});t[n]=_o(r)}return t}class Co extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class wn extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class qo extends H{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ut(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ur extends H{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function te(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,d,l;const o=r??"latest",a=s??!1,c=n!==void 0?M(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[c||o,a]},{dedupe:!!c}),!i)throw new Ur({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||js)(i)}async function vn(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Oo(e,t){return $r(e,t)}async function $r(e,t){var o,a;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof c=="function"){const u=n||await _(e,te,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Te(i)}catch{const[c,i]=await Promise.all([n?Promise.resolve(n):_(e,te,"getBlock")({}),_(e,vn,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new wn;const u=i-c.baseFeePerGas;return u<0n?0n:u}}async function Lo(e,t){return en(e,t)}async function en(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var g,m;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(a<1)throw new Co;const i=10**(((l=a.toString().split(".")[1])==null?void 0:l.length)??0),u=g=>g*BigInt(Math.ceil(a*i))/BigInt(i),f=n||await _(e,te,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new wn;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await $r(e,{block:f,chain:r,request:s}),m=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await _(e,vn,"getGasPrice")({}))}}async function zr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?M(r):n]},{dedupe:!!r});return Qe(s)}async function Gr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Qe(t)}const Do=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function jr(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:a,nonce:c,nonceManager:i,parameters:u=Do,type:f}=t,d=n&&Le(n),l={...t,...d?{from:d==null?void 0:d.address}:{}};let h;async function g(){return h||(h=await _(e,te,"getBlock")({blockTag:"latest"}),h)}let m;async function p(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await _(e,Gr,"getChainId")({}),m))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&a){const b=Vs({blobs:r,kzg:a});if(u.includes("blobVersionedHashes")){const y=Zs({commitments:b,to:"hex"});l.blobVersionedHashes=y}if(u.includes("sidecars")){const y=Ws({blobs:r,commitments:b,kzg:a}),w=Ks({blobs:r,commitments:b,proofs:y,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await p()),u.includes("nonce")&&typeof c>"u"&&d)if(i){const b=await p();l.nonce=await i.consume({address:d.address,chainId:b,client:e})}else l.nonce=await _(e,zr,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Ys(l)}catch{const b=await g();l.type=typeof(b==null?void 0:b.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await g(),{maxFeePerGas:y,maxPriorityFeePerGas:w}=await en(e,{block:b,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new qo({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=y}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new wn;const b=await g(),{gasPrice:y}=await en(e,{block:b,chain:s,request:l,type:"legacy"});l.gasPrice=y}return u.includes("gas")&&typeof o>"u"&&(l.gas=await _(e,xn,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),gn(l),delete l.parameters,l}async function Vr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?M(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function xn(e,t){var s,o,a;const{account:n=e.account}=t,r=n?Le(n):void 0;try{let S=function(N){const{block:R,request:C,rpcStateOverride:L}=N;return e.request({method:"eth_estimateGas",params:L?[C,R??"latest",L]:R?[C,R]:[C]})};const{accessList:c,authorizationList:i,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:g,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:y,nonce:w,value:v,stateOverride:I,...A}=await jr(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),B=(d?M(d):void 0)||l,x=Fr(I),q=await(async()=>{if(A.to)return A.to;if(i&&i.length>0)return await Po({authorization:i[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();gn(t);const P=(a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,O=(P||Pr)({...Rr(A,{format:P}),from:r==null?void 0:r.address,accessList:c,authorizationList:i,blobs:u,blobVersionedHashes:f,data:h,gas:g,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:y,nonce:w,to:q,value:v});let k=BigInt(await S({block:B,request:O,rpcStateOverride:x}));if(i){const N=await Vr(e,{address:O.from}),R=await Promise.all(i.map(async C=>{const{contractAddress:L}=C,F=await S({block:B,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:L,value:M(N)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(F)}));k+=R.reduce((C,L)=>C+L,0n)}return k}catch(c){throw To(c,{...t,account:r,chain:e.chain})}}async function Mo(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:a,...c}=t,i=ge({abi:n,args:s,functionName:o});try{return await _(e,xn,"estimateGas")({data:`${i}${a?a.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?Le(c.account):void 0;throw Ke(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}function It(e,t){if(!ht(e,{strict:!1}))throw new pt({address:e});if(!ht(t,{strict:!1}))throw new pt({address:t});return e.toLowerCase()===t.toLowerCase()}const cr="/docs/contract/decodeEventLog";function En(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[a,...c]=s;if(!a)throw new Js({docsPath:cr});const i=(()=>t.length===1?t[0]:t.find(m=>m.type==="event"&&a===hn(ln(m))))();if(!(i&&"name"in i)||i.type!=="event")throw new Tr(a,{docsPath:cr});const{name:u,inputs:f}=i,d=f==null?void 0:f.some(m=>!("name"in m&&m.name));let l=d?[]:{};const h=f.filter(m=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const p=h[m],b=c[m];if(!b)throw new St({abiItem:i,param:p});l[d?m:p.name||m]=Ho({param:p,value:b})}const g=f.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(n&&n!=="0x")try{const m=yn(g,n);if(m)if(d)l=[...l,...m];else for(let p=0;p<g.length;p++)l[g[p].name]=m[p]}catch(m){if(o)throw m instanceof Xs||m instanceof Qs?new Ze({abiItem:i,data:n,params:g,size:bt(n)}):m}else if(o)throw new Ze({abiItem:i,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Ho({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(yn([e],t)||[])[0]}function Bn(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(a=>{var c;try{const i=t.find(f=>f.type==="event"&&a.topics[0]===hn(f));if(!i)return null;const u=En({...a,abi:[i],strict:s});return o&&!o.includes(u.eventName)||!Fo({args:u.args,inputs:i.inputs,matchArgs:n})?null:{...u,...a}}catch(i){let u,f;if(i instanceof Tr)return null;if(i instanceof Ze||i instanceof St){if(s)return null;u=i.abiItem.name,f=(c=i.abiItem.inputs)==null?void 0:c.some(d=>!("name"in d&&d.name))}return{...a,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Fo(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,a,c){try{return o.type==="address"?It(a,c):o.type==="string"||o.type==="bytes"?V(pn(a))===c:a===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,a)=>{if(o==null)return!0;const c=n[a];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,a])=>{if(a==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(a)?a:[a]).some(u=>s(c,u,t[o])):!1}):!1}async function An(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:a,args:c,strict:i}={}){const u=i??!1,f=a??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(m=>et({abi:[m],eventName:m.name,args:a?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof s=="bigint"?M(s):s}]});const h=l.map(g=>Ee(g));return f?Bn({abi:f,args:c,logs:h,strict:u}):h}async function Zr(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:a,fromBlock:c,toBlock:i,strict:u}=t,f=a?Bt({abi:n,name:a}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,An,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:i,strict:u})}const Ht="/docs/contract/decodeFunctionResult";function Me(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const c=Bt({abi:t,args:n,name:r});if(!c)throw new dt(r,{docsPath:Ht});o=c}if(o.type!=="function")throw new dt(void 0,{docsPath:Ht});if(!o.outputs)throw new eo(o.name,{docsPath:Ht});const a=yn(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const tn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Wr=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Kr=[...Wr,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Uo=[...Wr,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ur=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],dr=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],$o="0x82ad56cb",zo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Go="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",jo="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ft="/docs/contract/encodeDeployData";function Sn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new to({docsPath:Ft});if(!("inputs"in s))throw new Fn({docsPath:Ft});if(!s.inputs||s.inputs.length===0)throw new Fn({docsPath:Ft});const o=Ae(s.inputs,n);return At([r,o])}function Yr(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Ut=new Map;function Jr({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=i();a();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:g}=f[h];g==null||g([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:g}=f[h];g==null||g(l)}})},a=()=>Ut.delete(t),c=()=>i().map(({args:f})=>f),i=()=>Ut.get(t)||[],u=f=>Ut.set(t,[...i(),f]);return{flush:a,async schedule(f){const{promise:d,resolve:l,reject:h}=Yr();return(n==null?void 0:n([...c(),f]))&&o(),i().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}async function tt(e,t){var P,T,O,S;const{account:n=e.account,batch:r=!!((P=e.batch)!=null&&P.multicall),blockNumber:s,blockTag:o="latest",accessList:a,blobs:c,code:i,data:u,factory:f,factoryData:d,gas:l,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:b,to:y,value:w,stateOverride:v,...I}=t,A=n?Le(n):void 0;if(i&&(f||d))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(i&&y)throw new H("Cannot provide both `code` & `to` as parameters.");const E=i&&u,B=f&&d&&y&&u,x=E||B,q=(()=>E?Wo({code:i,data:u}):B?Ko({data:u,factory:f,factoryData:d,to:y}):u)();try{gn(t);const N=(s?M(s):void 0)||o,R=Fr(v),C=(S=(O=(T=e.chain)==null?void 0:T.formatters)==null?void 0:O.transactionRequest)==null?void 0:S.format,F=(C||Pr)({...Rr(I,{format:C}),from:A==null?void 0:A.address,accessList:a,blobs:c,data:q,gas:l,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:b,to:x?void 0:y,value:w});if(r&&Vo({request:F})&&!R)try{return await Zo(e,{...F,blockNumber:s,blockTag:o})}catch(K){if(!(K instanceof _r)&&!(K instanceof no))throw K}const $=await e.request({method:"eth_call",params:R?[F,N,R]:[F,N]});return $==="0x"?{data:void 0}:{data:$}}catch(k){const N=Yo(k),{offchainLookup:R,offchainLookupSignature:C}=await Dr(()=>Promise.resolve().then(()=>Za),void 0);if(e.ccipRead!==!1&&(N==null?void 0:N.slice(0,10))===C&&y)return{data:await R(e,{data:N,to:y})};throw x&&(N==null?void 0:N.slice(0,10))==="0x101bb98d"?new ro({factory:f}):so(k,{...t,account:A,chain:e.chain})}}function Vo({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith($o)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Zo(e,t){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:a,multicallAddress:c,to:i}=t;let u=c;if(!u){if(!e.chain)throw new _r;u=De({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?M(s):void 0)||o,{schedule:l}=Jr({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((y,{data:w})=>y+(w.length-2),0)>n*2},fn:async p=>{const b=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),y=ge({abi:tn,args:[b],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:y,to:u},d]});return Me({abi:tn,args:[b],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:g}]=await l({data:a,to:i});if(!g)throw new bn({data:h});return h==="0x"?{data:void 0}:{data:h}}function Wo(e){const{code:t,data:n}=e;return Sn({abi:Cr(["constructor(bytes, bytes)"]),bytecode:zo,args:[t,n]})}function Ko(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Sn({abi:Cr(["constructor(address, bytes, address, bytes)"]),bytecode:Go,args:[s,t,n,r]})}function Yo(e){var n;if(!(e instanceof H))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ae(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,c=ge({abi:n,args:s,functionName:o});try{const{data:i}=await _(e,tt,"call")({...a,data:c,to:r});return Me({abi:n,args:s,functionName:o,data:i||"0x"})}catch(i){throw Ke(i,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Jo(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:a,...c}=t,i=c.account?Le(c.account):e.account,u=ge({abi:n,args:s,functionName:a});try{const{data:f}=await _(e,tt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...c,account:i}),d=Me({abi:n,args:s,functionName:a,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:a,...c,account:i}}}catch(f){throw Ke(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const $t=new Map,lr=new Map;let Xo=0;function pe(e,t,n){const r=++Xo,s=()=>$t.get(e)||[],o=()=>{const f=s();$t.set(e,f.filter(d=>d.id!==r))},a=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=lr.get(e);f.length===1&&d&&d(),o()},c=s();if($t.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return a;const i={};for(const f in t)i[f]=(...d)=>{var h,g;const l=s();if(l.length!==0)for(const m of l)(g=(h=m.fns)[f])==null||g.call(h,...d)};const u=n(i);return typeof u=="function"&&lr.set(e,u),a}async function nn(e){return new Promise(t=>setTimeout(t,e))}function nt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const i=await(n==null?void 0:n(c))??r;await nn(i);const u=async()=>{s&&(await e({unpoll:o}),await nn(r),u())};u()})(),o}const Qo=new Map,ea=new Map;function ta(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,Qo),r=t(e,ea);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function na(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=ta(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const ra=e=>`blockNumber.${e}`;async function rt(e,{cacheTime:t=e.cacheTime}={}){const n=await na(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ra(e.uid),cacheTime:t});return BigInt(n)}async function Pt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ee(o));return!("abi"in t)||!t.abi?s:Bn({abi:t.abi,logs:s,strict:n})}async function Rt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function sa(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:a,fromBlock:c,onError:i,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))()?(()=>{const p=l??!1,b=Z(["watchContractEvent",r,s,o,e.uid,a,d,p,c]);return pe(b,{onLogs:u,onError:i},y=>{let w;c!==void 0&&(w=c-1n);let v,I=!1;const A=nt(async()=>{var E;if(!I){try{v=await _(e,Mr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:p,fromBlock:c})}catch{}I=!0;return}try{let B;if(v)B=await _(e,Pt,"getFilterChanges")({filter:v});else{const x=await _(e,rt,"getBlockNumber")({});w&&w<x?B=await _(e,Zr,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:w+1n,toBlock:x,strict:p}):B=[],w=x}if(B.length===0)return;if(o)y.onLogs(B);else for(const x of B)y.onLogs([x])}catch(B){v&&B instanceof mt&&(I=!1),(E=y.onError)==null||E.call(y,B)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await _(e,Rt,"uninstallFilter")({filter:v}),A()}})})():(()=>{const p=l??!1,b=Z(["watchContractEvent",r,s,o,e.uid,a,d,p]);let y=!0,w=()=>y=!1;return pe(b,{onLogs:u,onError:i},v=>((async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(x=>x.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),A=a?et({abi:n,eventName:a,args:s}):[],{unsubscribe:E}=await I.subscribe({params:["logs",{address:r,topics:A}],onData(B){var q;if(!y)return;const x=B.result;try{const{eventName:P,args:T}=En({abi:n,data:x.data,topics:x.topics,strict:l}),O=Ee(x,{args:T,eventName:P});v.onLogs([O])}catch(P){let T,O;if(P instanceof Ze||P instanceof St){if(l)return;T=P.abiItem.name,O=(q=P.abiItem.inputs)==null?void 0:q.some(k=>!("name"in k&&k.name))}const S=Ee(x,{args:O?[]:{},eventName:T});v.onLogs([S])}},onError(B){var x;(x=v.onError)==null||x.call(v,B)}});w=E,y||w()}catch(I){i==null||i(I)}})(),()=>w()))})()}async function oa(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class aa extends H{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ia(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,a,c,i,u,f,d]=await _(e,ae,"readContract")({abi:ca,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:c,chainId:Number(i),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new aa({address:n}):a}}const ca=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],rn=256;let ot=rn,at;function Xr(e=11){if(!at||ot+e>rn*2){at="",ot=0;for(let t=0;t<rn;t++)at+=(256+Math.random()*256|0).toString(16).substring(1)}return at.substring(ot,ot+++e)}function ua(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:a=4e3,type:c="base"}=e,i=e.chain,u=e.account?Le(e.account):void 0,{config:f,request:d,value:l}=e.transport({chain:i,pollingInterval:a}),h={...f,...l},g={account:u,batch:t,cacheTime:n,ccipRead:r,chain:i,key:s,name:o,pollingInterval:a,request:d,transport:h,type:c,uid:Xr()};function m(p){return b=>{const y=b(p);for(const v in g)delete y[v];const w={...p,...y};return Object.assign(w,{extend:m(w)})}}return Object.assign(g,{extend:m(g)})}const it=new oo(8192);function fa(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(it.get(n))return it.get(n);const r=e().finally(()=>it.delete(n));return it.set(n,r),r}function sn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:c=0}={})=>{const i=async({error:u})=>{const f=typeof t=="function"?t({count:c,error:u}):t;f&&await nn(f),a({count:c+1})};try{const u=await e();s(u)}catch(u){if(c<n&&await r({count:c,error:u}))return i({error:u});o(u)}};a()})}function da(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},i=s?V(Xt(`${c}.${Z(n)}`)):void 0;return fa(()=>sn(async()=>{try{return await e(n)}catch(u){const f=u;switch(f.code){case er.code:throw new er(f);case Qn.code:throw new Qn(f);case Xn.code:throw new Xn(f,{method:n.method});case Jn.code:throw new Jn(f);case lt.code:throw new lt(f);case mt.code:throw new mt(f);case Yn.code:throw new Yn(f);case Kn.code:throw new Kn(f);case Wn.code:throw new Wn(f);case Zn.code:throw new Zn(f,{method:n.method});case Qt.code:throw new Qt(f);case Vn.code:throw new Vn(f);case Mt.code:throw new Mt(f);case jn.code:throw new jn(f);case Gn.code:throw new Gn(f);case zn.code:throw new zn(f);case $n.code:throw new $n(f);case Un.code:throw new Un(f);case 5e3:throw new Mt(f);default:throw u instanceof H?u:new ao(f)}}},{delay:({count:u,error:f})=>{var d;if(f&&f instanceof xe){const l=(d=f==null?void 0:f.headers)==null?void 0:d.get("Retry-After");if(l!=null&&l.match(/\d/))return Number.parseInt(l)*1e3}return~~(1<<u)*o},retryCount:a,shouldRetry:({error:u})=>la(u)}),{enabled:s,id:i})}}function la(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Qt.code||e.code===lt.code:e instanceof xe&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ha({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:a},c){const i=Xr();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:a},request:da(n,{retryCount:r,retryDelay:s,uid:i}),value:c}}class pa extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function ba(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r?c.abort():o(t)},n)),s(await e({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&o(t),o(c)}finally{clearTimeout(a)}})()})}function ma(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const hr=ma();function ga(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:i,method:u,signal:f}=c;try{const l=await ba(async({signal:g})=>{const m={...c,body:Array.isArray(r)?Z(r.map(w=>({jsonrpc:"2.0",id:w.id??hr.take(),...w}))):Z({jsonrpc:"2.0",id:r.id??hr.take(),...r}),headers:{"Content-Type":"application/json",...i},method:u||"POST",signal:f||(a>0?g:null)},p=new Request(e,m),b=await(s==null?void 0:s(p,m))??{...m,url:e};return await fetch(b.url??e,b)},{errorInstance:new tr({body:r,url:e}),timeout:a,signal:!0});o&&await o(l);let h;if((d=l.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await l.json();else{h=await l.text();try{h=JSON.parse(h||"{}")}catch(g){if(l.ok)throw g;h={error:h}}}if(!l.ok)throw new xe({body:r,details:Z(h.error)||l.statusText,headers:l.headers,status:l.status,url:e});return h}catch(l){throw l instanceof xe||l instanceof tr?l:new xe({body:r,cause:l,url:e})}}}}function _c(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:i}=t;return({chain:u,retryCount:f,timeout:d})=>{const{batchSize:l=1e3,wait:h=0}=typeof n=="object"?n:{},g=t.retryCount??f,m=d??t.timeout??1e4,p=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!p)throw new pa;const b=ga(p,{fetchOptions:r,onRequest:a,onResponse:c,timeout:m});return ha({key:s,name:o,async request({method:y,params:w}){const v={method:y,params:w},{schedule:I}=Jr({id:p,wait:h,shouldSplitBatch(x){return x.length>l},fn:x=>b.request({body:x}),sort:(x,q)=>x.id-q.id}),A=async x=>n?I(x):[await b.request({body:x})],[{error:E,result:B}]=await A(v);if(E)throw new Ir({body:v,error:E,url:p});return B},retryCount:g,retryDelay:i,timeout:m,type:"http"},{fetchOptions:r,url:p})}}function Nn(e,t){var r,s,o,a,c,i;if(!(e instanceof H))return!1;const n=e.walk(u=>u instanceof Jt);return n instanceof Jt?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((a=n.data)==null?void 0:a.errorName)==="ResolverError"||((c=n.data)==null?void 0:c.errorName)==="HttpError"||(i=n.reason)!=null&&i.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===io[50]):!1}function Qr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ve(t)?t:null}function ft(e){let t=new Uint8Array(32).fill(0);if(!e)return We(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Qr(n[r]),o=s?pn(s):V(je(n[r]),"bytes");t=V(Nt([t,o]),"bytes")}return We(t)}function ya(e){return`[${e.slice(2)}]`}function wa(e){const t=new Uint8Array(32).fill(0);return e?Qr(e)||V(je(e)):We(t)}function Tt(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(je(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=je(s[o]);a.byteLength>255&&(a=je(ya(wa(s[o])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function va(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:c}){let i=c;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=De({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=ge({abi:fr,functionName:"addr",...r!=null?{args:[ft(s),BigInt(r)]}:{args:[ft(s)]}}),f={address:i,abi:Kr,functionName:"resolve",args:[he(Tt(s)),u],blockNumber:t,blockTag:n},d=_(e,ae,"readContract"),l=o?await d({...f,args:[...f.args,o]}):await d(f);if(l[0]==="0x")return null;const h=Me({abi:fr,args:r!=null?[ft(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return h==="0x"||co(h)==="0x00"?null:h}catch(u){if(a)throw u;if(Nn(u,"resolve"))return null;throw u}}class xa extends H{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ge extends H{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class kn extends H{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Ea extends H{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Ba=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Aa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Sa=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Na=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ka(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function pr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function es({uri:e,gatewayUrls:t}){const n=Sa.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=pr(t==null?void 0:t.ipfs,"https://ipfs.io"),s=pr(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Ba),{protocol:a,subpath:c,target:i,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=a==="ipns:/"||c==="ipns/",d=a==="ipfs:/"||c==="ipfs/"||Aa.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&i)return{uri:`${r}/${f?"ipns":"ipfs"}/${i}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&i)return{uri:`${s}/${i}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Na,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new kn({uri:e})}function ts(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new xa({data:e});return e.image||e.image_url||e.image_data}async function Ia({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await In({gatewayUrls:e,uri:ts(n)})}catch{throw new kn({uri:t})}}async function In({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=es({uri:t,gatewayUrls:e});if(r||await ka(n))return n;throw new kn({uri:t})}function Pa(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,a]=n.split(":"),[c,i]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ge({reason:"Only EIP-155 supported"});if(!a)throw new Ge({reason:"Chain ID not found"});if(!i)throw new Ge({reason:"Contract address not found"});if(!s)throw new Ge({reason:"Token ID not found"});if(!c)throw new Ge({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:c.toLowerCase(),contractAddress:i,tokenID:s}}async function Ra(e,{nft:t}){if(t.namespace==="erc721")return ae(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ae(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ea({namespace:t.namespace})}async function Ta(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?_a(e,{gatewayUrls:t,record:n}):In({uri:n,gatewayUrls:t})}async function _a(e,{gatewayUrls:t,record:n}){const r=Pa(n),s=await Ra(e,{nft:r}),{uri:o,isOnChain:a,isEncoded:c}=es({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return In({uri:ts(f),gatewayUrls:t})}let i=r.tokenID;return r.namespace==="erc1155"&&(i=i.replace("0x","").padStart(64,"0")),Ia({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,i)})}async function ns(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:a,universalResolverAddress:c}){let i=c;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=De({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:i,abi:Kr,functionName:"resolve",args:[he(Tt(r)),ge({abi:ur,functionName:"text",args:[ft(r),s]})],blockNumber:t,blockTag:n},f=_(e,ae,"readContract"),d=o?await f({...u,args:[...u.args,o]}):await f(u);if(d[0]==="0x")return null;const l=Me({abi:ur,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(a)throw u;if(Nn(u,"resolve"))return null;throw u}}async function Ca(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:c}){const i=await _(e,ns,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:a});if(!i)return null;try{return await Ta(e,{record:i,gatewayUrls:r})}catch{return null}}async function qa(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=De({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const i=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:c,abi:Uo,functionName:"reverse",args:[he(Tt(i))],blockNumber:n,blockTag:r},f=_(e,ae,"readContract"),[d,l]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(o)throw u;if(Nn(u,"reverse"))return null;throw u}}async function Oa(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=De({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await _(e,ae,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[he(Tt(r))],blockNumber:t,blockTag:n});return a}async function La(e){const t=kt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function rs(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:a,toBlock:c}={}){const i=s??(r?[r]:void 0),u=kt(e,{method:"eth_newFilter"});let f=[];i&&(f=[i.flatMap(h=>et({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?M(o):o,toBlock:typeof c=="bigint"?M(c):c,...f.length?{topics:f}:{}}]});return{abi:i,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!a,toBlock:c,type:"event"}}async function ss(e){const t=kt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Da(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ma(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?M(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Qe(o)}async function br(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?M(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Ha(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Fa(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?M(n):void 0,a=await e.request({method:"eth_feeHistory",params:[M(t),o||r,s]},{dedupe:!!o});return Ha(a)}async function Ua(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ee(o));return t.abi?Bn({abi:t.abi,logs:s,strict:n}):s}class $a extends H{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:a}){var c;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(c=n.metaMessages)!=null&&c.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(i=>`    ${qr(i)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class za extends H{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${qr(n)}`,`Response: ${Z(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Ga extends H{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const ja="0x556f1830",os={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Va(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=uo({data:r,abi:[os]}),[a,c,i,u,f]=o,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:as;try{if(!It(s,a))throw new Ga({sender:a,to:s});const h=await l({data:i,sender:a,urls:c}),{data:g}=await tt(e,{blockNumber:t,blockTag:n,data:Nt([u,Ae([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return g}catch(h){throw new $a({callbackSelector:u,cause:h,data:r,extraData:f,sender:a,urls:c})}}async function as({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const a=n[o],c=a.includes("{data}")?"GET":"POST",i=c==="POST"?{data:e,sender:t}:void 0,u=c==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(i),headers:u,method:c});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new xe({body:i,details:d!=null&&d.error?Z(d.error):f.statusText,headers:f.headers,status:f.status,url:a});continue}if(!Ve(d)){r=new za({result:d,url:a});continue}return d}catch(f){r=new xe({body:i,details:f.message,url:a})}}throw r}const Za=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:as,offchainLookup:Va,offchainLookupAbiItem:os,offchainLookupSignature:ja},Symbol.toStringTag,{value:"Module"}));class Wa extends H{constructor({domain:t}){super(`Invalid domain "${Z(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Ka extends H{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ya extends H{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Ja(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ni({domain:t}),...e.types};ti({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Xa({domain:t,types:s})),r!=="EIP712Domain"&&o.push(is({data:n,primaryType:r,types:s})),V(Nt(o))}function Xa({domain:e,types:t}){return is({data:e,primaryType:"EIP712Domain",types:t})}function is({data:e,primaryType:t,types:n}){const r=cs({data:e,primaryType:t,types:n});return V(r)}function cs({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Qa({primaryType:t,types:n})];for(const o of n[t]){const[a,c]=fs({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(c)}return Ae(r,s)}function Qa({primaryType:e,types:t}){const n=he(ei({primaryType:e,types:t}));return V(n)}function ei({primaryType:e,types:t}){let n="";const r=us({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return n}function us({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])us({primaryType:o.type,types:t},n);return n}function fs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},V(cs({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},V(r)];if(n==="string")return[{type:"bytes32"},V(he(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>fs({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},V(Ae(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}function ti(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,c)=>{for(const i of a){const{name:u,type:f}=i,d=c[u],l=f.match(fo);if(l&&(typeof d=="number"||typeof d=="bigint")){const[m,p,b]=l;M(d,{signed:p==="int",size:Number.parseInt(b)/8})}if(f==="address"&&typeof d=="string"&&!ht(d))throw new pt({address:d});const h=f.match(lo);if(h){const[m,p]=h;if(p&&bt(d)!==Number.parseInt(p))throw new ho({expectedSize:Number.parseInt(p),givenSize:bt(d)})}const g=s[f];g&&(ri(f),o(g,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Wa({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Ka({primaryType:r,types:s})}function ni({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ri(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Ya({type:e})}const si=`Ethereum Signed Message:
`;function oi(e){const t=(()=>typeof e=="string"?Xt(e):typeof e.raw=="string"?e.raw:We(e.raw))(),n=Xt(`${si}${bt(t)}`);return Nt([n,t])}function ds(e,t){return V(oi(e),t)}const ls="0x6492649264926492649264926492649264926492649264926492649264926492";function ai(e){return po(e,-32)===ls}function ii(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=At([Ae([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),ls]);return s==="hex"?o:mn(o)}function ci(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function ui(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Qe(e.nonce):void 0,storageProof:e.storageProof?ci(e.storageProof):void 0}}async function fi(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",a=n!==void 0?M(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,a||o]});return ui(c)}async function di(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Pn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const a=r||"latest",c=n!==void 0?M(n):void 0;let i=null;if(s?i=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?i=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(o)]},{dedupe:!0}):(c||a)&&(i=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||a,M(o)]},{dedupe:!!c})),!i)throw new Or({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||bo)(i)}async function li(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,rt,"getBlockNumber")({}),t?_(e,Pn,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function on(e,{hash:t}){var s,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Lr({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||mo)(n)}async function hi(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:c}=t,i=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=a;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=De({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,h=0;for(let b=0;b<i.length;b++){const{abi:y,address:w,args:v,functionName:I}=i[b];try{const A=ge({abi:y,args:v,functionName:I});h+=(A.length-2)/2,u>0&&h>u&&d[l].length>0&&(l++,h=(A.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:A,target:w}]}catch(A){const E=Ke(A,{abi:y,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw E;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:w}]}}const g=await Promise.allSettled(d.map(b=>_(e,ae,"readContract")({abi:tn,address:f,args:[b],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:c}))),m=[];for(let b=0;b<g.length;b++){const y=g[b];if(y.status==="rejected"){if(!n)throw y.reason;for(let v=0;v<d[b].length;v++)m.push({status:"failure",error:y.reason,result:void 0});continue}const w=y.value;for(let v=0;v<w.length;v++){const{returnData:I,success:A}=w[v],{callData:E}=d[b][v],{abi:B,address:x,functionName:q,args:P}=i[m.length];try{if(E==="0x")throw new kr;if(!A)throw new bn({data:I});const T=Me({abi:B,args:P,data:I,functionName:q});m.push(n?{result:T,status:"success"}:T)}catch(T){const O=Ke(T,{abi:B,address:x,args:P,docsPath:"/docs/contract/multicall",functionName:q});if(!n)throw O;m.push({error:O,result:void 0,status:"failure"})}}}if(m.length!==i.length)throw new H("multicall results mismatch");return m}function mr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function pi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _t(e,...t){if(!pi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function bi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");mr(e.outputLen),mr(e.blockLen)}function gt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mi(e,t){_t(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ie=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ee=(e,t)=>e<<32-t|e>>>t;function gi(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Rn(e){return typeof e=="string"&&(e=gi(e)),_t(e),e}function yi(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];_t(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class hs{clone(){return this._cloneInto()}}function wi(e){const t=r=>e().update(Rn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ps(e=32){if(Ie&&typeof Ie.getRandomValues=="function")return Ie.getRandomValues(new Uint8Array(e));if(Ie&&typeof Ie.randomBytes=="function")return Ie.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function vi(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),a=Number(n>>s&o),c=Number(n&o),i=r?4:0,u=r?0:4;e.setUint32(t+i,a,r),e.setUint32(t+u,c,r)}const xi=(e,t,n)=>e&t^~e&n,Ei=(e,t,n)=>e&t^e&n^t&n;class Bi extends hs{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=zt(this.buffer)}update(t){gt(this);const{view:n,buffer:r,blockLen:s}=this;t=Rn(t);const o=t.length;for(let a=0;a<o;){const c=Math.min(s-this.pos,o-a);if(c===s){const i=zt(t);for(;s<=o-a;a+=s)this.process(i,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gt(this),mi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let d=a;d<s;d++)n[d]=0;vi(r,s-8,BigInt(this.length*8),o),this.process(r,0);const c=zt(t),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=i/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)c.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:a,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=a,s%n&&t.buffer.set(r),t}}const Ai=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ce=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ue=new Uint32Array(64);class Si extends Bi{constructor(){super(64,32,8,!1),this.A=ce[0]|0,this.B=ce[1]|0,this.C=ce[2]|0,this.D=ce[3]|0,this.E=ce[4]|0,this.F=ce[5]|0,this.G=ce[6]|0,this.H=ce[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:a,G:c,H:i}=this;return[t,n,r,s,o,a,c,i]}set(t,n,r,s,o,a,c,i){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=c|0,this.H=i|0}process(t,n){for(let d=0;d<16;d++,n+=4)ue[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=ue[d-15],h=ue[d-2],g=ee(l,7)^ee(l,18)^l>>>3,m=ee(h,17)^ee(h,19)^h>>>10;ue[d]=m+ue[d-7]+g+ue[d-16]|0}let{A:r,B:s,C:o,D:a,E:c,F:i,G:u,H:f}=this;for(let d=0;d<64;d++){const l=ee(c,6)^ee(c,11)^ee(c,25),h=f+l+xi(c,i,u)+Ai[d]+ue[d]|0,m=(ee(r,2)^ee(r,13)^ee(r,22))+Ei(r,s,o)|0;f=u,u=i,i=c,c=a+h|0,a=o,o=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,c=c+this.E|0,i=i+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,a,c,i,u,f)}roundClean(){ue.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yt=wi(()=>new Si);class bs extends hs{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bi(t);const r=Rn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return gt(this),this.iHash.update(t),this}digestInto(t){gt(this),_t(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:a,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ms=(e,t,n)=>new bs(e,t).update(n).digest();ms.create=(e,t)=>new bs(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),qt=BigInt(1),Ni=BigInt(2);function Be(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function re(e){if(!Be(e))throw new Error("Uint8Array expected")}function _e(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const ki=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ce(e){re(e);let t="";for(let n=0;n<e.length;n++)t+=ki[e[n]];return t}function Pe(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Tn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ct:BigInt("0x"+e)}const se={_0:48,_9:57,A:65,F:70,a:97,f:102};function gr(e){if(e>=se._0&&e<=se._9)return e-se._0;if(e>=se.A&&e<=se.F)return e-(se.A-10);if(e>=se.a&&e<=se.f)return e-(se.a-10)}function qe(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const a=gr(e.charCodeAt(o)),c=gr(e.charCodeAt(o+1));if(a===void 0||c===void 0){const i=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+o)}r[s]=a*16+c}return r}function ne(e){return Tn(Ce(e))}function _n(e){return re(e),Tn(Ce(Uint8Array.from(e).reverse()))}function be(e,t){return qe(e.toString(16).padStart(t*2,"0"))}function Cn(e,t){return be(e,t).reverse()}function Ii(e){return qe(Pe(e))}function j(e,t,n){let r;if(typeof t=="string")try{r=qe(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Be(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Y(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];re(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Pi(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Ot(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const Gt=e=>typeof e=="bigint"&&Ct<=e;function Oe(e,t,n){return Gt(e)&&Gt(t)&&Gt(n)&&t<=e&&e<n}function le(e,t,n,r){if(!Oe(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function gs(e){let t;for(t=0;e>Ct;e>>=qt,t+=1);return t}function Ri(e,t){return e>>BigInt(t)&qt}function Ti(e,t,n){return e|(n?qt:Ct)<<BigInt(t)}const qn=e=>(Ni<<BigInt(e-1))-qt,jt=e=>new Uint8Array(e),yr=e=>Uint8Array.from(e);function ys(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=jt(e),s=jt(e),o=0;const a=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),i=(d=jt())=>{s=c(yr([0]),d),r=c(),d.length!==0&&(s=c(yr([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const h=r.slice();l.push(h),d+=r.length}return Y(...l)};return(d,l)=>{a(),i(d);let h;for(;!(h=l(u()));)i();return a(),h}}const _i={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Be(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function He(e,t,n={}){const r=(s,o,a)=>{const c=_i[o];if(typeof c!="function")throw new Error("invalid validator function");const i=e[s];if(!(a&&i===void 0)&&!c(i,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+i)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const Ci=()=>{throw new Error("not implemented")};function an(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const qi=Object.freeze(Object.defineProperty({__proto__:null,aInRange:le,abool:_e,abytes:re,bitGet:Ri,bitLen:gs,bitMask:qn,bitSet:Ti,bytesToHex:Ce,bytesToNumberBE:ne,bytesToNumberLE:_n,concatBytes:Y,createHmacDrbg:ys,ensureBytes:j,equalBytes:Pi,hexToBytes:qe,hexToNumber:Tn,inRange:Oe,isBytes:Be,memoized:an,notImplemented:Ci,numberToBytesBE:be,numberToBytesLE:Cn,numberToHexUnpadded:Pe,numberToVarBytesBE:Ii,utf8ToBytes:Ot,validateObject:He},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G=BigInt(0),U=BigInt(1),ve=BigInt(2),Oi=BigInt(3),cn=BigInt(4),wr=BigInt(5),vr=BigInt(8);function z(e,t){const n=e%t;return n>=G?n:t+n}function Li(e,t,n){if(t<G)throw new Error("invalid exponent, negatives unsupported");if(n<=G)throw new Error("invalid modulus");if(n===U)return G;let r=U;for(;t>G;)t&U&&(r=r*e%n),e=e*e%n,t>>=U;return r}function J(e,t,n){let r=e;for(;t-- >G;)r*=r,r%=n;return r}function un(e,t){if(e===G)throw new Error("invert: expected non-zero number");if(t<=G)throw new Error("invert: expected positive modulus, got "+t);let n=z(e,t),r=t,s=G,o=U;for(;n!==G;){const c=r/n,i=r%n,u=s-o*c;r=n,n=i,s=o,o=u}if(r!==U)throw new Error("invert: does not exist");return z(s,t)}function Di(e){const t=(e-U)/ve;let n,r,s;for(n=e-U,r=0;n%ve===G;n/=ve,r++);for(s=ve;s<e&&Li(s,t,e)!==e-U;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(e+U)/cn;return function(i,u){const f=i.pow(u,a);if(!i.eql(i.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+U)/ve;return function(c,i){if(c.pow(i,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,f=c.pow(c.mul(c.ONE,s),n),d=c.pow(i,o),l=c.pow(i,n);for(;!c.eql(l,c.ONE);){if(c.eql(l,c.ZERO))return c.ZERO;let h=1;for(let m=c.sqr(l);h<u&&!c.eql(m,c.ONE);h++)m=c.sqr(m);const g=c.pow(f,U<<BigInt(u-h-1));f=c.sqr(g),d=c.mul(d,g),l=c.mul(l,f),u=h}return d}}function Mi(e){if(e%cn===Oi){const t=(e+U)/cn;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%vr===wr){const t=(e-wr)/vr;return function(r,s){const o=r.mul(s,ve),a=r.pow(o,t),c=r.mul(s,a),i=r.mul(r.mul(c,ve),a),u=r.mul(c,r.sub(i,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Di(e)}const Hi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ws(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Hi.reduce((r,s)=>(r[s]="function",r),t);return He(e,n)}function Fi(e,t,n){if(n<G)throw new Error("invalid exponent, negatives unsupported");if(n===G)return e.ONE;if(n===U)return t;let r=e.ONE,s=t;for(;n>G;)n&U&&(r=e.mul(r,s)),s=e.sqr(s),n>>=U;return r}function Ui(e,t){const n=new Array(t.length),r=t.reduce((o,a,c)=>e.is0(a)?o:(n[c]=o,e.mul(o,a)),e.ONE),s=e.inv(r);return t.reduceRight((o,a,c)=>e.is0(a)?o:(n[c]=e.mul(o,n[c]),e.mul(o,a)),s),n}function vs(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function xs(e,t,n=!1,r={}){if(e<=G)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=vs(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:qn(s),ZERO:G,ONE:U,create:i=>z(i,e),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return G<=i&&i<e},is0:i=>i===G,isOdd:i=>(i&U)===U,neg:i=>z(-i,e),eql:(i,u)=>i===u,sqr:i=>z(i*i,e),add:(i,u)=>z(i+u,e),sub:(i,u)=>z(i-u,e),mul:(i,u)=>z(i*u,e),pow:(i,u)=>Fi(c,i,u),div:(i,u)=>z(i*un(u,e),e),sqrN:i=>i*i,addN:(i,u)=>i+u,subN:(i,u)=>i-u,mulN:(i,u)=>i*u,inv:i=>un(i,e),sqrt:r.sqrt||(i=>(a||(a=Mi(e)),a(c,i))),invertBatch:i=>Ui(c,i),cmov:(i,u,f)=>f?u:i,toBytes:i=>n?Cn(i,o):be(i,o),fromBytes:i=>{if(i.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+i.length);return n?_n(i):ne(i)}});return Object.freeze(c)}function Es(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Bs(e){const t=Es(e);return t+Math.ceil(t/2)}function $i(e,t,n=!1){const r=e.length,s=Es(t),o=Bs(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const a=n?ne(e):_n(e),c=z(a,t-U)+U;return n?Cn(c,s):be(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xr=BigInt(0),ct=BigInt(1);function Vt(e,t){const n=t.negate();return e?n:t}function As(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Zt(e,t){As(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function zi(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Gi(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Wt=new WeakMap,Ss=new WeakMap;function Kt(e){return Ss.get(e)||1}function ji(e,t){return{constTimeNegate:Vt,hasPrecomputes(n){return Kt(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>xr;)r&ct&&(s=s.add(o)),o=o.double(),r>>=ct;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Zt(r,t),a=[];let c=n,i=c;for(let u=0;u<s;u++){i=c,a.push(i);for(let f=1;f<o;f++)i=i.add(c),a.push(i);c=i.double()}return a},wNAF(n,r,s){const{windows:o,windowSize:a}=Zt(n,t);let c=e.ZERO,i=e.BASE;const u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let l=0;l<o;l++){const h=l*a;let g=Number(s&u);s>>=d,g>a&&(g-=f,s+=ct);const m=h,p=h+Math.abs(g)-1,b=l%2!==0,y=g<0;g===0?i=i.add(Vt(b,r[m])):c=c.add(Vt(y,r[p]))}return{p:c,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const{windows:a,windowSize:c}=Zt(n,t),i=BigInt(2**n-1),u=2**n,f=BigInt(n);for(let d=0;d<a;d++){const l=d*c;if(s===xr)break;let h=Number(s&i);if(s>>=f,h>c&&(h-=u,s+=ct),h===0)continue;let g=r[l+Math.abs(h)-1];h<0&&(g=g.negate()),o=o.add(g)}return o},getPrecomputes(n,r,s){let o=Wt.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Wt.set(r,s(o))),o},wNAFCached(n,r,s){const o=Kt(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const a=Kt(n);return a===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,o)},setWindowSize(n,r){As(r,t),Ss.set(n,r),Wt.delete(n)}}}function Vi(e,t,n,r){if(zi(n,e),Gi(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=gs(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,c=(1<<a)-1,i=new Array(c+1).fill(s),u=Math.floor((t.BITS-1)/a)*a;let f=s;for(let d=u;d>=0;d-=a){i.fill(s);for(let h=0;h<r.length;h++){const g=r[h],m=Number(g>>BigInt(d)&BigInt(c));i[m]=i[m].add(n[h])}let l=s;for(let h=i.length-1,g=s;h>0;h--)g=g.add(i[h]),l=l.add(g);if(f=f.add(l),d!==0)for(let h=0;h<a;h++)f=f.double()}return f}function Ns(e){return ws(e.Fp),He(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vs(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Er(e){e.lowS!==void 0&&_e("lowS",e.lowS),e.prehash!==void 0&&_e("prehash",e.prehash)}function Zi(e){const t=Ns(e);He(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Wi,hexToBytes:Ki}=qi,oe={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=oe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Pe(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Pe(s.length/2|128):"";return Pe(e)+o+s+t},decode(e,t){const{Err:n}=oe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let a=0;if(!o)a=s;else{const i=s&127;if(!i)throw new n("tlv.decode(long): indefinite length not supported");if(i>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+i);if(u.length!==i)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)a=a<<8|f;if(r+=i,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=oe;if(e<Q)throw new t("integer: negative integers are not allowed");let n=Pe(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=oe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Wi(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=oe,s=typeof e=="string"?Ki(e):e;re(s);const{v:o,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:i}=r.decode(2,o),{v:u,l:f}=r.decode(2,i);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=oe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},Q=BigInt(0),D=BigInt(1),fe=BigInt(2),wt=BigInt(3),Br=BigInt(4);function Yi(e){const t=Zi(e),{Fp:n}=t,r=xs(t.n,t.nBitLength),s=t.toBytes||((m,p,b)=>{const y=p.toAffine();return Y(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),o=t.fromBytes||(m=>{const p=m.subarray(1),b=n.fromBytes(p.subarray(0,n.BYTES)),y=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:b,y}});function a(m){const{a:p,b}=t,y=n.sqr(m),w=n.mul(y,m);return n.add(n.add(w,n.mul(m,p)),b)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function c(m){return Oe(m,D,t.n)}function i(m){const{allowedPrivateKeyLengths:p,nByteLength:b,wrapPrivateKey:y,n:w}=t;if(p&&typeof m!="bigint"){if(Be(m)&&(m=Ce(m)),typeof m!="string"||!p.includes(m.length))throw new Error("invalid private key");m=m.padStart(b*2,"0")}let v;try{v=typeof m=="bigint"?m:ne(j("private key",m,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof m)}return y&&(v=z(v,w)),le("private key",v,D,w),v}function u(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}const f=an((m,p)=>{const{px:b,py:y,pz:w}=m;if(n.eql(w,n.ONE))return{x:b,y};const v=m.is0();p==null&&(p=v?n.ONE:n.inv(w));const I=n.mul(b,p),A=n.mul(y,p),E=n.mul(w,p);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),d=an(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:p,y:b}=m.toAffine();if(!n.isValid(p)||!n.isValid(b))throw new Error("bad point: x or y not FE");const y=n.sqr(b),w=a(p);if(!n.eql(y,w))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(p,b,y){if(this.px=p,this.py=b,this.pz=y,p==null||!n.isValid(p))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x:b,y}=p||{};if(!p||!n.isValid(b)||!n.isValid(y))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");const w=v=>n.eql(v,n.ZERO);return w(b)&&w(y)?l.ZERO:new l(b,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const b=n.invertBatch(p.map(y=>y.pz));return p.map((y,w)=>y.toAffine(b[w])).map(l.fromAffine)}static fromHex(p){const b=l.fromAffine(o(j("pointHex",p)));return b.assertValidity(),b}static fromPrivateKey(p){return l.BASE.multiply(i(p))}static msm(p,b){return Vi(l,r,p,b)}_setWindowSize(p){g.setWindowSize(this,p)}assertValidity(){d(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:b,py:y,pz:w}=this,{px:v,py:I,pz:A}=p,E=n.eql(n.mul(b,A),n.mul(v,w)),B=n.eql(n.mul(y,A),n.mul(I,w));return E&&B}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b}=t,y=n.mul(b,wt),{px:w,py:v,pz:I}=this;let A=n.ZERO,E=n.ZERO,B=n.ZERO,x=n.mul(w,w),q=n.mul(v,v),P=n.mul(I,I),T=n.mul(w,v);return T=n.add(T,T),B=n.mul(w,I),B=n.add(B,B),A=n.mul(p,B),E=n.mul(y,P),E=n.add(A,E),A=n.sub(q,E),E=n.add(q,E),E=n.mul(A,E),A=n.mul(T,A),B=n.mul(y,B),P=n.mul(p,P),T=n.sub(x,P),T=n.mul(p,T),T=n.add(T,B),B=n.add(x,x),x=n.add(B,x),x=n.add(x,P),x=n.mul(x,T),E=n.add(E,x),P=n.mul(v,I),P=n.add(P,P),x=n.mul(P,T),A=n.sub(A,x),B=n.mul(P,q),B=n.add(B,B),B=n.add(B,B),new l(A,E,B)}add(p){u(p);const{px:b,py:y,pz:w}=this,{px:v,py:I,pz:A}=p;let E=n.ZERO,B=n.ZERO,x=n.ZERO;const q=t.a,P=n.mul(t.b,wt);let T=n.mul(b,v),O=n.mul(y,I),S=n.mul(w,A),k=n.add(b,y),N=n.add(v,I);k=n.mul(k,N),N=n.add(T,O),k=n.sub(k,N),N=n.add(b,w);let R=n.add(v,A);return N=n.mul(N,R),R=n.add(T,S),N=n.sub(N,R),R=n.add(y,w),E=n.add(I,A),R=n.mul(R,E),E=n.add(O,S),R=n.sub(R,E),x=n.mul(q,N),E=n.mul(P,S),x=n.add(E,x),E=n.sub(O,x),x=n.add(O,x),B=n.mul(E,x),O=n.add(T,T),O=n.add(O,T),S=n.mul(q,S),N=n.mul(P,N),O=n.add(O,S),S=n.sub(T,S),S=n.mul(q,S),N=n.add(N,S),T=n.mul(O,N),B=n.add(B,T),T=n.mul(R,N),E=n.mul(k,E),E=n.sub(E,T),T=n.mul(k,O),x=n.mul(R,x),x=n.add(x,T),new l(E,B,x)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,p,l.normalizeZ)}multiplyUnsafe(p){const{endo:b,n:y}=t;le("scalar",p,Q,y);const w=l.ZERO;if(p===Q)return w;if(this.is0()||p===D)return this;if(!b||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,p,l.normalizeZ);let{k1neg:v,k1:I,k2neg:A,k2:E}=b.splitScalar(p),B=w,x=w,q=this;for(;I>Q||E>Q;)I&D&&(B=B.add(q)),E&D&&(x=x.add(q)),q=q.double(),I>>=D,E>>=D;return v&&(B=B.negate()),A&&(x=x.negate()),x=new l(n.mul(x.px,b.beta),x.py,x.pz),B.add(x)}multiply(p){const{endo:b,n:y}=t;le("scalar",p,D,y);let w,v;if(b){const{k1neg:I,k1:A,k2neg:E,k2:B}=b.splitScalar(p);let{p:x,f:q}=this.wNAF(A),{p:P,f:T}=this.wNAF(B);x=g.constTimeNegate(I,x),P=g.constTimeNegate(E,P),P=new l(n.mul(P.px,b.beta),P.py,P.pz),w=x.add(P),v=q.add(T)}else{const{p:I,f:A}=this.wNAF(p);w=I,v=A}return l.normalizeZ([w,v])[0]}multiplyAndAddUnsafe(p,b,y){const w=l.BASE,v=(A,E)=>E===Q||E===D||!A.equals(w)?A.multiplyUnsafe(E):A.multiply(E),I=v(this,b).add(v(p,y));return I.is0()?void 0:I}toAffine(p){return f(this,p)}isTorsionFree(){const{h:p,isTorsionFree:b}=t;if(p===D)return!0;if(b)return b(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:b}=t;return p===D?this:b?b(l,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return _e("isCompressed",p),this.assertValidity(),s(l,this,p)}toHex(p=!0){return _e("isCompressed",p),Ce(this.toRawBytes(p))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,g=ji(l,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:i,weierstrassEquation:a,isWithinCurveOrder:c}}function Ji(e){const t=Ns(e);return He(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Xi(e){const t=Ji(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function a(S){return z(S,r)}function c(S){return un(S,r)}const{ProjectivePoint:i,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Yi({...t,toBytes(S,k,N){const R=k.toAffine(),C=n.toBytes(R.x),L=Y;return _e("isCompressed",N),N?L(Uint8Array.from([k.hasEvenY()?2:3]),C):L(Uint8Array.from([4]),C,n.toBytes(R.y))},fromBytes(S){const k=S.length,N=S[0],R=S.subarray(1);if(k===s&&(N===2||N===3)){const C=ne(R);if(!Oe(C,D,n.ORDER))throw new Error("Point is not on curve");const L=f(C);let F;try{F=n.sqrt(L)}catch(X){const W=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+W)}const $=(F&D)===D;return(N&1)===1!==$&&(F=n.neg(F)),{x:C,y:F}}else if(k===o&&N===4){const C=n.fromBytes(R.subarray(0,n.BYTES)),L=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:C,y:L}}else{const C=s,L=o;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+L+", got "+k)}}}),l=S=>Ce(be(S,t.nByteLength));function h(S){const k=r>>D;return S>k}function g(S){return h(S)?a(-S):S}const m=(S,k,N)=>ne(S.slice(k,N));class p{constructor(k,N,R){this.r=k,this.s=N,this.recovery=R,this.assertValidity()}static fromCompact(k){const N=t.nByteLength;return k=j("compactSignature",k,N*2),new p(m(k,0,N),m(k,N,2*N))}static fromDER(k){const{r:N,s:R}=oe.toSig(j("DER",k));return new p(N,R)}assertValidity(){le("r",this.r,D,r),le("s",this.s,D,r)}addRecoveryBit(k){return new p(this.r,this.s,k)}recoverPublicKey(k){const{r:N,s:R,recovery:C}=this,L=A(j("msgHash",k));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const F=C===2||C===3?N+t.n:N;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=C&1?"03":"02",K=i.fromHex($+l(F)),X=c(F),W=a(-L*X),Se=a(R*X),ie=i.BASE.multiplyAndAddUnsafe(K,W,Se);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return qe(this.toDERHex())}toDERHex(){return oe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qe(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const b={isValidPrivateKey(S){try{return u(S),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const S=Bs(t.n);return $i(t.randomBytes(S),t.n)},precompute(S=8,k=i.BASE){return k._setWindowSize(S),k.multiply(BigInt(3)),k}};function y(S,k=!0){return i.fromPrivateKey(S).toRawBytes(k)}function w(S){const k=Be(S),N=typeof S=="string",R=(k||N)&&S.length;return k?R===s||R===o:N?R===2*s||R===2*o:S instanceof i}function v(S,k,N=!0){if(w(S))throw new Error("first arg must be private key");if(!w(k))throw new Error("second arg must be public key");return i.fromHex(k).multiply(u(S)).toRawBytes(N)}const I=t.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const k=ne(S),N=S.length*8-t.nBitLength;return N>0?k>>BigInt(N):k},A=t.bits2int_modN||function(S){return a(I(S))},E=qn(t.nBitLength);function B(S){return le("num < 2^"+t.nBitLength,S,Q,E),be(S,t.nByteLength)}function x(S,k,N=q){if(["recovered","canonical"].some(ye=>ye in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:C}=t;let{lowS:L,prehash:F,extraEntropy:$}=N;L==null&&(L=!0),S=j("msgHash",S),Er(N),F&&(S=j("prehashed msgHash",R(S)));const K=A(S),X=u(k),W=[B(X),B(K)];if($!=null&&$!==!1){const ye=$===!0?C(n.BYTES):$;W.push(j("extraEntropy",ye))}const Se=Y(...W),ie=K;function Lt(ye){const Ne=I(ye);if(!d(Ne))return;const Dt=c(Ne),Ue=i.BASE.multiply(Ne).toAffine(),we=a(Ue.x);if(we===Q)return;const $e=a(Dt*a(ie+we*X));if($e===Q)return;let ze=(Ue.x===we?0:2)|Number(Ue.y&D),ke=$e;return L&&h($e)&&(ke=g($e),ze^=1),new p(we,ke,ze)}return{seed:Se,k2sig:Lt}}const q={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};function T(S,k,N=q){const{seed:R,k2sig:C}=x(S,k,N),L=t;return ys(L.hash.outputLen,L.nByteLength,L.hmac)(R,C)}i.BASE._setWindowSize(8);function O(S,k,N,R=P){var ze;const C=S;k=j("msgHash",k),N=j("publicKey",N);const{lowS:L,prehash:F,format:$}=R;if(Er(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const K=typeof C=="string"||Be(C),X=!K&&!$&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!K&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,Se;try{if(X&&(W=new p(C.r,C.s)),K){try{$!=="compact"&&(W=p.fromDER(C))}catch(ke){if(!(ke instanceof oe.Err))throw ke}!W&&$!=="der"&&(W=p.fromCompact(C))}Se=i.fromHex(N)}catch{return!1}if(!W||L&&W.hasHighS())return!1;F&&(k=t.hash(k));const{r:ie,s:Lt}=W,ye=A(k),Ne=c(Lt),Dt=a(ye*Ne),Ue=a(ie*Ne),we=(ze=i.BASE.multiplyAndAddUnsafe(Se,Dt,Ue))==null?void 0:ze.toAffine();return we?a(we.x)===ie:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:v,sign:T,verify:O,ProjectivePoint:i,Signature:p,utils:b}}function Qi(e,t){const n=e.ORDER;let r=Q;for(let g=n-D;g%fe===Q;g/=fe)r+=D;const s=r,o=fe<<s-D-D,a=o*fe,c=(n-D)/a,i=(c-D)/fe,u=a-D,f=o,d=e.pow(t,c),l=e.pow(t,(c+D)/fe);let h=(g,m)=>{let p=d,b=e.pow(m,u),y=e.sqr(b);y=e.mul(y,m);let w=e.mul(g,y);w=e.pow(w,i),w=e.mul(w,b),b=e.mul(w,m),y=e.mul(w,g);let v=e.mul(y,b);w=e.pow(v,f);let I=e.eql(w,e.ONE);b=e.mul(y,l),w=e.mul(v,p),y=e.cmov(b,y,I),v=e.cmov(w,v,I);for(let A=s;A>D;A--){let E=A-fe;E=fe<<E-D;let B=e.pow(v,E);const x=e.eql(B,e.ONE);b=e.mul(y,p),p=e.mul(p,p),B=e.mul(v,p),y=e.cmov(b,y,x),v=e.cmov(B,v,x)}return{isValid:I,value:y}};if(e.ORDER%Br===wt){const g=(e.ORDER-wt)/Br,m=e.sqrt(e.neg(t));h=(p,b)=>{let y=e.sqr(b);const w=e.mul(p,b);y=e.mul(y,w);let v=e.pow(y,g);v=e.mul(v,w);const I=e.mul(v,m),A=e.mul(e.sqr(v),b),E=e.eql(A,p);let B=e.cmov(I,v,E);return{isValid:E,value:B}}}return h}function ec(e,t){if(ws(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=Qi(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,a,c,i,u,f,d;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),a=e.add(o,e.ONE),a=e.mul(a,t.B),c=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),c=e.mul(c,t.A),o=e.sqr(a),u=e.sqr(c),i=e.mul(u,t.A),o=e.add(o,i),o=e.mul(o,a),u=e.mul(u,c),i=e.mul(u,t.B),o=e.add(o,i),f=e.mul(s,a);const{isValid:l,value:h}=n(o,u);d=e.mul(s,r),d=e.mul(d,h),f=e.cmov(f,a,l),d=e.cmov(d,h,l);const g=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,g),f=e.div(f,c),{x:f,y:d}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tc(e){return{hash:e,hmac:(t,...n)=>ms(e,t,yi(...n)),randomBytes:ps}}function nc(e,t){const n=r=>Xi({...e,...tc(r)});return Object.freeze({...n(t),create:n})}const rc=ne;function de(e,t){if(Ye(e),Ye(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function sc(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Ye(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function oc(e,t,n,r){re(e),re(t),Ye(n),t.length>255&&(t=r(Y(Ot("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:o}=r,a=Math.ceil(n/s);if(n>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const c=Y(t,de(t.length,1)),i=de(0,o),u=de(n,2),f=new Array(a),d=r(Y(i,e,u,de(0,1),c));f[0]=r(Y(d,de(1,1),c));for(let h=1;h<=a;h++){const g=[sc(d,f[h-1]),de(h+1,1),c];f[h]=r(Y(...g))}return Y(...f).slice(0,n)}function ac(e,t,n,r,s){if(re(e),re(t),Ye(n),t.length>255){const o=Math.ceil(2*r/8);t=s.create({dkLen:o}).update(Ot("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(de(n,2)).update(t).update(de(t.length,1)).digest()}function Ar(e,t,n){He(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:o,hash:a,expand:c,DST:i}=n;re(e),Ye(t);const u=typeof i=="string"?Ot(i):i,f=r.toString(2).length,d=Math.ceil((f+s)/8),l=t*o*d;let h;if(c==="xmd")h=oc(e,u,l,a);else if(c==="xof")h=ac(e,u,l,s,a);else if(c==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const g=new Array(t);for(let m=0;m<t;m++){const p=new Array(o);for(let b=0;b<o;b++){const y=d*(b+m*o),w=h.subarray(y,y+d);p[b]=z(rc(w),r)}g[m]=p}return g}function ic(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[o,a,c,i]=n.map(u=>u.reduce((f,d)=>e.add(e.mul(f,r),d)));return r=e.div(o,a),s=e.mul(s,e.div(c,i)),{x:r,y:s}}}function cc(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const o=Ar(r,2,{...n,DST:n.DST,...s}),a=e.fromAffine(t(o[0])),c=e.fromAffine(t(o[1])),i=a.add(c).clearCofactor();return i.assertValidity(),i},encodeToCurve(r,s){const o=Ar(r,1,{...n,DST:n.encodeDST,...s}),a=e.fromAffine(t(o[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const o of r)if(typeof o!="bigint")throw new Error("mapToCurve: expected array of bigints");const s=e.fromAffine(t(r)).clearCofactor();return s.assertValidity(),s}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const st=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Je=BigInt(1),xt=BigInt(2),Sr=(e,t)=>(e+t/xt)/t;function ks(e){const t=st,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),c=BigInt(44),i=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=J(f,n,t)*f%t,l=J(d,n,t)*f%t,h=J(l,xt,t)*u%t,g=J(h,s,t)*h%t,m=J(g,o,t)*g%t,p=J(m,c,t)*m%t,b=J(p,i,t)*p%t,y=J(b,c,t)*m%t,w=J(y,n,t)*f%t,v=J(w,a,t)*g%t,I=J(v,r,t)*u%t,A=J(I,xt,t);if(!me.eql(me.sqr(A),e))throw new Error("Cannot find square root");return A}const me=xs(st,void 0,void 0,{sqrt:ks}),Fe=nc({a:BigInt(0),b:BigInt(7),Fp:me,n:vt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=vt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Je*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),c=Sr(o*e,t),i=Sr(-r*e,t);let u=z(e-c*n-i*s,t),f=z(-c*r-i*o,t);const d=u>a,l=f>a;if(d&&(u=t-u),l&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},yt),Is=BigInt(0),Nr={};function Et(e,...t){let n=Nr[e];if(n===void 0){const r=yt(Uint8Array.from(e,s=>s.charCodeAt(0)));n=Y(r,r),Nr[e]=n}return yt(Y(n,...t))}const On=e=>e.toRawBytes(!0).slice(1),fn=e=>be(e,32),Yt=e=>z(e,st),Xe=e=>z(e,vt),Ln=Fe.ProjectivePoint,uc=(e,t,n)=>Ln.BASE.multiplyAndAddUnsafe(e,t,n);function dn(e){let t=Fe.utils.normPrivateKeyToScalar(e),n=Ln.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Xe(-t),bytes:On(n)}}function Ps(e){le("x",e,Je,st);const t=Yt(e*e),n=Yt(t*e+BigInt(7));let r=ks(n);r%xt!==Is&&(r=Yt(-r));const s=new Ln(e,r,Je);return s.assertValidity(),s}const Re=ne;function Rs(...e){return Xe(Re(Et("BIP0340/challenge",...e)))}function fc(e){return dn(e).bytes}function dc(e,t,n=ps(32)){const r=j("message",e),{bytes:s,scalar:o}=dn(t),a=j("auxRand",n,32),c=fn(o^Re(Et("BIP0340/aux",a))),i=Et("BIP0340/nonce",c,s,r),u=Xe(Re(i));if(u===Is)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=dn(u),l=Rs(f,s,r),h=new Uint8Array(64);if(h.set(f,0),h.set(fn(Xe(d+l*o)),32),!Ts(h,r,s))throw new Error("sign: Invalid signature produced");return h}function Ts(e,t,n){const r=j("signature",e,64),s=j("message",t),o=j("publicKey",n,32);try{const a=Ps(Re(o)),c=Re(r.subarray(0,32));if(!Oe(c,Je,st))return!1;const i=Re(r.subarray(32,64));if(!Oe(i,Je,vt))return!1;const u=Rs(fn(c),On(a),s),f=uc(a,i,Xe(-u));return!(!f||!f.hasEvenY()||f.toAffine().x!==c)}catch{return!1}}const lc=(()=>({getPublicKey:fc,sign:dc,verify:Ts,utils:{randomPrivateKey:Fe.utils.randomPrivateKey,lift_x:Ps,pointToBytes:On,numberToBytesBE:be,bytesToNumberBE:ne,taggedHash:Et,mod:z}}))(),hc=(()=>ic(me,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),pc=(()=>ec(me,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:me.create(BigInt("-11"))}))(),_s=(()=>cc(Fe.ProjectivePoint,e=>{const{x:t,y:n}=pc(me.create(e[0]));return hc(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:me.ORDER,m:1,k:128,expand:"xmd",hash:yt}))(),bc=(()=>_s.hashToCurve)(),mc=(()=>_s.encodeToCurve)(),gc=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:mc,hashToCurve:bc,schnorr:lc,secp256k1:Fe},Symbol.toStringTag,{value:"Module"}));function yc({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new Fe.Signature(Te(e),Te(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:mn(a)}async function Dn(e,t){var d,l,h;const{address:n,factory:r,factoryData:s,hash:o,signature:a,universalSignatureVerifierAddress:c=(h=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:h.address,...i}=t,u=(()=>Ve(a)?a:typeof a=="object"&&"r"in a&&"s"in a?yc(a):We(a))(),f=await(async()=>!r&&!s||ai(u)?u:ii({address:r,data:s,signature:u}))();try{const g=c?{to:c,data:ge({abi:dr,functionName:"isValidSig",args:[n,o,f]}),...i}:{data:Sn({abi:dr,args:[n,o,f],bytecode:jo}),...i},{data:m}=await _(e,tt,"call")(g);return go(m??"0x0")}catch(g){try{if(It(yo(n),await Hr({hash:o,signature:a})))return!0}catch{}if(g instanceof wo)return!1;throw g}}async function wc(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...a}){const c=ds(n);return Dn(e,{address:t,factory:r,factoryData:s,hash:c,signature:o,...a})}async function vc(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:a,primaryType:c,types:i,domain:u,...f}=t,d=Ja({message:a,primaryType:c,types:i,domain:u});return Dn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Cs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const c=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let i;return c?(()=>{const d=Z(["watchBlockNumber",e.uid,t,n,a]);return pe(d,{onBlockNumber:r,onError:s},l=>nt(async()=>{var h;try{const g=await _(e,rt,"getBlockNumber")({cacheTime:0});if(i){if(g===i)return;if(g-i>1&&n)for(let m=i+1n;m<g;m++)l.onBlockNumber(m,i),i=m}(!i||g>i)&&(l.onBlockNumber(g,i),i=g)}catch(g){(h=l.onError)==null||h.call(l,g)}},{emitOnBegin:t,interval:a}))})():(()=>{const d=Z(["watchBlockNumber",e.uid,t,n]);return pe(d,{onBlockNumber:r,onError:s},l=>{let h=!0,g=()=>h=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(y=>y.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:p}=await m.subscribe({params:["newHeads"],onData(b){var w;if(!h)return;const y=Te((w=b.result)==null?void 0:w.number);l.onBlockNumber(y,i),i=y},onError(b){var y;(y=l.onError)==null||y.call(l,b)}});g=p,h||g()}catch(m){s==null||s(m)}})(),()=>g()})})()}async function xc(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:a=({count:i})=>~~(1<<i)*200,timeout:c=18e4}){const i=Z(["waitForTransactionReceipt",e.uid,n]);let u,f,d,l=!1;const{promise:h,resolve:g,reject:m}=Yr(),p=c?setTimeout(()=>m(new vo({hash:n})),c):void 0,b=pe(i,{onReplaced:r,resolve:g,reject:m},y=>{const w=_(e,Cs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(v){const I=E=>{clearTimeout(p),w(),E(),b()};let A=v;if(!l)try{if(d){if(t>1&&(!d.blockNumber||A-d.blockNumber+1n<t))return;I(()=>y.resolve(d));return}if(u||(l=!0,await sn(async()=>{u=await _(e,Pn,"getTransaction")({hash:n}),u.blockNumber&&(A=u.blockNumber)},{delay:a,retryCount:o}),l=!1),d=await _(e,on,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||A-d.blockNumber+1n<t))return;I(()=>y.resolve(d))}catch(E){if(E instanceof Or||E instanceof Lr){if(!u){l=!1;return}try{f=u,l=!0;const B=await sn(()=>_(e,te,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:P})=>P instanceof Ur});l=!1;const x=B.transactions.find(({from:P,nonce:T})=>P===f.from&&T===f.nonce);if(!x||(d=await _(e,on,"getTransactionReceipt")({hash:x.hash}),t>1&&(!d.blockNumber||A-d.blockNumber+1n<t)))return;let q="replaced";x.to===f.to&&x.value===f.value?q="repriced":x.from===x.to&&x.value===0n&&(q="cancelled"),I(()=>{var P;(P=y.onReplaced)==null||P.call(y,{reason:q,replacedTransaction:f,transaction:x,transactionReceipt:d}),y.resolve(d)})}catch(B){I(()=>y.reject(B))}}else I(()=>y.reject(E))}}})});return h}function Ec(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:a,poll:c,pollingInterval:i=e.pollingInterval}){const u=(()=>typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),f=a??!1;let d;return u?(()=>{const g=Z(["watchBlocks",e.uid,t,n,r,f,i]);return pe(g,{onBlock:s,onError:o},m=>nt(async()=>{var p;try{const b=await _(e,te,"getBlock")({blockTag:t,includeTransactions:f});if(b.number&&(d!=null&&d.number)){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let y=(d==null?void 0:d.number)+1n;y<b.number;y++){const w=await _(e,te,"getBlock")({blockNumber:y,includeTransactions:f});m.onBlock(w,d),d=w}}(!(d!=null&&d.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>d.number)&&(m.onBlock(b,d),d=b)}catch(b){(p=m.onError)==null||p.call(m,b)}},{emitOnBegin:r,interval:i}))})():(()=>{let g=!0,m=!0,p=()=>g=!1;return(async()=>{try{r&&_(e,te,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{g&&m&&(s(w,void 0),m=!1)});const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(v=>v.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],async onData(w){if(!g)return;const v=await _(e,te,"getBlock")({blockNumber:w.blockNumber,includeTransactions:f}).catch(()=>{});g&&(s(v,d),m=!1,d=v)},onError(w){o==null||o(w)}});p=y,g||p()}catch(b){o==null||o(b)}})(),()=>p()})()}function Bc(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:a,onError:c,onLogs:i,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),h=d??!1;return l?(()=>{const p=Z(["watchEvent",t,n,r,e.uid,s,f,a]);return pe(p,{onLogs:i,onError:c},b=>{let y;a!==void 0&&(y=a-1n);let w,v=!1;const I=nt(async()=>{var A;if(!v){try{w=await _(e,rs,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:a})}catch{}v=!0;return}try{let E;if(w)E=await _(e,Pt,"getFilterChanges")({filter:w});else{const B=await _(e,rt,"getBlockNumber")({});y&&y!==B?E=await _(e,An,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:y+1n,toBlock:B}):E=[],y=B}if(E.length===0)return;if(r)b.onLogs(E);else for(const B of E)b.onLogs([B])}catch(E){w&&E instanceof mt&&(v=!1),(A=b.onError)==null||A.call(b,E)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await _(e,Rt,"uninstallFilter")({filter:w}),I()}})})():(()=>{let p=!0,b=()=>p=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(E=>E.config.type==="webSocket");return A?A.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let v=[];w&&(v=[w.flatMap(E=>et({abi:[E],eventName:E.name,args:n}))],s&&(v=v[0]));const{unsubscribe:I}=await y.subscribe({params:["logs",{address:t,topics:v}],onData(A){var B;if(!p)return;const E=A.result;try{const{eventName:x,args:q}=En({abi:w??[],data:E.data,topics:E.topics,strict:h}),P=Ee(E,{args:q,eventName:x});i([P])}catch(x){let q,P;if(x instanceof Ze||x instanceof St){if(d)return;q=x.abiItem.name,P=(B=x.abiItem.inputs)==null?void 0:B.some(O=>!("name"in O&&O.name))}const T=Ee(E,{args:P?[]:{},eventName:q});i([T])}},onError(A){c==null||c(A)}});b=I,p||b()}catch(y){c==null||c(y)}})(),()=>b()})()}function Ac(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=Z(["watchPendingTransactions",e.uid,t,o]);return pe(u,{onTransactions:r,onError:n},f=>{let d;const l=nt(async()=>{var h;try{if(!d)try{d=await _(e,ss,"createPendingTransactionFilter")({});return}catch(m){throw l(),m}const g=await _(e,Pt,"getFilterChanges")({filter:d});if(g.length===0)return;if(t)f.onTransactions(g);else for(const m of g)f.onTransactions([m])}catch(g){(h=f.onError)==null||h.call(f,g)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await _(e,Rt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Sc(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(Nc))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:c,requestId:i,...u}=((l=e.match(kc))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...c?{notBefore:new Date(c)}:{},...i?{requestId:i}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Nc=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,kc=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Ic(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:a=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||t&&!It(r.address,t))return!1}catch{return!1}return!0}async function Pc(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:a,signature:c,time:i=new Date,...u}=t,f=Sc(s);if(!f.address||!Ic({address:n,domain:r,message:f,nonce:o,scheme:a,time:i}))return!1;const l=ds(s);return Dn(e,{address:f.address,hash:l,signature:c,...u})}function Rc(e){return{call:t=>tt(e,t),createBlockFilter:()=>La(e),createContractEventFilter:t=>Mr(e,t),createEventFilter:t=>rs(e,t),createPendingTransactionFilter:()=>ss(e),estimateContractGas:t=>Mo(e,t),estimateGas:t=>xn(e,t),getBalance:t=>Vr(e,t),getBlobBaseFee:()=>Da(e),getBlock:t=>te(e,t),getBlockNumber:t=>rt(e,t),getBlockTransactionCount:t=>Ma(e,t),getBytecode:t=>br(e,t),getChainId:()=>Gr(e),getCode:t=>br(e,t),getContractEvents:t=>Zr(e,t),getEip712Domain:t=>ia(e,t),getEnsAddress:t=>va(e,t),getEnsAvatar:t=>Ca(e,t),getEnsName:t=>qa(e,t),getEnsResolver:t=>Oa(e,t),getEnsText:t=>ns(e,t),getFeeHistory:t=>Fa(e,t),estimateFeesPerGas:t=>Lo(e,t),getFilterChanges:t=>Pt(e,t),getFilterLogs:t=>Ua(e,t),getGasPrice:()=>vn(e),getLogs:t=>An(e,t),getProof:t=>fi(e,t),estimateMaxPriorityFeePerGas:t=>Oo(e,t),getStorageAt:t=>di(e,t),getTransaction:t=>Pn(e,t),getTransactionConfirmations:t=>li(e,t),getTransactionCount:t=>zr(e,t),getTransactionReceipt:t=>on(e,t),multicall:t=>hi(e,t),prepareTransactionRequest:t=>jr(e,t),readContract:t=>ae(e,t),sendRawTransaction:t=>oa(e,t),simulateContract:t=>Jo(e,t),verifyMessage:t=>wc(e,t),verifySiweMessage:t=>Pc(e,t),verifyTypedData:t=>vc(e,t),uninstallFilter:t=>Rt(e,t),waitForTransactionReceipt:t=>xc(e,t),watchBlocks:t=>Ec(e,t),watchBlockNumber:t=>Cs(e,t),watchContractEvent:t=>sa(e,t),watchEvent:t=>Bc(e,t),watchPendingTransactions:t=>Ac(e,t)}}function qc(e){const{key:t="public",name:n="Public Client"}=e;return ua({...e,key:t,name:n,type:"publicClient"}).extend(Rc)}export{Dr as _,qc as c,_c as h};
