import{r as reactExports,c as commonjsGlobal,g as getAugmentedNamespace,a as getDefaultExportFromCjs$1,b as reactDomExports}from"../vendor-889ffc26.js";import{c as createPublicClient,h as http}from"../viem-351d8dc1.js";var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q$1(e,t,r){var i,s={},o=null,a=null;for(i in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)m.call(t,i)&&!p.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:k,type:e,key:o,ref:a,props:s,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l,reactJsxRuntime_production_min.jsx=q$1,reactJsxRuntime_production_min.jsxs=q$1,jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser$d={exports:{}},process=browser$d.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(r){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(r){return cachedClearTimeout.call(this,t)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};var browserExports=browser$d.exports;const process$1=getDefaultExportFromCjs(browserExports);var siwe={},client={},parsers={},abnf={},dist$1={},hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});for(var r={},n={byteLength:function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=c(e),i=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,a)),h=0,l=a>0?i-4:i;for(r=0;r<l;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;2===a&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[h++]=255&t);1===a&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t);return u},fromByteArray:function(e){for(var t,r=e.length,n=r%3,s=[],o=16383,a=0,u=r-n;a<u;a+=o)s.push(h(e,a,a+o>u?u:a+o));1===n?(t=e[r-1],s.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],s.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return s.join("")}},i=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)i[u]=a[u],s[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var n,s,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(i[(s=n)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return o.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;var l={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?i-1:0,d=r?-1:1,f=e[t+l];for(l+=d,s=f&(1<<-h)-1,f>>=-h,h+=a;h>0;s=256*s+e[t+l],l+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=256*o+e[t+l],l+=d,h-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)},write:function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,h=(1<<c)-1,l=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=h?(a=0,o=h):o+l>=1?(a=(t*u-1)*Math.pow(2,i),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*m}};
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */
!function(t){const r=n,i=l,s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o;const{Uint8Array:a,ArrayBuffer:u,SharedArrayBuffer:c}=globalThis;function h(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new a(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return f(e,t,r)}function f(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|v(e,t);let n=h(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(u.isView(e))return function(e){if(X(e,a)){const t=new a(e);return y(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,u)||e&&X(e.buffer,u))return y(e,t,r);if(void 0!==c&&(X(e,c)||e&&X(e.buffer,c)))return y(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return d.from(n,t,r);const i=function(e){if(d.isBuffer(e)){const t=0|b(e.length),r=h(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||ee(e.length)?h(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return p(e),h(e<0?0:0|b(e))}function g(e){const t=e.length<0?0:0|b(e.length),r=h(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new a(e):void 0===r?new a(e,t):new a(e,t,r),Object.setPrototypeOf(n,d.prototype),n}function b(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function v(e,t){if(d.isBuffer(e))return e.length;if(u.isView(e)||X(e,u))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return n?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return q(this,t,r);case"utf8":case"utf-8":return B(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function A(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ee(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof a.prototype.indexOf?i?a.prototype.indexOf.call(e,t,r):a.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(ee(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return Y(Z(t,e.length-r),e,r,n)}function x(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return Y(Q(t),e,r,n)}function k(e,t,r,n){return Y(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function P(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function B(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}d.TYPED_ARRAY_SUPPORT=function(){try{const e=new a(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,a.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!d.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,r){return f(e,t,r)},Object.setPrototypeOf(d.prototype,a.prototype),Object.setPrototypeOf(d,a),d.alloc=function(e,t,r){return function(e,t,r){return p(e),e<=0?h(e):void 0!==t?"string"==typeof r?h(e).fill(t,r):h(e).fill(t):h(e)}(e,t,r)},d.allocUnsafe=function(e){return m(e)},d.allocUnsafeSlow=function(e){return m(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(X(e,a)&&(e=d.from(e,e.offset,e.byteLength)),X(t,a)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=d.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,a))i+t.length>n.length?(d.isBuffer(t)||(t=d.from(t)),t.copy(n,i)):a.prototype.set.call(n,t,i);else{if(!d.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},d.byteLength=v,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)A(this,t,t+1);return this},d.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)A(this,t,t+3),A(this,t+1,t+2);return this},d.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)A(this,t,t+7),A(this,t+1,t+6),A(this,t+2,t+5),A(this,t+3,t+4);return this},d.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?B(this,0,e):w.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(e,t,r,n,i){if(X(e,a)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const u=Math.min(s,o),c=this.slice(n,i),h=e.slice(t,r);for(let a=0;a<u;++a)if(c[a]!==h[a]){s=c[a],o=h[a];break}return s<o?-1:o<s?1:0},d.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},d.prototype.indexOf=function(e,t,r){return M(this,e,t,r,!0)},d.prototype.lastIndexOf=function(e,t,r){return M(this,e,t,r,!1)},d.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function q(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=te[e[s]];return i}function I(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,r,n,i,s){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,i){K(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function j(e,t,r,n,i){K(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function U(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,s){return t=+t,r>>>=0,s||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,s){return t=+t,r>>>=0,s||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}d.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,d.prototype),n},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readBigUInt64LE=re((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),d.prototype.readBigUInt64BE=re((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),d.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},d.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},d.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readBigInt64LE=re((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),d.prototype.readBigInt64BE=re((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),d.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){$(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){$(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigUInt64LE=re((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=re((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},d.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);$(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},d.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigInt64LE=re((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=re((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},d.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},d.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},d.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},d.prototype.copy=function(e,t,r,n){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof a.prototype.copyWithin?this.copyWithin(t,r,n):a.prototype.set.call(e,this.subarray(r,n),t),i},d.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=d.isBuffer(e)?e:d.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const H={};function z(e,t,r){H[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function G(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new H.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||W(t,e.length-(r+1))}(n,i,s)}function V(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){if(Math.floor(e)!==e)throw V(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=G(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=G(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const J=/[^+/0-9A-Za-z-_]/g;function Z(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ee(e){return e!=e}const te=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function re(e){return"undefined"==typeof BigInt?ne:e}function ne(){throw new Error("BigInt not supported")}}(r);const d=r.Buffer;t.Blob=r.Blob,t.BlobOptions=r.BlobOptions,t.Buffer=r.Buffer,t.File=r.File,t.FileOptions=r.FileOptions,t.INSPECT_MAX_BYTES=r.INSPECT_MAX_BYTES,t.SlowBuffer=r.SlowBuffer,t.TranscodeEncoding=r.TranscodeEncoding,t.atob=r.atob,t.btoa=r.btoa,t.constants=r.constants,t.default=d,t.isAscii=r.isAscii,t.isUtf8=r.isUtf8,t.kMaxLength=r.kMaxLength,t.kStringMaxLength=r.kStringMaxLength,t.resolveObjectURL=r.resolveObjectURL,t.transcode=r.transcode}(dist$1)),dist$1}var identifiers={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604},utilities={},style={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"},converter={},transformers={},hasRequiredTransformers,hasRequiredConverter;function requireTransformers(){return hasRequiredTransformers||(hasRequiredTransformers=1,function(e){const{Buffer:t}=requireDist$1(),r=4294967292,n=4294967293,i=4294967294,s=4294967295,o=[0,1,3,7,15,31,63,127,255,511,1023],a=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),c=[];u.forEach((e=>{c.push(e.charCodeAt(0))})),e.utf8={encode(e){const r=[];return e.forEach((e=>{if(e>=0&&e<=127)r.push(e);else if(e<=2047)r.push(192+(e>>6&o[5])),r.push(128+(e&o[6]));else if(e<55296||e>57343&&e<=65535)r.push(224+(e>>12&o[4])),r.push(128+(e>>6&o[6])),r.push(128+(e&o[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${e}`);{const t=e>>16&o[5];r.push(240+(t>>2)),r.push(128+((t&o[2])<<4)+(e>>12&o[4])),r.push(128+(e>>6&o[6])),r.push(128+(e&o[6]))}}})),t.from(r)},decode(e,t){function a(e,t){if(128!=(192&t))return n;const i=((e&o[5])<<6)+(t&o[6]);return i<128?r:i}function u(e,t,s){if(128!=(192&s)||128!=(192&t))return n;const a=((e&o[4])<<12)+((t&o[6])<<6)+(s&o[6]);return a<2048?r:a>=55296&&a<=57343?i:a}function c(e,t,s,a){if(128!=(192&a)||128!=(192&s)||128!=(192&t))return n;const u=(((e&o[3])<<2)+(t>>4&o[2])<<16)+((t&o[4])<<12)+((s&o[6])<<6)+(a&o[6]);return u<65536?r:u>1114111?i:u}let h,l,d,f,p,m;const g=e.length;let y=t?3:0;const b=[];for(;y<g;){l=e[y],h=s;const t=!0;for(;t;){if(l>=0&&l<=127){h=l,m=1;break}if(d=y+1,d<g&&l>=194&&l<=223){h=a(l,e[d]),m=2;break}if(f=y+2,f<g&&l>=224&&l<=239){h=u(l,e[d],e[f]),m=3;break}if(p=y+3,p<g&&l>=240&&l<=244){h=c(l,e[d],e[f],e[p]),m=4;break}break}if(h>1114111){const e=`byte[${y}]`;if(h===s)throw new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${e}`);if(h===n)throw new RangeError(`utf8.decode: illegal trailing byte found at: ${e}`);if(h===i)throw new RangeError(`utf8.decode: code point out of range found at: ${e}`);if(h===r)throw new RangeError(`utf8.decode: non-shortest form found at: ${e}`);throw new RangeError(`utf8.decode: unrecognized error found at: ${e}`)}b.push(h),y+=m}return b}},e.utf16be={encode(e){const r=[];let n,i,s;for(let t=0;t<e.length;t+=1)if(n=e[t],n>=0&&n<=55295||n>=57344&&n<=65535)r.push(n>>8&o[8]),r.push(n&o[8]);else{if(!(n>=65536&&n<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${t}]: ${n}`);s=n-65536,i=55296+(s>>10),s=56320+(s&o[10]),r.push(i>>8&o[8]),r.push(i&o[8]),r.push(s>>8&o[8]),r.push(s&o[8])}return t.from(r)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${e.length}`);const r=[],n=e.length;let i,s,o,a,u,c,h=t?2:0,l=0;for(;h<n;){const t=!0;for(;t;){if(o=h+1,o<n){if(u=(e[h]<<8)+e[o],u<55296||u>57343){i=u,s=2;break}if(a=h+3,a<n&&(c=(e[h+2]<<8)+e[a],u<=56319&&c>=56320&&c<=57343)){i=65536+(u-55296<<10)+(c-56320),s=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${h}]`)}r[l++]=i,h+=s}return r}},e.utf16le={encode(e){const r=[];let n,i,s;for(let t=0;t<e.length;t+=1)if(n=e[t],n>=0&&n<=55295||n>=57344&&n<=65535)r.push(n&o[8]),r.push(n>>8&o[8]);else{if(!(n>=65536&&n<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${t}]: ${n}`);s=n-65536,i=55296+(s>>10),s=56320+(s&o[10]),r.push(i&o[8]),r.push(i>>8&o[8]),r.push(s&o[8]),r.push(s>>8&o[8])}return t.from(r)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${e.length}`);const r=[],n=e.length;let i,s,o,a,u,c,h=t?2:0,l=0;for(;h<n;){const t=!0;for(;t;){if(o=h+1,o<n){if(u=(e[o]<<8)+e[h],u<55296||u>57343){i=u,s=2;break}if(a=h+3,a<n&&(c=(e[a]<<8)+e[h+2],u<=56319&&c>=56320&&c<=57343)){i=65536+(u-55296<<10)+(c-56320),s=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${h}]`)}r[l++]=i,h+=s}return r}},e.utf32be={encode(e){const r=t.alloc(4*e.length);let n=0;return e.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${n/4}]: ${e}`);r[n++]=e>>24&o[8],r[n++]=e>>16&o[8],r[n++]=e>>8&o[8],r[n++]=e&o[8]})),r},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${e.length}`);const r=[];let n=t?4:0;for(;n<e.length;n+=4){const t=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},e.utf32le={encode(e){const r=t.alloc(4*e.length);let n=0;return e.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${e}`);r[n++]=e&o[8],r[n++]=e>>8&o[8],r[n++]=e>>16&o[8],r[n++]=e>>24&o[8]})),r},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${e.length}`);const r=[];let n=t?4:0;for(;n<e.length;n+=4){const t=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},e.uint7={encode(e){const r=t.alloc(e.length);for(let t=0;t<e.length;t+=1){if(e[t]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${t}]: ${e[t]}`);r[t]=e[t]}return r},decode(e){const t=[];for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${r}]: ${e[r]}`);t[r]=e[r]}return t}},e.uint8={encode(e){const r=t.alloc(e.length);for(let t=0;t<e.length;t+=1){if(e[t]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${t}]: ${e[t]}`);r[t]=e[t]}return r},decode(e){const t=[];for(let r=0;r<e.length;r+=1)t[r]=e[r];return t}},e.uint16be={encode(e){const r=t.alloc(2*e.length);let n=0;return e.forEach((e=>{if(e>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${n/2}]: ${e}`);r[n++]=e>>8&o[8],r[n++]=e&o[8]})),r},decode(e){if(e.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},e.uint16le={encode(e){const r=t.alloc(2*e.length);let n=0;return e.forEach((e=>{if(e>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${n/2}]: ${e}`);r[n++]=e&o[8],r[n++]=e>>8&o[8]})),r},decode(e){if(e.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},e.uint32be={encode(e){const r=t.alloc(4*e.length);let n=0;return e.forEach((e=>{r[n++]=e>>24&o[8],r[n++]=e>>16&o[8],r[n++]=e>>8&o[8],r[n++]=e&o[8]})),r},decode(e){if(e.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},e.uint32le={encode(e){const r=t.alloc(4*e.length);let n=0;return e.forEach((e=>{r[n++]=e&o[8],r[n++]=e>>8&o[8],r[n++]=e>>16&o[8],r[n++]=e>>24&o[8]})),r},decode(e){if(e.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},e.string={encode:t=>e.utf16le.encode(t).toString("utf16le"),decode:r=>e.utf16le.decode(t.from(r,"utf16le"),0)},e.escaped={encode(e){const r=[];for(let n=0;n<e.length;n+=1){const i=e[n];if(96===i)r.push(i),r.push(i);else if(10===i)r.push(i);else if(i>=32&&i<=126)r.push(i);else{let e="";if(i>=0&&i<=31)e+=`\`x${a[i]}`;else if(i>=127&&i<=255)e+=`\`x${a[i]}`;else if(i>=256&&i<=65535)e+=`\`u${a[i>>8&o[8]]}${a[i&o[8]]}`;else{if(!(i>=65536&&i<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{e+="`u{";const t=i>>24&o[8];t>0&&(e+=a[t]),e+=`${a[i>>16&o[8]]+a[i>>8&o[8]]+a[i&o[8]]}}`}}t.from(e).forEach((e=>{r.push(e)}))}}return t.from(r)},decode(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){const i={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){const t=String.fromCodePoint(n[e],n[e+1]);i.char=parseInt(t,16),Number.isNaN(i.char)||(i.error=!1)}return i}function n(e,r,n){const i={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){const t=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);i.char=parseInt(t,16),Number.isNaN(i.char)||(i.error=!1)}return i}function i(e,r,n){const i={char:null,nexti:e+4,error:!0};let s="";for(;e<r&&t(n[e]);)s+=String.fromCodePoint(n[e]),e+=1;return i.char=parseInt(s,16),125!==n[e]||Number.isNaN(i.char)||(i.error=!1),i.nexti=e+1,i}const s=[],o=e.length;let a,u,c,h=0;for(;h<o;){const t=!0;for(;t;){if(c=!0,96!==e[h]){s.push(e[h]),h+=1,c=!1;break}if(a=h+1,a>=o)break;if(96===e[a]){s.push(96),h+=2,c=!1;break}if(120===e[a]){if(u=r(a+1,o,e),u.error)break;s.push(u.char),h=u.nexti,c=!1;break}if(117===e[a]){if(123===e[a+1]){if(u=i(a+2,o,e),u.error)break;s.push(u.char),h=u.nexti,c=!1;break}if(u=n(a+1,o,e),u.error)break;s.push(u.char),h=u.nexti,c=!1;break}break}if(c)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${h}]`)}return s}};const h=10;e.lineEnds={crlf(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===h?r+=2:r+=1,t.push(13),t.push(h);break;case h:t.push(13),t.push(h),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==h&&(t.push(13),t.push(h)),t},lf(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===h?r+=2:r+=1,t.push(h);break;case h:t.push(h),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==h&&t.push(h),t}},e.base64={encode(e){if(0===e.length)return t.alloc(0);let r,n,i,s=e.length%3;s=s>0?3-s:0;let a=(e.length+s)/3;const u=t.alloc(4*a);s>0&&(a-=1),r=0,n=0;for(let t=0;t<a;t+=1)i=e[r++]<<16,i+=e[r++]<<8,i+=e[r++],u[n++]=c[i>>18&o[6]],u[n++]=c[i>>12&o[6]],u[n++]=c[i>>6&o[6]],u[n++]=c[i&o[6]];return 0===s?u:1===s?(i=e[r++]<<16,i+=e[r]<<8,u[n++]=c[i>>18&o[6]],u[n++]=c[i>>12&o[6]],u[n++]=c[i>>6&o[6]],u[n]=c[64],u):2===s?(i=e[r]<<16,u[n++]=c[i>>18&o[6]],u[n++]=c[i>>12&o[6]],u[n++]=c[64],u[n]=c[64],u):void 0},decode(e){if(0===e.length)return t.alloc(0);const r=function(e){const r=[];let n=0;for(let t=0;t<e.length;t+=1){const i=e[t],s=!0;for(;s&&32!==i&&9!==i&&10!==i&&13!==i;){if(i>=65&&i<=90){r.push(i-65);break}if(i>=97&&i<=122){r.push(i-71);break}if(i>=48&&i<=57){r.push(i+4);break}if(43===i){r.push(62);break}if(47===i){r.push(63);break}if(61===i){r.push(64),n+=1;break}throw new RangeError(`base64.decode: invalid character buf[${t}]: ${i}`)}}if(r.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${r.length}`);switch(n){case 0:break;case 1:if(64!==r[r.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==r[r.length-1]||64!==r[r.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${n}`)}return{tail:n,buf:t.from(r)}}(e),{tail:n}=r,i=r.buf;let s,a,u,c=i.length/4;const h=t.alloc(3*c-n);n>0&&(c-=1),a=0,s=0;for(let t=0;t<c;t+=1)u=i[s++]<<18,u+=i[s++]<<12,u+=i[s++]<<6,u+=i[s++],h[a++]=u>>16&o[8],h[a++]=u>>8&o[8],h[a++]=u&o[8];return 1===n&&(u=i[s++]<<18,u+=i[s++]<<12,u+=i[s]<<6,h[a++]=u>>16&o[8],h[a]=u>>8&o[8]),2===n&&(u=i[s++]<<18,u+=i[s++]<<12,h[a]=u>>16&o[8]),h},toString(e){if(e.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${e.length}`);let t="",r=0;function n(e,n,i,s){switch(r){case 76:t+=`\r\n${e}${n}${i}${s}`,r=4;break;case 75:t+=`${e}\r\n${n}${i}${s}`,r=3;break;case 74:t+=`${e+n}\r\n${i}${s}`,r=2;break;case 73:t+=`${e+n+i}\r\n${s}`,r=1;break;default:t+=e+n+i+s,r+=4}}for(let s=0;s<e.length;s+=4){for(let t=s;t<s+4;t+=1)if(!((i=e[t])>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||43===i||47===i||61===i))throw new RangeError(`base64.toString: buf[${t}]: ${e[t]} : not valid base64 character code`);n(String.fromCharCode(e[s]),String.fromCharCode(e[s+1]),String.fromCharCode(e[s+2]),String.fromCharCode(e[s+3]))}var i;return t}}}(transformers)),transformers}function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(e){const{Buffer:t}=requireDist$1(),r=requireTransformers(),n="UTF8",i="UTF16",s="UTF16BE",o="UTF16LE",a="UTF32",u="UTF32BE",c="UTF32LE",h="UINT7",l="ASCII",d="BINARY",f="UINT8",p="UINT16",m="UINT16LE",g="UINT16BE",y="UINT32",b="UINT32LE",v="UINT32BE",w="ESCAPED",A="STRING",M=function(e,M){const E=function(e){const t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(E.base64){if(E.type===A)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type ${A}`);if(t.isBuffer(M))E.data=r.base64.decode(M);else{if("string"!=typeof M)throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof M}`);{const e=t.from(M,"ascii");E.data=r.base64.decode(e)}}}else E.data=M;switch(E.type){case n:!function(e){e.type=n;const t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(E);break;case i:case s:case o:!function(e){const t=e.data;switch(e.bom=0,e.type){case i:e.type=s,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=o,e.bom=2));break;case s:if(e.type=s,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError(`src type: "${s}" specified but BOM is for "${o}"`);break;case o:if(e.type=o,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError(`src type: "${o}" specified but BOM is for "${s}"`);255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}}(E);break;case a:case u:case c:!function(e){const t=e.data;switch(e.bom=0,e.type){case a:e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=c,e.bom=4));break;case u:if(e.type=u,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError(`src type: ${u} specified but BOM is for ${c}"`);break;case c:if(e.type=c,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError(`src type: "${c}" specified but BOM is for "${u}"`);255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}}(E);break;case p:E.type=g;break;case y:E.type=v;break;case l:E.type=h;break;case d:E.type=f;break;case h:case f:case m:case g:case b:case v:case A:case w:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(E.type===A){if("string"!=typeof E.data)throw new TypeError(`type: "${e}" but data is not a string`)}else if(!t.isBuffer(E.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return E},E=function(e,t){switch(e){case n:return r.utf8.encode(t);case s:return r.utf16be.encode(t);case o:return r.utf16le.encode(t);case u:return r.utf32be.encode(t);case c:return r.utf32le.encode(t);case h:return r.uint7.encode(t);case f:return r.uint8.encode(t);case g:return r.uint16be.encode(t);case m:return r.uint16le.encode(t);case v:return r.uint32be.encode(t);case b:return r.uint32le.encode(t);case A:return r.string.encode(t);case w:return r.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}};e.decode=function(e,t){return function(e){switch(e.type){case n:return r.utf8.decode(e.data,e.bom);case o:return r.utf16le.decode(e.data,e.bom);case s:return r.utf16be.decode(e.data,e.bom);case u:return r.utf32be.decode(e.data,e.bom);case c:return r.utf32le.decode(e.data,e.bom);case h:return r.uint7.decode(e.data);case f:return r.uint8.decode(e.data);case g:return r.uint16be.decode(e.data);case m:return r.uint16le.decode(e.data);case v:return r.uint32be.decode(e.data);case b:return r.uint32le.decode(e.data);case A:return r.string.decode(e.data);case w:return r.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}}(M(e,t))},e.encode=function(e,t){let M,_;const S=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);const r=function(e){let t,r;const n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(r=e,t=e.slice(0,5),"CRLF:"===t){n.crlf=!0,r=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){n.lf=!0,r=e.slice(3);break}break}return t=r.split(":"),1===t.length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase());switch(r.type){case n:case s:case o:case u:case c:case h:case f:case m:case g:case b:case v:case w:break;case A:if(r.base64)throw new TypeError(`":BASE64" suffix not allowed with type ${A}`);break;case l:r.type=h;break;case d:r.type=f;break;case i:r.type=s;break;case a:r.type=u;break;case p:r.type=g;break;case y:r.type=v;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return r}(e,t);return S.crlf?(M=r.lineEnds.crlf(t),_=E(S.type,M)):S.lf?(M=r.lineEnds.lf(t),_=E(S.type,M)):_=E(S.type,t),S.base64&&(_=r.base64.encode(_)),_};e.convert=function(t,r,n){return e.encode(n,e.decode(t,r))}}(converter)),converter}var emitcss=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"};!function(e){const t=style,r=requireConverter(),n=emitcss,i=identifiers,s="utilities.js: ",o=function(e,t,r){let n,i=t;for(;;){if(e<=0){i=0,n=0;break}if("number"!=typeof i){i=0,n=e;break}if(i>=e){i=e,n=e;break}if("number"!=typeof r){n=e;break}if(n=i+r,n>e){n=e;break}break}return{beg:i,end:n}};e.htmlToPage=function(e,t){let r;if("string"!=typeof e)throw new Error(`${s}htmlToPage: input HTML is not a string`);r="string"!=typeof t?"htmlToPage":t;let i="";return i+="<!DOCTYPE html>\n",i+='<html lang="en">\n',i+="<head>\n",i+='<meta charset="utf-8">\n',i+=`<title>${r}</title>\n`,i+="<style>\n",i+=n(),i+="</style>\n",i+="</head>\n<body>\n",i+=`<p>${new Date}</p>\n`,i+=e,i+="</body>\n</html>\n",i},e.parserResultToHtml=function(e,r){let n,s,o=null;"string"==typeof r&&""!==r&&(o=r),n=!0===e.success?`<span class="${t.CLASS_MATCH}">true</span>`:`<span class="${t.CLASS_NOMATCH}">false</span>`,s=e.state===i.EMPTY?`<span class="${t.CLASS_EMPTY}">EMPTY</span>`:e.state===i.MATCH?`<span class="${t.CLASS_MATCH}">MATCH</span>`:e.state===i.NOMATCH?`<span class="${t.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${t.CLASS_NOMATCH}">unrecognized</span>`;let a="";return a+=`<table class="${t.CLASS_STATE}">\n`,o&&(a+=`<caption>${o}</caption>\n`),a+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",a+=`<tr><td>parser success</td><td>${n}</td>\n`,a+=`<td><span class="${t.CLASS_MATCH}">true</span> if the parse succeeded,\n`,a+=` <span class="${t.CLASS_NOMATCH}">false</span> otherwise`,a+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",a+=`<tr><td>parser state</td><td>${s}</td>\n`,a+=`<td><span class="${t.CLASS_EMPTY}">EMPTY</span>, `,a+=`<span class="${t.CLASS_MATCH}">MATCH</span> or \n`,a+=`<span class="${t.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`,a+=`<tr><td>string length</td><td>${e.length}</td><td>length of the input (sub)string</td></tr>\n`,a+=`<tr><td>matched length</td><td>${e.matched}</td><td>number of input string characters matched</td></tr>\n`,a+=`<tr><td>max matched</td><td>${e.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`,a+=`<tr><td>max tree depth</td><td>${e.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`,a+=`<tr><td>node hits</td><td>${e.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`,a+=`<tr><td>input length</td><td>${e.inputLength}</td><td>length of full input string</td></tr>\n`,a+=`<tr><td>sub-string begin</td><td>${e.subBegin}</td><td>sub-string first character index</td></tr>\n`,a+=`<tr><td>sub-string end</td><td>${e.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`,a+=`<tr><td>sub-string length</td><td>${e.subLength}</td><td>sub-string length</td></tr>\n`,a+="</table>\n",a},e.charsToString=function(e,t,n){let i,s;if("number"==typeof t){if(t>=e.length)return"";i=t<0?0:t}else i=0;if("number"==typeof n){if(n<=0)return"";s=n>e.length-i?e.length:i+n}else s=e.length;return i<s?r.encode("UTF16LE",e.slice(i,s)).toString("utf16le"):""},e.stringToChars=function(e){return r.decode("STRING",e)},e.opcodeToString=function(e){let t="unknown";switch(e){case i.ALT:t="ALT";break;case i.CAT:t="CAT";break;case i.RNM:t="RNM";break;case i.UDT:t="UDT";break;case i.AND:t="AND";break;case i.NOT:t="NOT";break;case i.REP:t="REP";break;case i.TRG:t="TRG";break;case i.TBS:t="TBS";break;case i.TLS:t="TLS";break;case i.BKR:t="BKR";break;case i.BKA:t="BKA";break;case i.BKN:t="BKN";break;case i.ABG:t="ABG";break;case i.AEN:t="AEN";break;default:throw new Error("unrecognized opcode")}return t},e.stateToString=function(e){let t="unknown";switch(e){case i.ACTIVE:t="ACTIVE";break;case i.MATCH:t="MATCH";break;case i.EMPTY:t="EMPTY";break;case i.NOMATCH:t="NOMATCH";break;default:throw new Error("unrecognized state")}return t},e.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],e.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t=`0${t}`;break;case 2:case 6:t=`00${t}`;break;case 4:break;case 5:t=`000${t}`;break;default:throw new Error("unrecognized option")}return t},e.charsToDec=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error(`${s}charsToDec: input must be an array of integers`);const i=o(e.length,t,r);if(i.end>i.beg){n+=e[i.beg];for(let t=i.beg+1;t<i.end;t+=1)n+=`,${e[t]}`}return n},e.charsToHex=function(t,r,n){let i="";if(!Array.isArray(t))throw new Error(`${s}charsToHex: input must be an array of integers`);const a=o(t.length,r,n);if(a.end>a.beg){i+=`\\x${e.charToHex(t[a.beg])}`;for(let r=a.beg+1;r<a.end;r+=1)i+=`,\\x${e.charToHex(t[r])}`}return i},e.charsToHtmlEntities=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error(`${s}charsToHex: input must be an array of integers`);const i=o(e.length,t,r);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)n+=`&#x${e[s].toString(16)};`;return n},e.charsToUnicode=function(t,r,n){let i="";if(!Array.isArray(t))throw new Error(`${s}charsToUnicode: input must be an array of integers`);const a=o(t.length,r,n);if(a.end>a.beg)for(let s=a.beg;s<a.end;s+=1)i+=(u=t[s])>=55296&&u<=57343||u>1114111?` U+${e.charToHex(t[s])}`:`&#${t[s]};`;var u;return i},e.charsToJsUnicode=function(t,r,n){let i="";if(!Array.isArray(t))throw new Error(`${s}charsToJsUnicode: input must be an array of integers`);const a=o(t.length,r,n);if(a.end>a.beg){i+=`\\u${e.charToHex(t[a.beg])}`;for(let r=a.beg+1;r<a.end;r+=1)i+=`,\\u${e.charToHex(t[r])}`}return i},e.charsToAscii=function(t,r,n){let i="";if(!Array.isArray(t))throw new Error(`${s}charsToAscii: input must be an array of integers`);const a=o(t.length,r,n);for(let s=a.beg;s<a.end;s+=1){const r=t[s];i+=r>=32&&r<=126?String.fromCharCode(r):`\\x${e.charToHex(r)}`}return i},e.charsToAsciiHtml=function(r,n,i){if(!Array.isArray(r))throw new Error(`${s}charsToAsciiHtml: input must be an array of integers`);let a,u="";const c=o(r.length,n,i);for(let s=c.beg;s<c.end;s+=1)a=r[s],u+=a<32||127===a?`<span class="${t.CLASS_CTRLCHAR}">${e.asciiChars[a]}</span>`:a>127?`<span class="${t.CLASS_CTRLCHAR}">U+${e.charToHex(a)}</span>`:e.asciiChars[a];return u},e.stringToAsciiHtml=function(e){const t=r.decode("STRING",e);return this.charsToAsciiHtml(t)}}(utilities);var ast=function(){const e=identifiers,t=utilities,r=this;let n=null,i=null,s=null,o=0;const a=[],u=[],c=[],h=[];function l(e){let t="";for(let r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,l){let d;c.length=0,h.length=0,a.length=0,o=0,n=e,i=t,s=l;const f=[];for(d=0;d<n.length;d+=1)f.push(n[d].lower);for(d=0;d<i.length;d+=1)f.push(i[d].lower);for(o=n.length+i.length,d=0;d<o;d+=1)a[d]=!1,u[d]=null;for(const n in r.callbacks){const e=n.toLowerCase();if(d=f.indexOf(e),d<0)throw new Error(`ast.js: init: node '${n}' not a rule or udt name`);"function"==typeof r.callbacks[n]&&(a[d]=!0,u[d]=r.callbacks[n]),!0===r.callbacks[n]&&(a[d]=!0)}},this.ruleDefined=function(e){return!1!==a[e]},this.udtDefined=function(e){return!1!==a[n.length+e]},this.down=function(t,r){const n=h.length;return c.push(n),h.push({name:r,thisIndex:n,thatIndex:null,state:e.SEM_PRE,callbackIndex:t,phraseIndex:null,phraseLength:null,stack:c.length}),n},this.up=function(t,r,n,i){const s=h.length,o=c.pop();return h.push({name:r,thisIndex:s,thatIndex:o,state:e.SEM_POST,callbackIndex:t,phraseIndex:n,phraseLength:i,stack:c.length}),h[o].thatIndex=s,h[o].phraseIndex=n,h[o].phraseLength=i,s},this.translate=function(t){let r,n,i;for(let o=0;o<h.length;o+=1)i=h[o],n=u[i.callbackIndex],i.state===e.SEM_PRE?null!==n&&(r=n(e.SEM_PRE,s,i.phraseIndex,i.phraseLength,t),r===e.SEM_SKIP&&(o=i.thatIndex)):null!==n&&n(e.SEM_POST,s,i.phraseIndex,i.phraseLength,t)},this.setLength=function(e){h.length=e,c.length=e>0?h[e-1].stack:0},this.getLength=function(){return h.length},this.toXml=function(r){let n=t.charsToDec,i="decimal integer character codes";if("string"==typeof r&&r.length>=3){const e=r.slice(0,3).toLowerCase();"asc"===e?(n=t.charsToAscii,i="ASCII for printing characters, hex for non-printing"):"hex"===e?(n=t.charsToHex,i="hexadecimal integer character codes"):"uni"===e&&(n=t.charsToUnicode,i="Unicode UTF-32 integer character codes")}let o="",a=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+=`<root nodes="${h.length/2}" characters="${s.length}">\n`,o+=`\x3c!-- input string, ${i} --\x3e\n`,o+=l(a+2),o+=n(s),o+="\n",h.forEach((t=>{t.state===e.SEM_PRE?(a+=1,o+=l(a),o+=`<node name="${t.name}" index="${t.phraseIndex}" length="${t.phraseLength}">\n`,o+=l(a+2),o+=n(s,t.phraseIndex,t.phraseLength),o+="\n"):(o+=l(a),o+=`</node>\x3c!-- name="${t.name}" --\x3e\n`,a-=1)})),o+="</root>\n",o},this.phrases=function(){const t={};let r,n;for(r=0;r<h.length;r+=1)n=h[r],n.state===e.SEM_PRE&&(Array.isArray(t[n.name])||(t[n.name]=[]),t[n.name].push({index:n.phraseIndex,length:n.phraseLength}));return t}},circularBuffer=function(){let e=-1,t=0;this.init=function(r){if("number"!=typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)r(t,t);else for(let n=e-t+1;n<=e;n+=1){r((n+t)%t,n)}}},parser$1=function(){const e=identifiers,t=utilities,r="parser.js: ",n=this;let i;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let s,o,a,u,c=null,h=null,l=0,d=0,f=0,p=null,m=null,g=null,y=null,b=null,v=0,w=1/0,A=1/0;const M=function(t,n,s){const o=`${r}evaluateRule(): `;if(t>=g.length)throw new Error(`${o}rule index: ${t} out of range`);if(n>=a)throw new Error(`${o}phrase index: ${n} out of range`);const{length:u}=c;c.push({type:e.RNM,index:t}),i(u,n,s),c.pop()},E=function(t,n,s){const o=`${r}evaluateUdt(): `;if(t>=y.length)throw new Error(`${o}udt index: ${t} out of range`);if(n>=a)throw new Error(`${o}phrase index: ${n} out of range`);const{length:u}=c;c.push({type:e.UDT,empty:y[t].empty,index:t}),i(u,n,s),c.pop()},_=function(){l=0,d=0,f=0,v=0,u=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],g=null,y=null,h=null,s=0,o=0,a=0,p=null,m=null,b=null,c=null},S=function(){const e=[];this.push=function(){e.push(function(){const t=e[e.length-1],r={};for(const e in t)r[e]=t[e];return r}())},this.pop=function(t){let n=t;if(n||(n=e.length-1),n<1||n>e.length)throw new Error(`${r}backRef.pop(): bad length: ${n}`);return e.length=n,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},function(){const t={};g.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),y.length>0&&y.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),e.push(t)}()},x=function(){const t=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=u[u.length-1],this.uFrame=new S,this.pFrame=new S,this.evaluateRule=M,this.evaluateUdt=E,this.refresh=function(){t.state=e.ACTIVE,t.phraseLength=0,t.lookAround=u[u.length-1]}},R=function(){return u[u.length-1]},k=function(){return u.length>1},P=function(e,n,i){const u=`${r}initializeInputChars(): `;let c=e,l=n,d=i;if(void 0===c)throw new Error(`${u}input string is undefined`);if(null===c)throw new Error(`${u}input string is null`);if("string"==typeof c)c=t.stringToChars(c);else if(!Array.isArray(c))throw new Error(`${u}input string is not a string or array`);if(c.length>0&&"number"!=typeof c[0])throw new Error(`${u}input string not an array of integers`);if("number"!=typeof l)l=0;else if(l=Math.floor(l),l<0||l>c.length)throw new Error(`${u}input beginning index out of range: ${l}`);if("number"!=typeof d)d=c.length-l;else if(d=Math.floor(d),d<0||d>c.length-l)throw new Error(`${u}input length out of range: ${d}`);h=c,s=l,o=d,a=s+o};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error(`parser: max tree depth must be integer > 0: ${e}`);if(w=Math.floor(e),w<=0)throw new Error(`parser: max tree depth must be integer > 0: ${e}`)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error(`parser: max node hits must be integer > 0: ${e}`);if(A=Math.floor(e),A<=0)throw new Error(`parser: max node hits must be integer > 0: ${e}`)};const B=function(t,u,l){let w;const A=`${r}parse(): `;!function(e){const t=`${r}initializeGrammar(): `;if(!e)throw new Error(`${t}grammar object undefined`);if("grammarObject"!==e.grammarObject)throw new Error(`${t}bad grammar object`);g=e.rules,y=e.udts}(t);const M=function(e){const t=`${r}initializeStartRule(): `;let n=null;if("number"==typeof e){if(e>=g.length)throw new Error(`${t}start rule index too large: max: ${g.length}: index: ${e}`);n=e}else{if("string"!=typeof e)throw new Error(`${t}type of start rule '${typeof e}' not recognized`);{const r=e.toLowerCase();for(let e=0;e<g.length;e+=1)if(r===g[e].lower){n=g[e].index;break}if(null===n)throw new Error(`${t}start rule name '${e}' not recognized`)}}return n}(u);!function(){const e=`${r}initializeCallbacks(): `;let t,i;for(p=[],m=[],t=0;t<g.length;t+=1)p[t]=null;for(t=0;t<y.length;t+=1)m[t]=null;const s=[];for(t=0;t<g.length;t+=1)s.push(g[t].lower);for(t=0;t<y.length;t+=1)s.push(y[t].lower);for(const r in n.callbacks){if(t=s.indexOf(r.toLowerCase()),t<0)throw new Error(`${e}syntax callback '${r}' not a rule or udt name`);if(i=n.callbacks[r],i||(i=null),"function"!=typeof i&&null!==i)throw new Error(`${e}syntax callback[${r}] must be function reference or 'false' (false/null/undefined/etc.)`);t<g.length?p[t]=i:m[t-g.length]=i}for(t=0;t<y.length;t+=1)if(null===m[t])throw new Error(`${e}all UDT callbacks must be defined. UDT callback[${y[t].lower}] not a function reference`)}(),function(){const e=`${r}initializeTrace(): `;for(;;){if(void 0===n.trace){n.trace=null;break}if(null===n.trace)break;if("traceObject"!==n.trace.traceObject)throw new Error(`${e}trace object not recognized`);break}null!==n.trace&&n.trace.init(g,y,h)}(),function(){const e=`${r}initializeStats(): `;for(;;){if(void 0===n.stats){n.stats=null;break}if(null===n.stats)break;if("statsObject"!==n.stats.statsObject)throw new Error(`${e}stats object not recognized`);break}null!==n.stats&&n.stats.init(g,y)}(),function(){const e=`${r}initializeAst(): `;for(;;){if(void 0===n.ast){n.ast=null;break}if(null===n.ast)break;if("astObject"!==n.ast.astObject)throw new Error(`${e}ast object not recognized`);break}null!==n.ast&&n.ast.init(g,y,h)}();const E=new x;switch(null!=l&&(b=l),c=[{type:e.RNM,index:M}],i(0,s,E),c=null,E.state){case e.ACTIVE:throw new Error(`${A}final state should never be 'ACTIVE'`);case e.NOMATCH:w=!1;break;case e.EMPTY:case e.MATCH:w=E.phraseLength===o;break;default:throw new Error("unrecognized state")}return{success:w,state:E.state,length:o,matched:E.phraseLength,maxMatched:v,maxTreeDepth:d,nodeHits:f,inputLength:h.length,subBegin:s,subEnd:a,subLength:o}};this.parseSubstring=function(e,t,r,n,i,s){return _(),P(r,n,i),B(e,t,s)},this.parse=function(e,t,r,n){return _(),P(r,0,r.length),B(e,t,n)};const T=function(t,r,n){const s=c[t];for(let o=0;o<s.children.length&&(i(s.children[o],r,n),n.state===e.NOMATCH);o+=1);},C=function(t,n,i,s){if(n.phraseLength>i){let e=`${r}opRNM(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${n.phraseLength}`,e+=` must be <= remaining chars: ${i}`,new Error(e)}switch(n.state){case e.ACTIVE:if(!0!==s)throw new Error(`${r}opRNM(${t.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:n.phraseLength=0;break;case e.MATCH:0===n.phraseLength&&(n.state=e.EMPTY);break;case e.NOMATCH:n.phraseLength=0;break;default:throw new Error(`${r}opRNM(${t.name}): callback function return error. Unrecognized return state: ${n.state}`)}},O=function(t,r,s){let o,u,l,d,f,m;const y=c[t],v=g[y.index],w=p[v.index],A=!k();if(A&&(u=n.ast&&n.ast.ruleDefined(y.index),u&&(o=n.ast.getLength(),n.ast.down(y.index,g[y.index].name)),d=s.uFrame.length(),f=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),m=s.pFrame,s.pFrame=new S),null===w)l=c,c=v.opcodes,i(0,r,s),c=l;else{const t=a-r;s.ruleIndex=v.index,w(s,h,r,b),C(v,s,t,!0),s.state===e.ACTIVE&&(l=c,c=v.opcodes,i(0,r,s),c=l,s.ruleIndex=v.index,w(s,h,r,b),C(v,s,t,!1))}A&&(u&&(s.state===e.NOMATCH?n.ast.setLength(o):n.ast.up(y.index,v.name,r,s.phraseLength)),s.pFrame=m,s.state===e.NOMATCH?(s.uFrame.pop(d),s.pFrame.pop(f)):v.isBkr&&(s.pFrame.savePhrase(v.lower,r,s.phraseLength),s.uFrame.savePhrase(v.lower,r,s.phraseLength)))},q=function(t,i,s){let o,u,l,d,f,p;const v=c[t],w=y[v.index];s.UdtIndex=w.index;const A=!k();A&&(l=n.ast&&n.ast.udtDefined(v.index),l&&(u=g.length+v.index,o=n.ast.getLength(),n.ast.down(u,w.name)),d=s.uFrame.length(),f=s.pFrame.length(),s.uFrame.push(),s.pFrame.push(),p=s.pFrame,s.pFrame=new S);const M=a-i;m[v.index](s,h,i,b),function(t,n,i){if(n.phraseLength>i){let e=`${r}opUDT(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${n.phraseLength}`,e+=` must be <= remaining chars: ${i}`,new Error(e)}switch(n.state){case e.ACTIVE:throw new Error(`${r}opUDT(${t.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(!1===t.empty)throw new Error(`${r}opUDT(${t.name}): callback function return error. May not return EMPTY.`);n.phraseLength=0;break;case e.MATCH:if(0===n.phraseLength){if(!1===t.empty)throw new Error(`${r}opUDT(${t.name}): callback function return error. May not return EMPTY.`);n.state=e.EMPTY}break;case e.NOMATCH:n.phraseLength=0;break;default:throw new Error(`${r}opUDT(${t.name}): callback function return error. Unrecognized return state: ${n.state}`)}}(w,s,M),A&&(l&&(s.state===e.NOMATCH?n.ast.setLength(o):n.ast.up(u,w.name,i,s.phraseLength)),s.pFrame=p,s.state===e.NOMATCH?(s.uFrame.pop(d),s.pFrame.pop(f)):w.isBkr&&(s.pFrame.savePhrase(w.lower,i,s.phraseLength),s.uFrame.savePhrase(w.lower,i,s.phraseLength)))},I=function(t,r,n){u.push({lookAround:e.LOOKAROUND_AHEAD,anchor:r,charsEnd:a,charsLength:o}),a=h.length,o=h.length-s,i(t+1,r,n);const c=u.pop();switch(a=c.charsEnd,o=c.charsLength,n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.EMPTY;break;case e.NOMATCH:n.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${n.state}`)}},N=function(t,r,n){u.push({lookAround:e.LOOKAROUND_AHEAD,anchor:r,charsEnd:a,charsLength:o}),a=h.length,o=h.length-s,i(t+1,r,n);const c=u.pop();switch(a=c.charsEnd,o=c.charsLength,n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.NOMATCH;break;case e.NOMATCH:n.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${n.state}`)}},$=function(t,r,n){n.state=e.NOMATCH,n.phraseLength=0,n.state=0===r?e.EMPTY:e.NOMATCH},L=function(t,r,n){n.state=e.NOMATCH,n.phraseLength=0,n.state=r===h.length?e.EMPTY:e.NOMATCH},j=function(t,r,n){switch(u.push({lookAround:e.LOOKAROUND_BEHIND,anchor:r}),i(t+1,r,n),u.pop(),n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.EMPTY;break;case e.NOMATCH:n.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${n.state}`)}},U=function(t,r,n){switch(u.push({lookAround:e.LOOKAROUND_BEHIND,anchor:r}),i(t+1,r,n),u.pop(),n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.NOMATCH;break;case e.NOMATCH:n.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${n.state}`)}};i=function(t,r,s){let o=!0;const p=c[t];if(f+=1,f>A)throw new Error(`parser: maximum number of node hits exceeded: ${A}`);if(l+=1,l>d&&(d=l,d>w))throw new Error(`parser: maximum parse tree depth exceeded: ${w}`);if(s.refresh(),null!==n.trace){const e=R();n.trace.down(p,s.state,r,s.phraseLength,e.anchor,e.lookAround)}if(u[u.length-1].lookAround===e.LOOKAROUND_BEHIND)switch(p.type){case e.ALT:T(t,r,s);break;case e.CAT:!function(t,r,s){let o,a,u,h;const l=c[t],d=s.uFrame.length(),f=s.pFrame.length();n.ast&&(a=n.ast.getLength()),o=!0,u=r,h=0;for(let n=l.children.length-1;n>=0;n-=1)if(i(l.children[n],u,s),u-=s.phraseLength,h+=s.phraseLength,s.state===e.NOMATCH){o=!1;break}o?(s.state=0===h?e.EMPTY:e.MATCH,s.phraseLength=h):(s.state=e.NOMATCH,s.phraseLength=0,s.uFrame.pop(d),s.pFrame.pop(f),n.ast&&n.ast.setLength(a))}(t,r,s);break;case e.REP:!function(t,r,s){let o,a,u,h;const l=c[t];a=r,u=0,h=0;const d=s.uFrame.length(),f=s.pFrame.length();for(n.ast&&(o=n.ast.getLength());!(a<=0)&&(i(t+1,a,s),s.state!==e.NOMATCH)&&s.state!==e.EMPTY&&(h+=1,u+=s.phraseLength,a-=s.phraseLength,h!==l.max););s.state===e.EMPTY||h>=l.min?(s.state=0===u?e.EMPTY:e.MATCH,s.phraseLength=u):(s.state=e.NOMATCH,s.phraseLength=0,s.uFrame.pop(d),s.pFrame.pop(f),n.ast&&n.ast.setLength(o))}(t,r,s);break;case e.RNM:O(t,r,s);break;case e.UDT:q(t,r,s);break;case e.AND:I(t,r,s);break;case e.NOT:N(t,r,s);break;case e.TRG:!function(t,r,n){const i=c[t];if(n.state=e.NOMATCH,n.phraseLength=0,r>0){const t=h[r-1];i.min<=t&&t<=i.max&&(n.state=e.MATCH,n.phraseLength=1)}}(t,r,s);break;case e.TBS:!function(t,r,n){let i;const s=c[t];n.state=e.NOMATCH;const o=s.string.length,a=r-o;if(a>=0){for(i=0;i<o;i+=1)if(h[a+i]!==s.string[i])return;n.state=e.MATCH,n.phraseLength=o}}(t,r,s);break;case e.TLS:!function(t,r,n){let i;const s=c[t];n.state=e.NOMATCH;const o=s.string.length;if(0===o)return void(n.state=e.EMPTY);const a=r-o;if(a>=0){for(let e=0;e<o;e+=1)if(i=h[a+e],i>=65&&i<=90&&(i+=32),i!==s.string[e])return;n.state=e.MATCH,n.phraseLength=o}}(t,r,s);break;case e.BKR:!function(t,r,n){let i,s,o,a;const u=c[t];n.state=e.NOMATCH,n.phraseLength=0,a=u.index<g.length?g[u.index].lower:y[u.index-g.length].lower;const l=u.bkrMode===e.BKR_MODE_PM?n.pFrame.getPhrase(a):n.uFrame.getPhrase(a),d=u.bkrCase===e.BKR_MODE_CI;if(null===l)return;const f=l.phraseIndex,p=l.phraseLength;if(0===p)return n.state=e.EMPTY,void(n.phraseLength=0);const m=r-p;if(m>=0){if(d){for(i=0;i<p;i+=1)if(s=h[m+i],o=h[f+i],s>=65&&s<=90&&(s+=32),o>=65&&o<=90&&(o+=32),s!==o)return;n.state=e.MATCH,n.phraseLength=p}else for(i=0;i<p;i+=1)if(s=h[m+i],o=h[f+i],s!==o)return;n.state=e.MATCH,n.phraseLength=p}}(t,r,s);break;case e.BKA:j(t,r,s);break;case e.BKN:U(t,r,s);break;case e.ABG:$(0,r,s);break;case e.AEN:L(0,r,s);break;default:o=!1}else switch(p.type){case e.ALT:T(t,r,s);break;case e.CAT:!function(t,r,s){let o,a,u,h;const l=c[t],d=s.uFrame.length(),f=s.pFrame.length();n.ast&&(a=n.ast.getLength()),o=!0,u=r,h=0;for(let n=0;n<l.children.length;n+=1){if(i(l.children[n],u,s),s.state===e.NOMATCH){o=!1;break}u+=s.phraseLength,h+=s.phraseLength}o?(s.state=0===h?e.EMPTY:e.MATCH,s.phraseLength=h):(s.state=e.NOMATCH,s.phraseLength=0,s.uFrame.pop(d),s.pFrame.pop(f),n.ast&&n.ast.setLength(a))}(t,r,s);break;case e.REP:!function(t,r,s){let o,u,h,l;const d=c[t];if(0===d.max)return s.state=e.EMPTY,void(s.phraseLength=0);u=r,h=0,l=0;const f=s.uFrame.length(),p=s.pFrame.length();for(n.ast&&(o=n.ast.getLength());!(u>=a)&&(i(t+1,u,s),s.state!==e.NOMATCH)&&s.state!==e.EMPTY&&(l+=1,h+=s.phraseLength,u+=s.phraseLength,l!==d.max););s.state===e.EMPTY||l>=d.min?(s.state=0===h?e.EMPTY:e.MATCH,s.phraseLength=h):(s.state=e.NOMATCH,s.phraseLength=0,s.uFrame.pop(f),s.pFrame.pop(p),n.ast&&n.ast.setLength(o))}(t,r,s);break;case e.RNM:O(t,r,s);break;case e.UDT:q(t,r,s);break;case e.AND:I(t,r,s);break;case e.NOT:N(t,r,s);break;case e.TRG:!function(t,r,n){const i=c[t];n.state=e.NOMATCH,r<a&&i.min<=h[r]&&h[r]<=i.max&&(n.state=e.MATCH,n.phraseLength=1)}(t,r,s);break;case e.TBS:!function(t,r,n){let i;const s=c[t],o=s.string.length;if(n.state=e.NOMATCH,r+o<=a){for(i=0;i<o;i+=1)if(h[r+i]!==s.string[i])return;n.state=e.MATCH,n.phraseLength=o}}(t,r,s);break;case e.TLS:!function(t,r,n){let i,s;const o=c[t];n.state=e.NOMATCH;const u=o.string.length;if(0!==u){if(r+u<=a){for(i=0;i<u;i+=1)if(s=h[r+i],s>=65&&s<=90&&(s+=32),s!==o.string[i])return;n.state=e.MATCH,n.phraseLength=u}}else n.state=e.EMPTY}(t,r,s);break;case e.BKR:!function(t,r,n){let i,s,o,u;const l=c[t];n.state=e.NOMATCH,u=l.index<g.length?g[l.index].lower:y[l.index-g.length].lower;const d=l.bkrMode===e.BKR_MODE_PM?n.pFrame.getPhrase(u):n.uFrame.getPhrase(u),f=l.bkrCase===e.BKR_MODE_CI;if(null===d)return;const p=d.phraseIndex,m=d.phraseLength;if(0!==m){if(r+m<=a){if(f){for(i=0;i<m;i+=1)if(s=h[r+i],o=h[p+i],s>=65&&s<=90&&(s+=32),o>=65&&o<=90&&(o+=32),s!==o)return;n.state=e.MATCH,n.phraseLength=m}else for(i=0;i<m;i+=1)if(s=h[r+i],o=h[p+i],s!==o)return;n.state=e.MATCH,n.phraseLength=m}}else n.state=e.EMPTY}(t,r,s);break;case e.BKA:j(t,r,s);break;case e.BKN:U(t,r,s);break;case e.ABG:$(0,r,s);break;case e.AEN:L(0,r,s);break;default:o=!1}if(!k()&&r+s.phraseLength>v&&(v=r+s.phraseLength),null!==n.stats&&n.stats.collect(p,s),null!==n.trace){const e=R();n.trace.up(p,s.state,r,s.phraseLength,e.anchor,e.lookAround)}return l-=1,o}},stats=function(){const e=identifiers,t=utilities,r=style;let n=[],i=[];const s=[];let o;const a=[],u=[];this.statsObject="statsObject";const c=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},h=function(e,t){return e.total<t.total?1:e.total>t.total?-1:c(e,t)},l=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},d=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},f=function(t,r){switch(t.total+=1,r){case e.EMPTY:t.empty+=1;break;case e.MATCH:t.match+=1;break;case e.NOMATCH:t.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${r}`)}},p=function(e,t){let n="";return n+="<tr>",n+=`<td class="${r.CLASS_ACTIVE}">${e}</td>`,n+=`<td class="${r.CLASS_EMPTY}">${t.empty}</td>`,n+=`<td class="${r.CLASS_MATCH}">${t.match}</td>`,n+=`<td class="${r.CLASS_NOMATCH}">${t.nomatch}</td>`,n+=`<td class="${r.CLASS_ACTIVE}">${t.total}</td>`,n+="</tr>\n",n},m=function(){let t="";return t+=p("ALT",s[e.ALT]),t+=p("CAT",s[e.CAT]),t+=p("REP",s[e.REP]),t+=p("RNM",s[e.RNM]),t+=p("TRG",s[e.TRG]),t+=p("TBS",s[e.TBS]),t+=p("TLS",s[e.TLS]),t+=p("UDT",s[e.UDT]),t+=p("AND",s[e.AND]),t+=p("NOT",s[e.NOT]),t+=p("BKR",s[e.BKR]),t+=p("BKA",s[e.BKA]),t+=p("BKN",s[e.BKN]),t+=p("ABG",s[e.ABG]),t+=p("AEN",s[e.AEN]),t+=p("totals",o),t},g=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<n.length;t+=1)a[t].total>0&&(e+="<tr>",e+=`<td class="${r.CLASS_ACTIVE}">${a[t].name}</td>`,e+=`<td class="${r.CLASS_EMPTY}">${a[t].empty}</td>`,e+=`<td class="${r.CLASS_MATCH}">${a[t].match}</td>`,e+=`<td class="${r.CLASS_NOMATCH}">${a[t].nomatch}</td>`,e+=`<td class="${r.CLASS_ACTIVE}">${a[t].total}</td>`,e+="</tr>\n");if(i.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<i.length;t+=1)u[t].total>0&&(e+="<tr>",e+=`<td class="${r.CLASS_ACTIVE}">${u[t].name}</td>`,e+=`<td class="${r.CLASS_EMPTY}">${u[t].empty}</td>`,e+=`<td class="${r.CLASS_MATCH}">${u[t].match}</td>`,e+=`<td class="${r.CLASS_NOMATCH}">${u[t].nomatch}</td>`,e+=`<td class="${r.CLASS_ACTIVE}">${u[t].total}</td>`,e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(t,r){n=t,i=r,function(){s.length=0,o=new d,s[e.ALT]=new d,s[e.CAT]=new d,s[e.REP]=new d,s[e.RNM]=new d,s[e.TRG]=new d,s[e.TBS]=new d,s[e.TLS]=new d,s[e.UDT]=new d,s[e.AND]=new d,s[e.NOT]=new d,s[e.BKR]=new d,s[e.BKA]=new d,s[e.BKN]=new d,s[e.ABG]=new d,s[e.AEN]=new d,a.length=0;for(let e=0;e<n.length;e+=1)a.push({empty:0,match:0,nomatch:0,total:0,name:n[e].name,lower:n[e].lower,index:n[e].index});if(i.length>0){u.length=0;for(let e=0;e<i.length;e+=1)u.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index})}}()},this.collect=function(t,r){f(o,r.state,r.phraseLength),f(s[t.type],r.state,r.phraseLength),t.type===e.RNM&&f(a[t.index],r.state,r.phraseLength),t.type===e.UDT&&f(u[t.index],r.state,r.phraseLength)},this.toHtml=function(e,t){let n="";n+=`<table class="${r.CLASS_STATS}">\n`,"string"==typeof t&&(n+=`<caption>${t}</caption>\n`),n+=`<tr><th class="${r.CLASS_ACTIVE}">ops</th>\n`,n+=`<th class="${r.CLASS_EMPTY}">EMPTY</th>\n`,n+=`<th class="${r.CLASS_MATCH}">MATCH</th>\n`,n+=`<th class="${r.CLASS_NOMATCH}">NOMATCH</th>\n`,n+=`<th class="${r.CLASS_ACTIVE}">totals</th></tr>\n`;for(;;){if(void 0===e){n+=m();break}if(null===e){n+=m();break}if("ops"===e){n+=m();break}if("index"===e){a.sort(l),u.length>0&&u.sort(l),n+=m(),n+=g();break}if("hits"===e){a.sort(h),u.length>0&&u.sort(l),n+=m(),n+=g();break}if("alpha"===e){a.sort(c),u.length>0&&u.sort(c),n+=m(),n+=g();break}break}return n+="</table>\n",n},this.toHtmlPage=function(e,r,n){return t.htmlToPage(this.toHtml(e,r),n)}},trace=function(){const e=utilities,t=style,r=new circularBuffer,n=identifiers,i="trace.js: ",s=this,o=16,a=80,u=[];let c=5e3,h=-1,l=0,d=0;const f=[];let p=null,m=null,g=null;const y=[],b=[],v=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,w=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,A=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){h=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(h=Math.floor(t),h<0&&(h=-1))):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return h},this.init=function(e,t,o){u.length=0,f.length=0,l=0,d=0,p=o,m=e,g=t,function(){const e=function(e){y[n.ALT]=e,y[n.CAT]=e,y[n.REP]=e,y[n.TLS]=e,y[n.TBS]=e,y[n.TRG]=e,y[n.AND]=e,y[n.NOT]=e,y[n.BKR]=e,y[n.BKA]=e,y[n.BKN]=e,y[n.ABG]=e,y[n.AEN]=e};let t=0;for(const r in s.filter.operators)t+=1;if(0!==t){for(const t in s.filter.operators){const r=t.toUpperCase();if("<ALL>"===r)return void e(!0);if("<NONE>"===r)return void e(!1)}e(!1);for(const e in s.filter.operators){const t=e.toUpperCase();if("ALT"===t)y[n.ALT]=!0===s.filter.operators[e];else if("CAT"===t)y[n.CAT]=!0===s.filter.operators[e];else if("REP"===t)y[n.REP]=!0===s.filter.operators[e];else if("AND"===t)y[n.AND]=!0===s.filter.operators[e];else if("NOT"===t)y[n.NOT]=!0===s.filter.operators[e];else if("TLS"===t)y[n.TLS]=!0===s.filter.operators[e];else if("TBS"===t)y[n.TBS]=!0===s.filter.operators[e];else if("TRG"===t)y[n.TRG]=!0===s.filter.operators[e];else if("BKR"===t)y[n.BKR]=!0===s.filter.operators[e];else if("BKA"===t)y[n.BKA]=!0===s.filter.operators[e];else if("BKN"===t)y[n.BKN]=!0===s.filter.operators[e];else if("ABG"===t)y[n.ABG]=!0===s.filter.operators[e];else{if("AEN"!==t)throw new Error(`${i}initOpratorFilter: '${e}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);y[n.AEN]=!0===s.filter.operators[e]}}}else e(!1)}(),function(){const e=function(e){y[n.RNM]=e,y[n.UDT]=e;const t=m.length+g.length;b.length=0;for(let r=0;r<t;r+=1)b.push(e)};let t,r;const o=[];for(r=0;r<m.length;r+=1)o.push(m[r].lower);for(r=0;r<g.length;r+=1)o.push(g[r].lower);b.length=0,t=0;for(const n in s.filter.rules)t+=1;if(0!==t){for(const t in s.filter.rules){const r=t.toLowerCase();if("<all>"===r)return void e(!0);if("<none>"===r)return void e(!1)}e(!1),y[n.RNM]=!0,y[n.UDT]=!0;for(const e in s.filter.rules){const t=e.toLowerCase();if(r=o.indexOf(t),r<0)throw new Error(`${i}initRuleFilter: '${e}' not a valid rule or udt name`);b[r]=!0===s.filter.rules[e]}}else e(!0)}(),r.init(c)};const M=function(e){let t=!1;return t=e.type===n.RNM?!(!y[e.type]||!b[e.index]):e.type===n.UDT?!(!y[e.type]||!b[m.length+e.index]):y[e.type],t},E=function(e){return-1===h||e<=h};this.down=function(e,t,n,i,s,o){E(l)&&M(e)&&(f.push(l),u[r.increment()]={dirUp:!1,depth:d,thisLine:l,thatLine:void 0,opcode:e,state:t,phraseIndex:n,phraseLength:i,lookAnchor:s,lookAround:o},l+=1,d+=1)},this.up=function(e,t,n,i,s,o){if(E(l)&&M(e)){const a=l,c=f.pop(),h=r.getListIndex(c);-1!==h&&(u[h].thatLine=a),d-=1,u[r.increment()]={dirUp:!0,depth:d,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:n,phraseLength:i,lookAnchor:s,lookAround:o},l+=1}};this.toTree=function(t){const i=function(){function t(t,r){let i,s,o;if(r)switch(t.op={id:r.type,name:e.opcodeToString(r.type)},t.opData=void 0,r.type){case n.RNM:t.opData=m[r.index].name;break;case n.UDT:t.opData=g[r.index].name;break;case n.BKR:i=r.index<m.length?m[r.index].name:g[r.index-m.length].name,s=r.bkrCase===n.BKR_MODE_CI?"%i":"%s",o=r.bkrMode===n.BKR_MODE_UM?"%u":"%p",t.opData=`\\\\${s}${o}${i}`;break;case n.TLS:t.opData=[];for(let e=0;e<r.string.length;e+=1)t.opData.push(r.string[e]);break;case n.TBS:t.opData=[];for(let e=0;e<r.string.length;e+=1)t.opData.push(r.string[e]);break;case n.TRG:case n.REP:t.opData=[r.min,r.max];break;default:throw new Error("unrecognized opcode")}else t.op={id:void 0,name:void 0},t.opData=void 0}function i(e,t,r){return e===n.MATCH?{index:t,length:r}:e===n.NOMATCH||e===n.EMPTY?{index:t,length:0}:null}let s=-1;function o(r,n,o){const a={id:s++,branch:-1,parent:r,up:!1,down:!1,depth:o,children:[]};return n?(a.down=!0,a.state={id:n.state,name:e.stateToString(n.state)},a.phrase=null,t(a,n.opcode)):(a.state={id:void 0,name:void 0},a.phrase=i(),t(a,void 0)),a}function a(r,n){n&&(r.up=!0,r.state={id:n.state,name:e.stateToString(n.state)},r.phrase=i(n.state,n.phraseIndex,n.phraseLength),r.down||t(r,n.opcode))}let c=0,h=-1,l=1;const f=[];let y,b,v,w,A=!0;const M=o(null,null,-1);for(f.push(M),b=M,r.forEach((e=>{if(w=u[e],A&&(A=!1,w.depth>0)){const e=w.dirUp?w.depth+1:w.depth;for(let t=0;t<e;t+=1)v=b,b=o(b,null,t),f.push(b),v.children.push(b)}w.dirUp?(b=f.pop(),a(b,w),b=f[f.length-1]):(v=b,b=o(b,w,w.depth),f.push(b),v.children.push(b))}));f.length>1;)b=f.pop(),a(b,null);if(0===M.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===f.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");y=M.children[0];let E=y;for(;y&&!y.down&&!y.up;)E=y,y=y.children[0];y=E,y.leftMost=!0,y.rightMost=!0,function e(t){if(h+=1,t.branch=l,h>d&&(d=h),0===t.children.length)c+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(l+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);h-=1}(y),y.branch=0;const _={string:[]};for(let e=0;e<p.length;e+=1)_.string[e]=p[e];_.rules=[];for(let e=0;e<m.length;e+=1)_.rules[e]=m[e].name;_.udts=[];for(let e=0;e<g.length;e+=1)_.udts[e]=g[e].name;let S;return _.id={},_.id.ALT={id:n.ALT,name:"ALT"},_.id.CAT={id:n.CAT,name:"CAT"},_.id.REP={id:n.REP,name:"REP"},_.id.RNM={id:n.RNM,name:"RNM"},_.id.TLS={id:n.TLS,name:"TLS"},_.id.TBS={id:n.TBS,name:"TBS"},_.id.TRG={id:n.TRG,name:"TRG"},_.id.UDT={id:n.UDT,name:"UDT"},_.id.AND={id:n.AND,name:"AND"},_.id.NOT={id:n.NOT,name:"NOT"},_.id.BKR={id:n.BKR,name:"BKR"},_.id.BKA={id:n.BKA,name:"BKA"},_.id.BKN={id:n.BKN,name:"BKN"},_.id.ABG={id:n.ABG,name:"ABG"},_.id.AEN={id:n.AEN,name:"AEN"},_.id.ACTIVE={id:n.ACTIVE,name:"ACTIVE"},_.id.MATCH={id:n.MATCH,name:"MATCH"},_.id.EMPTY={id:n.EMPTY,name:"EMPTY"},_.id.NOMATCH={id:n.NOMATCH,name:"NOMATCH"},_.treeDepth=d,_.leafNodes=c,S=y.down?y.up?"none":"right":y.up?"left":"both",_.branchesIncomplete=S,_.tree=function e(t,r){let n;const i={};if(i.id=t.id,i.branch=t.branch,i.leftMost=t.leftMost,i.rightMost=t.rightMost,n=t.state.name?t.state.name:"ACTIVE",i.state={id:t.state.id,name:n},n=t.op.name?t.op.name:"?",i.op={id:t.op.id,name:n},"string"==typeof t.opData)i.opData=t.opData;else if(Array.isArray(t.opData)){i.opData=[];for(let e=0;e<t.opData.length;e+=1)i.opData[e]=t.opData[e]}else i.opData=void 0;t.phrase?i.phrase={index:t.phrase.index,length:t.phrase.length}:i.phrase=null,i.depth=t.depth,i.children=[];for(let s=0;s<t.children.length;s+=1)t.children.length,i.children[s]=e(t.children[s]);return i}(y,y.depth),_}();return t?JSON.stringify(i):i},this.toHtmlPage=function(t,r,n){return e.htmlToPage(this.toHtml(t,r),n)};this.indent=function(e){let t="";for(let r=0;r<e;r+=1)t+=".";return t};const _=function(t,r,n,i,s){if(0===i)return"";let a="";const u=s?",":"";switch(t){case o:a=u+e.charsToHex(r,n,i);break;case 10:if(s)return`,${e.charsToDec(r,n,i)}`;a=u+e.charsToDec(r,n,i);break;case 32:a=e.charsToUnicode(r,n,i);break;default:a=e.charsToAsciiHtml(r,n,i)}return a},S=function(e,r,i,s,o,u){let c,h,l,d,f="",p=v;const m=`<span class="${t.CLASS_REMAINDER}">`,g="</span>";let y=!1;switch(i){case n.EMPTY:f+=A;case n.NOMATCH:case n.ACTIVE:c=s,h=0,l=s,d=r.length-l;break;case n.MATCH:c=s,h=o,l=s+h,d=r.length-l;break;default:throw new Error("unrecognized state")}return p=v,h>a?(h=a,p=w,d=0):h+d>a&&(p=w,d=a-h),h>0&&(f+=u,f+=_(e,r,c,h,y),f+=g,y=!0),d>0&&(f+=m,f+=_(e,r,l,d,y),f+=g),f+p},x=function(i){if(null===m)return"";let c,h,l,d,f,y,b="";return b+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",b+="<th>operator</th><th>phrase</th></tr>\n",r.forEach((r=>{const M=u[r];switch(c=M.thisLine,h=void 0!==M.thatLine?M.thatLine:"--",l=!1,d=!1,f=!1,M.lookAround===n.LOOKAROUND_AHEAD&&(l=!0,f=!0,y=M.lookAnchor),M.opcode.type!==n.AND&&M.opcode.type!==n.NOT||(l=!0,f=!0,y=M.phraseIndex),M.lookAround===n.LOOKAROUND_BEHIND&&(d=!0,f=!0,y=M.lookAnchor),M.opcode.type!==n.BKA&&M.opcode.type!==n.BKN||(d=!0,f=!0,y=M.phraseIndex),b+="<tr>",b+=`<td>${c}</td><td>${h}</td>`,b+=`<td>${M.phraseIndex}</td>`,b+=`<td>${M.phraseLength}</td>`,b+=`<td>${M.depth}</td>`,b+="<td>",M.state){case n.ACTIVE:b+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case n.MATCH:b+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case n.NOMATCH:b+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case n.EMPTY:b+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:b+=`<span class="${t.CLASS_ACTIVE}">--</span>`}if(b+="</td>",b+="<td>",b+=s.indent(M.depth),l?b+=`<span class="${t.CLASS_LOOKAHEAD}">`:d&&(b+=`<span class="${t.CLASS_LOOKBEHIND}">`),b+=e.opcodeToString(M.opcode.type),M.opcode.type===n.RNM&&(b+=`(${m[M.opcode.index].name}) `),M.opcode.type===n.BKR){const e=M.opcode.bkrCase===n.BKR_MODE_CI?"%i":"%s",t=M.opcode.bkrMode===n.BKR_MODE_UM?"%u":"%p";b+=`(\\${e}${t}${m[M.opcode.index].name}) `}M.opcode.type===n.UDT&&(b+=`(${g[M.opcode.index].name}) `),M.opcode.type===n.TRG&&(b+=`(${function(e,t){let r="";if(t.type===n.TRG)if(e===o||32===e){let n=t.min.toString(16).toUpperCase();n.length%2!=0&&(n=`0${n}`),r+=e===o?"%x":"U+",r+=n,n=t.max.toString(16).toUpperCase(),n.length%2!=0&&(n=`0${n}`),r+=`&ndash;${n}`}else r=`%d${t.min.toString(10)}&ndash;${t.max.toString(10)}`;return r}(i,M.opcode)}) `),M.opcode.type===n.TBS&&(b+=`(${function(e,t){let r="";if(t.type===n.TBS){const n=Math.min(t.string.length,10);if(e===o||32===e){r+=e===o?"%x":"U+";for(let e=0;e<n;e+=1){let n;e>0&&(r+="."),n=t.string[e].toString(16).toUpperCase(),n.length%2!=0&&(n=`0${n}`),r+=n}}else{r="%d";for(let e=0;e<n;e+=1)e>0&&(r+="."),r+=t.string[e].toString(10)}n<t.string.length&&(r+=w)}return r}(i,M.opcode)}) `),M.opcode.type===n.TLS&&(b+=`(${function(t,r){let i="";if(r.type===n.TLS){const n=Math.min(r.string.length,5);if(t===o||10===t){let e,s,a;t===o?(i="%x",a=16):(i="%d",a=10);for(let t=0;t<n;t+=1)t>0&&(i+="."),s=r.string[t],s>=97&&s<=122?(e=s-32,i+=`${e.toString(a)}/${s.toString(a)}`.toUpperCase()):s>=65&&s<=90?(e=s,s+=32,i+=`${e.toString(a)}/${s.toString(a)}`.toUpperCase()):i+=s.toString(a).toUpperCase();n<r.string.length&&(i+=w)}else{i='"';for(let t=0;t<n;t+=1)i+=e.asciiChars[r.string[t]];n<r.string.length&&(i+=w),i+='"'}}return i}(i,M.opcode)}) `),M.opcode.type===n.REP&&(b+=`(${function(e,t){let r="";if(t.type===n.REP)if(e===o){let e=t.min.toString(16).toUpperCase();e.length%2!=0&&(e=`0${e}`),r=`x${e}`,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!=0&&(e=`0${e}`)):e="inf",r+=`&ndash;${e}`}else r=t.max<1/0?`${t.min.toString(10)}&ndash;${t.max.toString(10)}`:`${t.min.toString(10)}&ndash;inf`;return r}(i,M.opcode)}) `),f&&(b+="</span>"),b+="</td>",b+="<td>",b+=d?function(e,r,i,s,o,u){let c,h,l,d,f="",p=v;const m=`<span class="${t.CLASS_LOOKBEHIND}">`,g=`<span class="${t.CLASS_REMAINDER}">`,y="</span>";let b=!1;switch(i){case n.EMPTY:f+=A;case n.NOMATCH:case n.MATCH:case n.ACTIVE:c=s-o,h=u-c,l=u,d=r.length-l;break;default:throw new Error("unrecognized state")}return p=v,h>a?(h=a,p=w,d=0):h+d>a&&(p=w,d=a-h),h>0&&(f+=m,f+=_(e,r,c,h,b),f+=y,b=!0),d>0&&(f+=g,f+=_(e,r,l,d,b),f+=y),f+p}(i,p,M.state,M.phraseIndex,M.phraseLength,y):l?function(e,r,n,i,s){const o=`<span class="${t.CLASS_LOOKAHEAD}">`;return S(e,r,n,i,s,o)}(i,p,M.state,M.phraseIndex,M.phraseLength):function(e,r,n,i,s){const o=`<span class="${t.CLASS_MATCH}">`;return S(e,r,n,i,s,o)}(i,p,M.state,M.phraseIndex,M.phraseLength),b+="</td></tr>\n"})),b+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",b+="<th>operator</th><th>phrase</th></tr>\n",b+="</table>\n",b};this.toHtml=function(e,r){let n=8;if("string"==typeof e&&e.length>=3){const t=e.toLowerCase().slice(0,3);"hex"===t?n=o:"dec"===t?n=10:"uni"===t&&(n=32)}let s="";return s+=function(e,r){let n;switch(e){case o:n="hexadecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error(`${i}htmlHeader: unrecognized mode: ${e}`)}let s="";return s+=`<p>display mode: ${n}</p>\n`,s+=`<table class="${t.CLASS_TRACE}">\n`,"string"==typeof r&&(s+=`<caption>${r}</caption>`),s}(n,r),s+=x(n),s+=function(){let e="";return e+="</table>\n",e+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>\n`,e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`,e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${A} empty string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${v} end of input string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${w} input string display truncated<br>\n`,e+="</p>\n",e+=`<p class="${t.CLASS_MONOSPACE}">\n`,e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e}(),s}},nodeExports={ast,circular:circularBuffer,ids:identifiers,parser:parser$1,stats,trace,utils:utilities,emitcss,style},scannerGrammar,hasRequiredScannerGrammar;function requireScannerGrammar(){return hasRequiredScannerGrammar?scannerGrammar:(hasRequiredScannerGrammar=1,scannerGrammar=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let e="";return e+="file = *line [last-line]\n",e+="line = line-text end\n",e+="line-text = *(valid/invalid)\n",e+="last-line = 1*(valid/invalid)\n",e+="valid = %d32-126 / %d9\n",e+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\n",e+="end = CRLF / LF / CR\n",e+="CRLF = %d13.10\n",e+="LF = %d10\n",e+="CR = %d13\n","file = *line [last-line]\nline = line-text end\nline-text = *(valid/invalid)\nlast-line = 1*(valid/invalid)\nvalid = %d32-126 / %d9\ninvalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\nend = CRLF / LF / CR\nCRLF = %d13.10\nLF = %d10\nCR = %d13\n"}})}var scannerCallbacks={},hasRequiredScannerCallbacks,scanner,hasRequiredScanner,syntaxCallbacks,hasRequiredSyntaxCallbacks,semanticCallbacks,hasRequiredSemanticCallbacks,sabnfGrammar,hasRequiredSabnfGrammar,parser,hasRequiredParser,ruleAttributes,hasRequiredRuleAttributes,ruleDependencies,hasRequiredRuleDependencies,attributes,hasRequiredAttributes,showRules,hasRequiredShowRules;function requireScannerCallbacks(){if(hasRequiredScannerCallbacks)return scannerCallbacks;hasRequiredScannerCallbacks=1;const e=identifiers,t=utilities;const r=[];return r.line=function(t,r,n,i,s){return t===e.SEM_PRE?(s.endLength=0,s.textLength=0,s.invalidCount=0):s.lines.push({lineNo:s.lines.length,beginChar:n,length:i,textLength:s.textLength,endType:s.endType,invalidChars:s.invalidCount}),e.SEM_OK},r["line-text"]=function(t,r,n,i,s){return t===e.SEM_PRE&&(s.textLength=i),e.SEM_OK},r["last-line"]=function(t,r,n,i,s){return t===e.SEM_PRE?(s.endLength=0,s.textLength=0,s.invalidCount=0):s.strict?(s.lines.push({lineNo:s.lines.length,beginChar:n,length:i,textLength:i,endType:"none",invalidChars:s.invalidCount}),s.errors.push({line:s.lineNo,char:n+i,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(r.push(10),s.lines.push({lineNo:s.lines.length,beginChar:n,length:i+1,textLength:i,endType:"LF",invalidChars:s.invalidCount})),e.SEM_OK},r.invalid=function(r,n,i,s,o){return r===e.SEM_PRE&&o.errors.push({line:o.lineNo,char:i,msg:`invalid character found '\\x${t.charToHex(n[i])}'`}),e.SEM_OK},r.end=function(t,r,n,i,s){return t===e.SEM_POST&&(s.lineNo+=1),e.SEM_OK},r.lf=function(t,r,n,i,s){return t===e.SEM_PRE&&(s.endType="LF",s.strict&&s.errors.push({line:s.lineNo,char:n,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),e.SEM_OK},r.cr=function(t,r,n,i,s){return t===e.SEM_PRE&&(s.endType="CR",s.strict&&s.errors.push({line:s.lineNo,char:n,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),e.SEM_OK},r.crlf=function(t,r,n,i,s){return t===e.SEM_PRE&&(s.endType="CRLF"),e.SEM_OK},scannerCallbacks.callbacks=r,scannerCallbacks}function requireScanner(){return hasRequiredScanner?scanner:(hasRequiredScanner=1,scanner=function(e,t,r,n){const i=nodeExports,s=new(requireScannerGrammar()),{callbacks:o}=requireScannerCallbacks(),a=[],u=new i.parser;if(u.ast=new i.ast,u.ast.callbacks=o,n){if("traceObject"!==n.traceObject)throw new TypeError("scanner.js: trace argument is not a trace object");u.trace=n}if(!0!==u.parse(s,"file",e).success)return void t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});const c={lines:a,lineNo:0,errors:t,strict:!!r};return u.ast.translate(c),a})}function requireSyntaxCallbacks(){return hasRequiredSyntaxCallbacks?syntaxCallbacks:(hasRequiredSyntaxCallbacks=1,syntaxCallbacks=function(){const e="syntax-callbacks.js: ",t=nodeExports,r=t.ids;let n;this.callbacks=[],this.callbacks.andop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.basicelementerr=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:!1===n.basicError&&o.errors.push({line:o.findLine(o.lines,s,o.charsLength),char:s,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsclose=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:o.errors.push({line:o.findLine(o.lines,n.clsOpen),char:n.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),n.clsOpen=null,n.basicError=!0;break;case r.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,n.clsOpen),char:n.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),n.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsopen=function(t,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:n.clsOpen=s;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsstring=function(t,n,i,s){switch(t.state){case r.ACTIVE:s.stringTabChar=!1;break;case r.EMPTY:case r.NOMATCH:break;case r.MATCH:!1!==s.stringTabChar&&s.errors.push({line:s.findLine(s.lines,s.stringTabChar),char:s.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.definedaserror=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.file=function(t,n,i,s){switch(t.state){case r.ACTIVE:s.altStack=[],s.repCount=0;break;case r.EMPTY:s.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case r.MATCH:0===s.ruleCount&&s.errors.push({line:0,char:0,msg:"no rules defined"});break;case r.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.groupclose=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:o.errors.push({line:o.findLine(o.lines,n.groupOpen),char:n.groupOpen,msg:'Group "(...)" opened but not closed.'}),n=o.altStack.pop(),n.groupError=!0;break;case r.MATCH:n=o.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.groupopen=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:n={groupOpen:s,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(n);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.lineenderror=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.lineend=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:if(1===t.phraseLength&&s.strict){const e=13===n[i]?"CR":"LF";s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:`Line end '${e}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.notop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.optionclose=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:o.errors.push({line:o.findLine(o.lines,n.optionOpen),char:n.optionOpen,msg:'Option "[...]" opened but not closed.'}),n=o.altStack.pop(),n.optionError=!0;break;case r.MATCH:n=o.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.optionopen=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:n={groupOpen:null,groupError:!1,optionOpen:s,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(n);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalclose=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:o.errors.push({line:o.findLine(o.lines,n.prosValOpen),char:n.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),n.basicError=!0,n.prosValOpen=null;break;case r.MATCH:o.errors.push({line:o.findLine(o.lines,n.prosValOpen),char:n.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),n.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalopen=function(t,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:n.prosValOpen=s;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalstring=function(t,n,i,s){switch(t.state){case r.ACTIVE:s.stringTabChar=!1;break;case r.EMPTY:case r.NOMATCH:break;case r.MATCH:!1!==s.stringTabChar&&s.errors.push({line:s.findLine(s.lines,s.stringTabChar),char:s.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.repetition=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:case r.MATCH:s.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.rule=function(t,i,s,o){switch(t.state){case r.ACTIVE:o.altStack.length=0,n={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},o.altStack.push(n);break;case r.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case r.NOMATCH:break;case r.MATCH:o.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.ruleerror=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.rulenameerror=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.stringtab=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.stringTabChar=i;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsclose=function(t,i,s,o){switch(t.state){case r.ACTIVE:case r.EMPTY:break;case r.NOMATCH:o.errors.push({line:o.findLine(o.lines,n.tlsOpen),char:n.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),n.basicError=!0,n.tlsOpen=null;break;case r.MATCH:n.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsopen=function(t,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:n.tlsOpen=s;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsstring=function(t,n,i,s){switch(t.state){case r.ACTIVE:s.stringTabChar=!1;break;case r.EMPTY:case r.NOMATCH:break;case r.MATCH:!1!==s.stringTabChar&&s.errors.push({line:s.findLine(s.lines,s.stringTabChar),char:s.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.udtop=function(n,i,s,o){switch(n.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:if(o.strict){const e=t.utils.charsToString(i,s,n.phraseLength);o.errors.push({line:o.findLine(o.lines,s,o.charsLength),char:s,msg:`UDT operator found(${e}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bkaop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict?s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Positive look-behind operator(&&) found - strict ABNF specified."}):s.lite&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Positive look-behind operator(&&) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bknop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict?s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Negative look-behind operator(!!) found - strict ABNF specified."}):s.lite&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Negative look-behind operator(!!) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bkrop=function(n,i,s,o){switch(n.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:if(o.strict){const e=t.utils.charsToString(i,s,n.phraseLength);o.errors.push({line:o.findLine(o.lines,s,o.charsLength),char:s,msg:`Back reference operator(${e}) found - strict ABNF specified.`})}else if(o.lite){const e=t.utils.charsToString(i,s,n.phraseLength);o.errors.push({line:o.findLine(o.lines,s,o.charsLength),char:s,msg:`Back reference operator(${e}) found - apg-lite specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.abgop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict?s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Beginning of string anchor(%^) found - strict ABNF specified."}):s.lite&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"Beginning of string anchor(%^) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.aenop=function(t,n,i,s){switch(t.state){case r.ACTIVE:case r.EMPTY:case r.NOMATCH:break;case r.MATCH:s.strict?s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"End of string anchor(%$) found - strict ABNF specified."}):s.lite&&s.errors.push({line:s.findLine(s.lines,i,s.charsLength),char:i,msg:"End of string anchor(%$) found - apg-lite specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}}})}function requireSemanticCallbacks(){return hasRequiredSemanticCallbacks?semanticCallbacks:(hasRequiredSemanticCallbacks=1,semanticCallbacks=function(){const e=nodeExports,t=e.ids,r=function(){this.names=[],this.add=function(e){let t=-1;return-1===this.get(e)&&(t={name:e,lower:e.toLowerCase(),index:this.names.length},this.names.push(t)),t},this.get=function(e){let t=-1;const r=e.toLowerCase();for(let n=0;n<this.names.length;n+=1)if(this.names[n].lower===r){t=this.names[n];break}return t}},n=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1)n=10*n+e[i]-48;return n},i=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1)n=2*n+e[i]-48;return n},s=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1){let t=e[i];if(t>=48&&t<=57)t-=48;else if(t>=65&&t<=70)t-=55;else{if(!(t>=97&&t<=102))throw new Error("hexnum out of range");t-=87}n=16*n+t}return n};this.callbacks=[],this.callbacks.abgop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.ABG}),o},this.callbacks.aenop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.AEN}),o},this.callbacks.alternation=function(e,r,n,i,s){let o=t.SEM_OK;if(e===t.SEM_PRE){const e=!0;for(;e;){if(null===s.definedas){o=t.SEM_SKIP;break}if(null===s.topStack){if("="===s.definedas){s.topStack={alt:{type:t.ALT,children:[]},cat:null},s.altStack.push(s.topStack),s.opcodes.push(s.topStack.alt);break}s.topStack={alt:s.opcodes[0],cat:null},s.altStack.push(s.topStack);break}s.topStack={alt:{type:t.ALT,children:[]},cat:null},s.altStack.push(s.topStack),s.opcodes.push(s.topStack.alt);break}}else e===t.SEM_POST&&(s.altStack.pop(),s.altStack.length>0?s.topStack=s.altStack[s.altStack.length-1]:s.topStack=null);return o},this.callbacks.andop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.AND}),o},this.callbacks.bmax=function(e,r,n,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=i(r,n,s)),a},this.callbacks.bmin=function(e,r,n,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.min=i(r,n,s)),a},this.callbacks.bkaop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.BKA}),o},this.callbacks.bknop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.BKN}),o},this.callbacks.bkrop=function(r,n,i,s,o){const a=t.SEM_OK;return r===t.SEM_PRE?(o.ci=!0,o.cs=!1,o.um=!0,o.pm=!1):r===t.SEM_POST&&o.opcodes.push({type:t.BKR,bkrCase:!0===o.cs?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:!0===o.pm?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:o.bkrname.phraseIndex,name:e.utils.charsToString(n,o.bkrname.phraseIndex,o.bkrname.phraseLength)}}),a},this.callbacks["bkr-name"]=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.bkrname={phraseIndex:n,phraseLength:i}),o},this.callbacks.bstring=function(e,r,n,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&o.tbsstr.push(i(r,n,s)),a},this.callbacks.clsop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(i<=2?s.opcodes.push({type:t.TLS,string:[]}):s.opcodes.push({type:t.TBS,string:r.slice(n+1,n+i-1)})),o},this.callbacks.ci=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.ci=!0),o},this.callbacks.cs=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.cs=!0),o},this.callbacks.um=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.um=!0),o},this.callbacks.pm=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.pm=!0),o},this.callbacks.concatenation=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE?(s.topStack.alt.children.push(s.opcodes.length),s.topStack.cat={type:t.CAT,children:[]},s.opcodes.push(s.topStack.cat)):e===t.SEM_POST&&(s.topStack.cat=null),o},this.callbacks.defined=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.definedas="="),o},this.callbacks.dmax=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=n(r,i,s)),a},this.callbacks.dmin=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.min=n(r,i,s)),a},this.callbacks.dstring=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&o.tbsstr.push(n(r,i,s)),a},this.callbacks.file=function(e,n,i,s,o){const a=t.SEM_OK;if(e===t.SEM_PRE)o.ruleNames=new r,o.udtNames=new r,o.rules=[],o.udts=[],o.rulesLineMap=[],o.opcodes=[],o.altStack=[],o.topStack=null,o.topRule=null;else if(e===t.SEM_POST){let e;o.rules.forEach((r=>{r.isBkr=!1,r.opcodes.forEach((r=>{r.type===t.RNM&&(e=o.ruleNames.get(r.index.name),-1===e?(o.errors.push({line:o.findLine(o.lines,r.index.phraseIndex,o.charsLength),char:r.index.phraseIndex,msg:`Rule name '${r.index.name}' used but not defined.`}),r.index=-1):r.index=e.index)}))})),o.udts.forEach((e=>{e.isBkr=!1})),o.rules.forEach((r=>{r.opcodes.forEach((n=>{n.type===t.BKR&&(r.hasBkr=!0,e=o.ruleNames.get(n.index.name),-1!==e?(o.rules[e.index].isBkr=!0,n.index=e.index):(e=o.udtNames.get(n.index.name),-1!==e?(o.udts[e.index].isBkr=!0,n.index=o.rules.length+e.index):(o.errors.push({line:o.findLine(o.lines,n.index.phraseIndex,o.charsLength),char:n.index.phraseIndex,msg:`Back reference name '${n.index.name}' refers to undefined rule or unamed UDT.`}),n.index=-1)))}))}))}return a},this.callbacks.incalt=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&(s.definedas="=/"),o},this.callbacks.notop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.NOT}),o},this.callbacks.optionopen=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&s.opcodes.push({type:t.REP,min:0,max:1,char:n}),o},this.callbacks["rep-max"]=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=n(r,i,s)),a},this.callbacks["rep-min"]=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.min=n(r,i,s)),a},this.callbacks["rep-min-max"]=function(e,r,i,s,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=n(r,i,s),o.min=o.max),a},this.callbacks.repetition=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE&&s.topStack.cat.children.push(s.opcodes.length),o},this.callbacks.repop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE?(s.min=0,s.max=1/0,s.topRep={type:t.REP,min:0,max:1/0},s.opcodes.push(s.topRep)):e===t.SEM_POST&&(s.min>s.max&&s.errors.push({line:s.findLine(s.lines,n,s.charsLength),char:n,msg:`repetition min cannot be greater than max: min: ${s.min}: max: ${s.max}`}),s.topRep.min=s.min,s.topRep.max=s.max),o},this.callbacks.rnmop=function(r,n,i,s,o){const a=t.SEM_OK;return r===t.SEM_POST&&o.opcodes.push({type:t.RNM,index:{phraseIndex:i,name:e.utils.charsToString(n,i,s)}}),a},this.callbacks.rule=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE&&(s.altStack.length=0,s.topStack=null,s.rulesLineMap.push({line:s.findLine(s.lines,n,s.charsLength),char:n})),o},this.callbacks.rulelookup=function(e,r,n,i,s){const o=t.SEM_OK;if(e===t.SEM_PRE)s.ruleName="",s.definedas="";else if(e===t.SEM_POST){let e;"="===s.definedas?(e=s.ruleNames.add(s.ruleName),-1===e?(s.definedas=null,s.errors.push({line:s.findLine(s.lines,n,s.charsLength),char:n,msg:`Rule name '${s.ruleName}' previously defined.`})):(s.topRule={name:e.name,lower:e.lower,opcodes:[],index:e.index},s.rules.push(s.topRule),s.opcodes=s.topRule.opcodes)):(e=s.ruleNames.get(s.ruleName),-1===e?(s.definedas=null,s.errors.push({line:s.findLine(s.lines,n,s.charsLength),char:n,msg:`Rule name '${s.ruleName}' for incremental alternate not previously defined.`})):(s.topRule=s.rules[e.index],s.opcodes=s.topRule.opcodes))}return o},this.callbacks.rulename=function(r,n,i,s,o){const a=t.SEM_OK;return r===t.SEM_PRE&&(o.ruleName=e.utils.charsToString(n,i,s)),a},this.callbacks.tbsop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE?s.tbsstr=[]:e===t.SEM_POST&&s.opcodes.push({type:t.TBS,string:s.tbsstr}),o},this.callbacks.tlscase=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_POST&&i>0&&(83===r[n+1]||115===r[n+1])&&(s.tlscase=!1),o},this.callbacks.tlsstring=function(e,r,n,i,s){const o=t.SEM_OK;if(e===t.SEM_POST)if(s.tlscase){const e=r.slice(n,n+i);for(let t=0;t<e.length;t+=1)e[t]>=65&&e[t]<=90&&(e[t]+=32);s.opcodes.push({type:t.TLS,string:e})}else s.opcodes.push({type:t.TBS,string:r.slice(n,n+i)});return o},this.callbacks.tlsop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE&&(s.tlscase=!0),o},this.callbacks.trgop=function(e,r,n,i,s){const o=t.SEM_OK;return e===t.SEM_PRE?(s.min=0,s.max=0):e===t.SEM_POST&&(s.min>s.max&&s.errors.push({line:s.findLine(s.lines,n,s.charsLength),char:n,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${s.min}: max: ${s.max}`}),s.opcodes.push({type:t.TRG,min:s.min,max:s.max})),o},this.callbacks["udt-empty"]=function(r,n,i,s,o){const a=t.SEM_OK;if(r===t.SEM_POST){const r=e.utils.charsToString(n,i,s);let a=o.udtNames.add(r);if(-1===a){if(a=o.udtNames.get(r),-1===a)throw new Error("semUdtEmpty: name look up error")}else o.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!0});o.opcodes.push({type:t.UDT,empty:!0,index:a.index})}return a},this.callbacks["udt-non-empty"]=function(r,n,i,s,o){const a=t.SEM_OK;if(r===t.SEM_POST){const r=e.utils.charsToString(n,i,s);let a=o.udtNames.add(r);if(-1===a){if(a=o.udtNames.get(r),-1===a)throw new Error("semUdtNonEmpty: name look up error")}else o.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!1});o.opcodes.push({type:t.UDT,empty:!1,index:a.index,syntax:null,semantic:null})}return a},this.callbacks.xmax=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=s(r,n,i)),a},this.callbacks.xmin=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.min=s(r,n,i)),a},this.callbacks.xstring=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&o.tbsstr.push(s(r,n,i)),a}})}function requireSabnfGrammar(){return hasRequiredSabnfGrammar?sabnfGrammar:(hasRequiredSabnfGrammar=1,sabnfGrammar=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let e="";return e+=";\n",e+="; ABNF for JavaScript APG 2.0 SABNF\n",e+="; RFC 5234 with some restrictions and additions.\n",e+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n",e+=';  - accepts %s"string" as a case-sensitive string\n',e+=';  - accepts %i"string" as a case-insensitive string\n',e+=';  - accepts "string" as a case-insensitive string\n',e+=";\n",e+="; Some restrictions:\n",e+=";   1. Rules must begin at first character of each line.\n",e+=";      Indentations on first rule and rules thereafter are not allowed.\n",e+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n",e+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n",e+=";      However, a working parser cannot be generated from them.\n",e+=";\n",e+="; Super set (SABNF) additions:\n",e+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n",e+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n",e+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n",e+=";      e.g. &%d13 or &rule or !(A / B)\n",e+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n",e+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n",e+=";      u_name may be used as an element but no rule definition is given.\n",e+=";      e.g. rule = A / u_myUdt\n",e+=';           A = "a"\n',e+=";      would be a valid grammar.\n",e+=";   3. Case-sensitive, single-quoted strings are accepted.\n",e+=";      e.g. 'abc' would be equivalent to %d97.98.99\n",e+=';      (kept for backward compatibility, but superseded by %s"abc")  \n',e+="; New 12/26/2015\n",e+=";   4. Look-behind operators are accepted as element prefixes.\n",e+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n",e+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n",e+=";      e.g. &&%d13 or &&rule or !!(A / B)\n",e+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n",e+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n",e+=";      to match is a phrase previously matched by the rule 'rulename'.\n",e+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n",e+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n",e+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n",e+=";      Back reference modifiers can be used to specify case and mode.\n",e+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n",e+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n",e+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n",e+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n",e+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";\n",e+="File            = *(BlankLine / Rule / RuleError)\n",e+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n",e+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n",e+="                / (LineEndError LineEnd))\n",e+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n",e+="RuleNameTest    = RuleName/RuleNameError\n",e+="RuleName        = alphanum\n",e+="RuleNameError   = 1*(%d33-60/%d62-126)\n",e+="DefinedAsTest   = DefinedAs / DefinedAsError\n",e+="DefinedAsError  = 1*2%d33-126\n",e+="DefinedAs       = IncAlt / Defined\n",e+="Defined         = %d61\n",e+="IncAlt          = %d61.47\n",e+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n",e+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n",e+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n",e+="Concatenation   = Repetition *(CatOp Repetition)\n",e+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n",e+="Modifier        = (Predicate [RepOp])\n",e+="                / RepOp\n",e+="Predicate       = BkaOp\n",e+="                / BknOp\n",e+="                / AndOp\n",e+="                / NotOp\n",e+="BasicElement    = UdtOp\n",e+="                / RnmOp\n",e+="                / TrgOp\n",e+="                / TbsOp\n",e+="                / TlsOp\n",e+="                / ClsOp\n",e+="                / BkrOp\n",e+="                / AbgOp\n",e+="                / AenOp\n",e+="                / ProsVal\n",e+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n",e+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n",e+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="GroupOpen       = %d40 owsp\n",e+="GroupClose      = owsp %d41\n",e+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n",e+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="OptionOpen      = %d91 owsp\n",e+="OptionClose     = owsp %d93\n",e+="RnmOp           = alphanum\n",e+="BkrOp           = %d92 [bkrModifier] bkr-name\n",e+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n",e+="cs              = '%s'\n",e+="ci              = '%i'\n",e+="um              = '%u'\n",e+="pm              = '%p'\n",e+="bkr-name        = uname / ename / rname\n",e+="rname           = alphanum\n",e+="uname           = %d117.95 alphanum\n",e+="ename           = %d101.95 alphanum\n",e+="UdtOp           = udt-empty\n",e+="                / udt-non-empty\n",e+="udt-non-empty   = %d117.95 alphanum\n",e+="udt-empty       = %d101.95 alphanum\n",e+="RepOp           = (rep-min StarOp rep-max)\n",e+="                / (rep-min StarOp)\n",e+="                / (StarOp rep-max)\n",e+="                / StarOp\n",e+="                / rep-min-max\n",e+="AltOp           = %d47 owsp\n",e+="CatOp           = wsp\n",e+="StarOp          = %d42\n",e+="AndOp           = %d38\n",e+="NotOp           = %d33\n",e+="BkaOp           = %d38.38\n",e+="BknOp           = %d33.33\n",e+="AbgOp           = %d37.94\n",e+="AenOp           = %d37.36\n",e+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n",e+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n",e+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n",e+='TlsCase         = ["%i" / "%s"]\n',e+="TlsOpen         = %d34\n",e+="TlsClose        = %d34\n",e+="TlsString       = *(%d32-33/%d35-126/StringTab)\n",e+="StringTab       = %d9\n",e+="ClsOp           = ClsOpen ClsString ClsClose\n",e+="ClsOpen         = %d39\n",e+="ClsClose        = %d39\n",e+="ClsString       = *(%d32-38/%d40-126/StringTab)\n",e+="ProsVal         = ProsValOpen ProsValString ProsValClose\n",e+="ProsValOpen     = %d60\n",e+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n",e+="ProsValClose    = %d62\n",e+="rep-min         = rep-num\n",e+="rep-min-max     = rep-num\n",e+="rep-max         = rep-num\n",e+="rep-num         = 1*(%d48-57)\n",e+="dString         = dnum\n",e+="xString         = xnum\n",e+="bString         = bnum\n",e+="Dec             = (%d68/%d100)\n",e+="Hex             = (%d88/%d120)\n",e+="Bin             = (%d66/%d98)\n",e+="dmin            = dnum\n",e+="dmax            = dnum\n",e+="bmin            = bnum\n",e+="bmax            = bnum\n",e+="xmin            = xnum\n",e+="xmax            = xnum\n",e+="dnum            = 1*(%d48-57)\n",e+="bnum            = 1*%d48-49\n",e+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n",e+=";\n",e+="; Basics\n",e+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n",e+="owsp            = *space\n",e+="wsp             = 1*space\n",e+="space           = %d32\n",e+="                / %d9\n",e+="                / comment\n",e+="                / LineContinue\n",e+="comment         = %d59 *(%d32-126 / %d9)\n",e+="LineEnd         = %d13.10\n",e+="                / %d10\n",e+="                / %d13\n",e+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n",";\n; ABNF for JavaScript APG 2.0 SABNF\n; RFC 5234 with some restrictions and additions.\n; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n;  - accepts %s\"string\" as a case-sensitive string\n;  - accepts %i\"string\" as a case-insensitive string\n;  - accepts \"string\" as a case-insensitive string\n;\n; Some restrictions:\n;   1. Rules must begin at first character of each line.\n;      Indentations on first rule and rules thereafter are not allowed.\n;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n;      However, a working parser cannot be generated from them.\n;\n; Super set (SABNF) additions:\n;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n;      e.g. &%d13 or &rule or !(A / B)\n;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n;      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n;      u_name may be used as an element but no rule definition is given.\n;      e.g. rule = A / u_myUdt\n;           A = \"a\"\n;      would be a valid grammar.\n;   3. Case-sensitive, single-quoted strings are accepted.\n;      e.g. 'abc' would be equivalent to %d97.98.99\n;      (kept for backward compatibility, but superseded by %s\"abc\")  \n; New 12/26/2015\n;   4. Look-behind operators are accepted as element prefixes.\n;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n;      e.g. &&%d13 or &&rule or !!(A / B)\n;   5. Back reference operators, i.e. \\rulename, are accepted.\n;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n;      to match is a phrase previously matched by the rule 'rulename'.\n;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n;      Back reference modifiers can be used to specify case and mode.\n;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;   8. String end anchor, AEN(%$) matches the end of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;\nFile            = *(BlankLine / Rule / RuleError)\nBlankLine       = *(%d32/%d9) [comment] LineEnd\nRule            = RuleLookup owsp Alternation ((owsp LineEnd)\n                / (LineEndError LineEnd))\nRuleLookup      = RuleNameTest owsp DefinedAsTest\nRuleNameTest    = RuleName/RuleNameError\nRuleName        = alphanum\nRuleNameError   = 1*(%d33-60/%d62-126)\nDefinedAsTest   = DefinedAs / DefinedAsError\nDefinedAsError  = 1*2%d33-126\nDefinedAs       = IncAlt / Defined\nDefined         = %d61\nIncAlt          = %d61.47\nRuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\nLineEndError    = 1*(%d32-126 / %d9  / LineContinue)\nAlternation     = Concatenation *(owsp AltOp Concatenation)\nConcatenation   = Repetition *(CatOp Repetition)\nRepetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\nModifier        = (Predicate [RepOp])\n                / RepOp\nPredicate       = BkaOp\n                / BknOp\n                / AndOp\n                / NotOp\nBasicElement    = UdtOp\n                / RnmOp\n                / TrgOp\n                / TbsOp\n                / TlsOp\n                / ClsOp\n                / BkrOp\n                / AbgOp\n                / AenOp\n                / ProsVal\nBasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\nGroup           = GroupOpen  Alternation (GroupClose / GroupError)\nGroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nGroupOpen       = %d40 owsp\nGroupClose      = owsp %d41\nOption          = OptionOpen Alternation (OptionClose / OptionError)\nOptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nOptionOpen      = %d91 owsp\nOptionClose     = owsp %d93\nRnmOp           = alphanum\nBkrOp           = %d92 [bkrModifier] bkr-name\nbkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\ncs              = '%s'\nci              = '%i'\num              = '%u'\npm              = '%p'\nbkr-name        = uname / ename / rname\nrname           = alphanum\nuname           = %d117.95 alphanum\nename           = %d101.95 alphanum\nUdtOp           = udt-empty\n                / udt-non-empty\nudt-non-empty   = %d117.95 alphanum\nudt-empty       = %d101.95 alphanum\nRepOp           = (rep-min StarOp rep-max)\n                / (rep-min StarOp)\n                / (StarOp rep-max)\n                / StarOp\n                / rep-min-max\nAltOp           = %d47 owsp\nCatOp           = wsp\nStarOp          = %d42\nAndOp           = %d38\nNotOp           = %d33\nBkaOp           = %d38.38\nBknOp           = %d33.33\nAbgOp           = %d37.94\nAenOp           = %d37.36\nTrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\nTbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\nTlsOp           = TlsCase TlsOpen TlsString TlsClose\nTlsCase         = [\"%i\" / \"%s\"]\nTlsOpen         = %d34\nTlsClose        = %d34\nTlsString       = *(%d32-33/%d35-126/StringTab)\nStringTab       = %d9\nClsOp           = ClsOpen ClsString ClsClose\nClsOpen         = %d39\nClsClose        = %d39\nClsString       = *(%d32-38/%d40-126/StringTab)\nProsVal         = ProsValOpen ProsValString ProsValClose\nProsValOpen     = %d60\nProsValString   = *(%d32-61/%d63-126/StringTab)\nProsValClose    = %d62\nrep-min         = rep-num\nrep-min-max     = rep-num\nrep-max         = rep-num\nrep-num         = 1*(%d48-57)\ndString         = dnum\nxString         = xnum\nbString         = bnum\nDec             = (%d68/%d100)\nHex             = (%d88/%d120)\nBin             = (%d66/%d98)\ndmin            = dnum\ndmax            = dnum\nbmin            = bnum\nbmax            = bnum\nxmin            = xnum\nxmax            = xnum\ndnum            = 1*(%d48-57)\nbnum            = 1*%d48-49\nxnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n;\n; Basics\nalphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\nowsp            = *space\nwsp             = 1*space\nspace           = %d32\n                / %d9\n                / comment\n                / LineContinue\ncomment         = %d59 *(%d32-126 / %d9)\nLineEnd         = %d13.10\n                / %d10\n                / %d13\nLineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}})}function requireParser(){return hasRequiredParser?parser:(hasRequiredParser=1,parser=function(){const e=nodeExports,t=e.ids,r=new(requireSyntaxCallbacks()),n=new(requireSemanticCallbacks()),i=new(requireSabnfGrammar()),s=new e.parser;s.ast=new e.ast,s.callbacks=r.callbacks,s.ast.callbacks=n.callbacks;const o=function(e,t,r){if(t<0||t>=r)return-1;for(let n=0;n<e.length;n+=1)if(t>=e[n].beginChar&&t<e[n].beginChar+e[n].length)return n;return-1},a=function(e,t){let r=-1;if(t<e.length)for(let n=t;n<e.length;n+=1)if(null!==e[n]){r=e[n];break}return r};this.syntax=function(e,t,r,n,a,u){if(u){if("traceObject"!==u.traceObject)throw new TypeError("parser: trace argument is not a trace object");s.trace=u}const c={};c.errors=r,c.strict=!!n,c.lite=!!a,c.lines=t,c.findLine=o,c.charsLength=e.length,c.ruleCount=0;s.parse(i,"file",e,c).success||r.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(e,r,n){const i={};return i.errors=n,i.lines=r,i.findLine=o,i.charsLength=e.length,s.ast.translate(i),n.length?null:(i.rules.forEach((e=>{const r=[],n=[];let i=0;e.opcodes.forEach((e=>{e.type===t.ALT&&1===e.children.length||e.type===t.CAT&&1===e.children.length||e.type===t.REP&&1===e.min&&1===e.max?n.push(null):(n.push(i),r.push(e),i+=1)})),n.push(i),r.forEach((e=>{if(e.type===t.ALT||e.type===t.CAT)for(let t=0;t<e.children.length;t+=1)e.children[t]=a(n,e.children[t])})),e.opcodes=r})),{rules:i.rules,udts:i.udts,lineMap:i.rulesLineMap})},this.generateSource=function(e,r,n,i,s){let o,a,u,c="",h=!1,l=!1;s&&(s.typescript?(h=!0,l=!1):s.lite&&(h=!1,l=!0));let d=0,f=1/0,p=0;const m=[],g=[];let y,b=0,v=0,w=0,A=0,M=0,E=0,_=0,S=0,x=0,R=0,k=0,P=0,B=0,T=0,C=0;return n.forEach((e=>{m.push(e.lower),d+=e.opcodes.length,e.opcodes.forEach((e=>{switch(e.type){case t.ALT:b+=1;break;case t.CAT:v+=1;break;case t.RNM:w+=1;break;case t.UDT:A+=1;break;case t.REP:M+=1;break;case t.AND:E+=1;break;case t.NOT:_+=1;break;case t.BKA:P+=1;break;case t.BKN:B+=1;break;case t.BKR:k+=1;break;case t.ABG:T+=1;break;case t.AEN:C+=1;break;case t.TLS:for(S+=1,o=0;o<e.string.length;o+=1)e.string[o]<f&&(f=e.string[o]),e.string[o]>p&&(p=e.string[o]);break;case t.TBS:for(x+=1,o=0;o<e.string.length;o+=1)e.string[o]<f&&(f=e.string[o]),e.string[o]>p&&(p=e.string[o]);break;case t.TRG:R+=1,e.min<f&&(f=e.min),e.max>p&&(p=e.max);break;default:throw new Error("generateSource: unrecognized opcode")}}))})),m.sort(),i.length>0&&(i.forEach((e=>{g.push(e.lower)})),g.sort()),c+="// copyright: Copyright (c) 2024 Lowell D. Thomas, all rights reserved<br>\n",c+="//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n",c+="//\n",c+="// Generated by apg-js, Version 4.4.0 [apg-js](https://github.com/ldthomas/apg-js)\n",s?s.funcName?c+=`const ${s.funcName} = function grammar(){\n`:c+=h?"export function grammar(){\n":l?"export default function grammar(){\n":"module.exports = function grammar(){\n":c+="module.exports = function grammar(){\n",c+="  // ```\n",c+="  // SUMMARY\n",c+=`  //      rules = ${n.length}\n`,c+=`  //       udts = ${i.length}\n`,c+=`  //    opcodes = ${d}\n`,c+="  //        ---   ABNF original opcodes\n",c+=`  //        ALT = ${b}\n`,c+=`  //        CAT = ${v}\n`,c+=`  //        REP = ${M}\n`,c+=`  //        RNM = ${w}\n`,c+=`  //        TLS = ${S}\n`,c+=`  //        TBS = ${x}\n`,c+=`  //        TRG = ${R}\n`,c+="  //        ---   SABNF superset opcodes\n",c+=`  //        UDT = ${A}\n`,c+=`  //        AND = ${E}\n`,c+=`  //        NOT = ${_}\n`,l||(c+=`  //        BKA = ${P}\n`,c+=`  //        BKN = ${B}\n`,c+=`  //        BKR = ${k}\n`,c+=`  //        ABG = ${T}\n`,c+=`  //        AEN = ${C}\n`),c+="  // characters = [",c+=S+x+R===0?" none defined ]":`${f} - ${p}]`,A>0&&(c+=" + user defined"),c+="\n",c+="  // ```\n",c+="  /* OBJECT IDENTIFIER (for internal parser use) */\n",c+="  this.grammarObject = 'grammarObject';\n",c+="\n",c+="  /* RULES */\n",c+="  this.rules = [];\n",n.forEach(((e,t)=>{let r="  this.rules[";r+=t,r+="] = { name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", isBkr: ",r+=e.isBkr,r+=" };\n",c+=r})),c+="\n",c+="  /* UDTS */\n",c+="  this.udts = [];\n",i.length>0&&i.forEach(((e,t)=>{let r="  this.udts[";r+=t,r+="] = { name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", empty: ",r+=e.empty,r+=", isBkr: ",r+=e.isBkr,r+=" };\n",c+=r})),c+="\n",c+="  /* OPCODES */\n",n.forEach(((e,r)=>{r>0&&(c+="\n"),c+=`  /* ${e.name} */\n`,c+=`  this.rules[${r}].opcodes = [];\n`,e.opcodes.forEach(((e,s)=>{let o;switch(e.type){case t.ALT:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, children: [${e.children.toString()}] };// ALT\n`;break;case t.CAT:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, children: [${e.children.toString()}] };// CAT\n`;break;case t.RNM:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, index: ${e.index} };// RNM(${n[e.index].name})\n`;break;case t.BKR:e.index>=n.length?(a=i[e.index-n.length].name,u=i[e.index-n.length].lower):(a=n[e.index].name,u=n[e.index].lower),o="%i",e.bkrCase===t.BKR_MODE_CS&&(o="%s"),e.bkrMode===t.BKR_MODE_UM?o+="%u":o+="%p",a=o+a,c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, index: ${e.index}, lower: '${u}', bkrCase: ${e.bkrCase}, bkrMode: ${e.bkrMode} };// BKR(\\${a})\n`;break;case t.UDT:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, empty: ${e.empty}, index: ${e.index} };// UDT(${i[e.index].name})\n`;break;case t.REP:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, min: ${e.min}, max: ${e.max} };// REP\n`;break;case t.AND:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// AND\n`;break;case t.NOT:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// NOT\n`;break;case t.ABG:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// ABG(%^)\n`;break;case t.AEN:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// AEN(%$)\n`;break;case t.BKA:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// BKA\n`;break;case t.BKN:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type} };// BKN\n`;break;case t.TLS:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, string: [${e.string.toString()}] };// TLS\n`;break;case t.TBS:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, string: [${e.string.toString()}] };// TBS\n`;break;case t.TRG:c+=`  this.rules[${r}].opcodes[${s}] = { type: ${e.type}, min: ${e.min}, max: ${e.max} };// TRG\n`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}}))})),c+="\n",c+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",c+="  this.toString = function toString(){\n",c+='    let str = "";\n',r.forEach((t=>{const r=t.beginChar+t.length;y="",c+='    str += "';for(let n=t.beginChar;n<r;n+=1){switch(e[n]){case 9:y=" ";break;case 10:y="\\n";break;case 13:y="\\r";break;case 34:y='\\"';break;case 92:y="\\\\";break;default:y=String.fromCharCode(e[n])}c+=y}c+='";\n'})),c+="    return str;\n",c+="  }\n",c+="}\n",c},this.generateObject=function(e,t,r){const n={},i=[],s=[],o=e.slice(0);return n.grammarObject="grammarObject",t.forEach((e=>{i.push(e.lower)})),i.sort(),r.length>0&&(r.forEach((e=>{s.push(e.lower)})),s.sort()),n.callbacks=[],i.forEach((e=>{n.callbacks[e]=!1})),r.length>0&&s.forEach((e=>{n.callbacks[e]=!1})),n.rules=t,n.udts=r,n.toString=function(){return o},n}})}function requireRuleAttributes(){return hasRequiredRuleAttributes?ruleAttributes:(hasRequiredRuleAttributes=1,ruleAttributes=function(){const e=identifiers;let t=null;function r(e){return!(e.left||e.nested||e.right||e.cyclic)&&e.empty}function n(e){return!!(e.left||e.nested||e.right||e.cyclic)}function i(e,t,i,o){let a=0;const u=t[i],c=u.children.length,h=[];for(a=0;a<c;a+=1)h.push(e.attrGen());for(a=0;a<c;a+=1)s(e,t,u.children[a],h[a]);o.left=function(e,t){for(let r=0;r<t;r+=1){if(e[r].left)return!0;if(!e[r].empty)return!1}return!1}(h,c),o.right=function(e,t){for(let r=t-1;r>=0;r-=1){if(e[r].right)return!0;if(!e[r].empty)return!1}return!1}(h,c),o.nested=function(e,t){let i=0,s=0,o=0;for(i=0;i<t;i+=1)if(e[i].nested)return!0;for(i=0;i<t;i+=1)if(e[i].right&&!e[i].leaf)for(s=i+1;s<t;s+=1)if(!r(e[s]))return!0;for(i=t-1;i>=0;i-=1)if(e[i].left&&!e[i].leaf)for(s=i-1;s>=0;s-=1)if(!r(e[s]))return!0;for(i=0;i<t;i+=1)if(!e[i].empty&&!n(e[i]))for(s=i+1;s<t;s+=1)if(n(e[s]))for(o=s+1;o<t;o+=1)if(!e[o].empty&&!n(e[o]))return!0;return!1}(h,c),o.empty=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].empty)return!1;return!0}(h,c),o.finite=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].finite)return!1;return!0}(h,c),o.cyclic=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].cyclic)return!1;return!0}(h,c)}function s(t,r,n,a){t.attrInit(a);const u=r[n];switch(u.type){case e.ALT:!function(e,t,r,n){let i=0;const o=t[r],a=o.children.length,u=[];for(i=0;i<a;i+=1)u.push(e.attrGen());for(i=0;i<a;i+=1)s(e,t,o.children[i],u[i]);for(n.left=!1,n.right=!1,n.nested=!1,n.empty=!1,n.finite=!1,n.cyclic=!1,i=0;i<a;i+=1)u[i].left&&(n.left=!0),u[i].nested&&(n.nested=!0),u[i].right&&(n.right=!0),u[i].empty&&(n.empty=!0),u[i].finite&&(n.finite=!0),u[i].cyclic&&(n.cyclic=!0)}(t,r,n,a);break;case e.CAT:i(t,r,n,a);break;case e.REP:s(t,r,n+1,a),0===u.min&&(a.empty=!0,a.finite=!0);break;case e.RNM:o(t,r[n].index,a);break;case e.BKR:!function(e,t,r,n){const i=t[r];i.index>=e.ruleCount?(n.empty=e.udts[i.index-e.ruleCount].empty,n.finite=!0):(o(e,i.index,n),n.left=!1,n.nested=!1,n.right=!1,n.cyclic=!1)}(t,r,n,a);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:s(t,r,n+1,a),a.empty=!0;break;case e.TLS:a.empty=!r[n].string.length,a.finite=!0,a.cyclic=!1;break;case e.TBS:case e.TRG:a.empty=!1,a.finite=!0,a.cyclic=!1;break;case e.UDT:a.empty=u.empty,a.finite=!0,a.cyclic=!1;break;case e.ABG:case e.AEN:a.empty=!0,a.finite=!0,a.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${u}`)}}function o(e,t,r){const n=e.attrsWorking[t];n.isComplete?e.attrCopy(r,n):n.isOpen?t===e.startRule?t===e.startRule&&(r.left=!0,r.right=!0,r.cyclic=!0,r.leaf=!0):r.finite=!0:(n.isOpen=!0,s(e,n.rule.opcodes,0,r),n.left=r.left,n.right=r.right,n.nested=r.nested,n.empty=r.empty,n.finite=r.finite,n.cyclic=r.cyclic,n.leaf=!1,n.isOpen=!1,n.isComplete=!0)}const a=e=>e?"t":"f",u=e=>e?"e":"f",c=(r,n,i,s)=>{let o=`${r}:${n}:`;return o+=`${u(i.left)} `,o+=`${a(i.nested)} `,o+=`${a(i.right)} `,o+=`${u(i.cyclic)} `,o+=(i.finite?"t":"e")+" ",o+=`${a(i.empty)}:`,o+=`${t.typeToString(s.recursiveType)}:`,o+=s.recursiveType===e.ATTR_MR?s.groupNumber:"-",o+=`:${i.rule.name}\n`,o},h=()=>{let e="LEGEND - t=true, f=false, e=error\n";return e+="sequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n","LEGEND - t=true, f=false, e=error\nsequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n"},l=e=>{let r=0,n=0,i=null,s=null,o="",{ruleIndexes:a}=t;for(97===e?a=t.ruleAlphaIndexes:116===e&&(a=t.ruleTypeIndexes),r=0;r<t.ruleCount;r+=1)n=a[r],i=t.attrs[n],s=t.ruleDeps[n],o+=c(r,n,i,s);return o};return{ruleAttributes:e=>{t=e;let r=0,n=0;const i=t.attrGen();for(r=0;r<t.ruleCount;r+=1){for(n=0;n<t.ruleCount;n+=1)t.attrInit(t.attrsWorking[n]);t.startRule=r,o(t,r,i),t.attrCopy(t.attrs[r],t.attrsWorking[r])}t.attributesComplete=!0;let s=null;for(r=0;r<t.ruleCount;r+=1)if(s=t.attrs[r],s.left||!s.finite||s.cyclic){const e=t.attrGen(s.rule);t.attrCopy(e,s),t.attrsErrors.push(e),t.attrsErrorCount+=1}},showAttributes:(e="index")=>{if(!t.attributesComplete)throw new Error("rule-attributes.js:showAttributes: attributes not available");let r="";const n="RULE ATTRIBUTES\n";return 97===e.charCodeAt(0)?(r+="alphabetical by rule name\n",r+=n,r+=h(),r+=l(97)):116===e.charCodeAt(0)?(r+="ordered by rule type\n",r+=n,r+=h(),r+=l(116)):(r+="ordered by rule index\n",r+=n,r+=h(),r+=l()),r},showAttributeErrors:()=>{let e=null,r=null,n="";if(n+="RULE ATTRIBUTES WITH ERRORS\n",n+=h(),t.attrsErrorCount)for(let i=0;i<t.attrsErrorCount;i+=1)e=t.attrsErrors[i],r=t.ruleDeps[e.rule.index],n+=c(i,e.rule.index,e,r);else n+="<none>\n";return n}}}())}function requireRuleDependencies(){return hasRequiredRuleDependencies?ruleDependencies:(hasRequiredRuleDependencies=1,ruleDependencies=(()=>{const e=identifiers;let t=null;const r=(t,n,i,s)=>{let o=0,a=0;const u=n[i];s[i]=!0;const c=u.rule.opcodes;for(o=0;o<c.length;o+=1){const i=c[o];if(i.type===e.RNM)for(u.refersTo[i.index]=!0,s[i.index]||r(t,n,i.index,s),a=0;a<t;a+=1)n[i.index].refersTo[a]&&(u.refersTo[a]=!0);else i.type===e.UDT?u.refersToUdt[i.index]=!0:i.type===e.BKR&&(i.index<t?(u.refersTo[i.index]=!0,s[i.index]||r(t,n,i.index,s)):u.refersToUdt[t-i.index]=!0)}},n=(e=null)=>{let r=0,n=0,i=0,s=0;const o=t.ruleCount-1,a=t.udtCount-1;let u="",c="";const h="=> ";let l=!1,d=null,{ruleIndexes:f}=t,{udtIndexes:p}=t;for(97===e?(f=t.ruleAlphaIndexes,p=t.udtAlphaIndexes):116===e&&(f=t.ruleTypeIndexes,p=t.udtAlphaIndexes),r=0;r<t.ruleCount;r+=1){for(d=t.ruleDeps[f[r]],c=`${f[r]}:${t.typeToString(d.recursiveType)}:`,t.isMutuallyRecursive&&(c+=d.groupNumber>-1?d.groupNumber:"-",c+=":"),c+=" ",u+=`${c+t.rules[f[r]].name}\n`,l=!0,i=0,s=u.length,u+=c,n=0;n<t.ruleCount;n+=1)d.refersTo[f[n]]&&(l?(u+=h,l=!1,u+=t.ruleDeps[f[n]].rule.name):u+=`, ${t.ruleDeps[f[n]].rule.name}`,i+=1),u.length-s>100&&n!==o&&(u+=`\n${c}${h}`,s=u.length);if(t.udtCount)for(n=0;n<t.udtCount;n+=1)d.refersToUdt[p[n]]&&(l?(u+=h,l=!1,u+=t.udts[p[n]].name):u+=`, ${t.udts[p[n]].name}`,i+=1),u.length-s>100&&n!==a&&(u+=`\n${c}${h}`,s=u.length);for(0===i&&(u+="=> <none>\n"),!1===l&&(u+="\n"),l=!0,i=0,s=u.length,u+=c,n=0;n<t.ruleCount;n+=1)d.referencedBy[f[n]]&&(l?(u+="<= ",l=!1,u+=t.ruleDeps[f[n]].rule.name):u+=`, ${t.ruleDeps[f[n]].rule.name}`,i+=1),u.length-s>100&&n!==o&&(u+=`\n${c}${h}`,s=u.length);0===i&&(u+="<= <none>\n"),!1===l&&(u+="\n"),u+="\n"}return u};return{ruleDependencies:n=>{t=n;let i=0,s=0,o=0,a=null,u=null,c=!1;t.dependenciesComplete=!1;const h=t.falseArray(t.ruleCount);for(i=0;i<t.ruleCount;i+=1)t.falsifyArray(h),r(t.ruleCount,t.ruleDeps,i,h);for(i=0;i<t.ruleCount;i+=1)for(s=0;s<t.ruleCount;s+=1)i!==s&&t.ruleDeps[s].refersTo[i]&&(t.ruleDeps[i].referencedBy[s]=!0);for(i=0;i<t.ruleCount;i+=1)t.ruleDeps[i].recursiveType=e.ATTR_N,t.ruleDeps[i].refersTo[i]&&(t.ruleDeps[i].recursiveType=e.ATTR_R);for(o=-1,i=0;i<t.ruleCount;i+=1)if(a=t.ruleDeps[i],a.recursiveType===e.ATTR_R)for(c=!0,s=0;s<t.ruleCount;s+=1)i!==s&&(u=t.ruleDeps[s],u.recursiveType===e.ATTR_R&&a.refersTo[s]&&u.refersTo[i]&&(c&&(o+=1,a.recursiveType=e.ATTR_MR,a.groupNumber=o,c=!1),u.recursiveType=e.ATTR_MR,u.groupNumber=o));t.isMutuallyRecursive=o>-1,t.ruleAlphaIndexes.sort(t.compRulesAlpha),t.ruleTypeIndexes.sort(t.compRulesAlpha),t.ruleTypeIndexes.sort(t.compRulesType),t.isMutuallyRecursive&&t.ruleTypeIndexes.sort(t.compRulesGroup),t.udtCount&&t.udtAlphaIndexes.sort(t.compUdtsAlpha),t.dependenciesComplete=!0},showRuleDependencies:(e="index")=>{let r="RULE DEPENDENCIES(index:type:[group number:])\n";return r+="=> refers to rule names\n",r+="<= referenced by rule names\n",t.dependenciesComplete?(97===e.charCodeAt(0)?(r+="alphabetical by rule name\n",r+=n(97)):116===e.charCodeAt(0)?(r+="ordered by rule type\n",r+=n(116)):(r+="ordered by rule index\n",r+=n(null)),r):r}}})())}function requireAttributes(){return hasRequiredAttributes?attributes:(hasRequiredAttributes=1,attributes=function(){const e=identifiers,{ruleAttributes:t,showAttributes:r,showAttributeErrors:n}=requireRuleAttributes(),{ruleDependencies:i,showRuleDependencies:s}=requireRuleDependencies();class o{constructor(e,t){this.rules=e,this.udts=t,this.ruleCount=e.length,this.udtCount=t.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let r=0;r<this.ruleCount;r+=1)this.attrs.push(this.attrGen(this.rules[r])),this.attrsWorking.push(this.attrGen(this.rules[r])),this.ruleDeps.push(this.rdGen(e[r],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(e){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:e}}attrInit(e){e.left=!1,e.nested=!1,e.right=!1,e.empty=!1,e.finite=!1,e.cyclic=!1,e.leaf=!1,e.isOpen=!1,e.isComplete=!1}attrCopy(e,t){e.left=t.left,e.nested=t.nested,e.right=t.right,e.empty=t.empty,e.finite=t.finite,e.cyclic=t.cyclic,e.leaf=t.leaf,e.isOpen=t.isOpen,e.isComplete=t.isComplete,e.rule=t.rule}rdGen(t,r,n){return{rule:t,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(r),refersToUdt:this.falseArray(n),referencedBy:this.falseArray(r)}}typeToString(t){switch(t){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(e){const t=[];if(e>0)for(let r=0;r<e;r+=1)t.push(!1);return t}falsifyArray(e){for(let t=0;t<e.length;t+=1)e[t]=!1}indexArray(e){const t=[];if(e>0)for(let r=0;r<e;r+=1)t.push(r);return t}compRulesAlpha(e,t){return this.rules[e].lower<this.rules[t].lower?-1:this.rules[e].lower>this.rules[t].lower?1:0}compUdtsAlpha(e,t){return this.udts[e].lower<this.udts[t].lower?-1:this.udts[e].lower>this.udts[t].lower?1:0}compRulesType(e,t){return this.ruleDeps[e].recursiveType<this.ruleDeps[t].recursiveType?-1:this.ruleDeps[e].recursiveType>this.ruleDeps[t].recursiveType?1:0}compRulesGroup(t,r){if(this.ruleDeps[t].recursiveType===e.ATTR_MR&&this.ruleDeps[r].recursiveType===e.ATTR_MR){if(this.ruleDeps[t].groupNumber<this.ruleDeps[r].groupNumber)return-1;if(this.ruleDeps[t].groupNumber>this.ruleDeps[r].groupNumber)return 1}return 0}}return{attributes:function(e=[],r=[],n=[],s=[]){const a=new o(e,r);return i(a),t(a),a.attrsErrorCount&&s.push({line:0,char:0,msg:`${a.attrsErrorCount} attribute errors`}),a.attrsErrorCount},showAttributes:r,showAttributeErrors:n,showRuleDependencies:s}}())}function requireShowRules(){return hasRequiredShowRules?showRules:(hasRequiredShowRules=1,showRules=function(){const e="show-rules.js";return function(t=[],r=[],n="index"){const i="showRules";let s=[],o=[];const a=[],u=[],c=t,h=r,l=t.length,d=r.length;let f,p="RULE/UDT NAMES";if(!Array.isArray(t)||!t.length)throw new Error(`${e}:${i}: rules arg must be array with length > 0`);if(!Array.isArray(r))throw new Error(`${e}:${i}: udts arg must be array`);for(f=0;f<l;f+=1)a.push(f);if(s=a.slice(0),s.sort((function(e,t){return c[e].lower<c[t].lower?-1:c[e].lower>c[t].lower?1:0})),d){for(f=0;f<d;f+=1)u.push(f);o=u.slice(0),o.sort((function(e,t){return h[e].lower<h[t].lower?-1:h[e].lower>h[t].lower?1:0}))}if(97===n.charCodeAt(0)){for(p+=" - alphabetical by rule/UDT name\n",f=0;f<l;f+=1)p+=`${f}: ${s[f]}: ${c[s[f]].name}\n`;if(d)for(f=0;f<d;f+=1)p+=`${f}: ${o[f]}: ${h[o[f]].name}\n`}else{for(p+=" - ordered by rule/UDT index\n",f=0;f<l;f+=1)p+=`${f}: ${c[f].name}\n`;if(d)for(f=0;f<d;f+=1)p+=`${f}: ${h[f].name}\n`}return p}}())}var api$1=function(e){const{Buffer:t}=requireDist$1(),r="api.js: ",n=this,i=nodeExports,s=requireConverter(),o=requireScanner(),a=new(requireParser()),{attributes:u,showAttributes:c,showAttributeErrors:h,showRuleDependencies:l}=requireAttributes(),d=requireShowRules(),f=function(e,t,r){const n=`<span class="${i.style.CLASS_CTRLCHAR}">`,s="</span>",o=`<span class="${i.style.CLASS_NOMATCH}">`,a="</span>";let u,c="";for(;Array.isArray(e)&&0!==e.length;){if("number"!=typeof t)throw new Error("abnfToHtml: beg must be type number");if(t>=e.length)break;u="number"!=typeof r||t+r>=e.length?e.length:t+r;let h=0;for(let r=t;r<u;r+=1){const t=e[r];if(t>=32&&t<=126)switch(1===h?(c+=s,h=0):2===h&&(c+=a,h=0),t){case 32:c+="&nbsp;";break;case 60:c+="&lt;";break;case 62:c+="&gt;";break;case 38:c+="&amp;";break;case 34:c+="&quot;";break;case 39:c+="&#039;";break;case 92:c+="&#092;";break;default:c+=String.fromCharCode(t)}else 9===t||10===t||13===t?(0===h?(c+=n,h=1):2===h&&(c+=a+n,h=1),9===t&&(c+="TAB"),10===t&&(c+="LF"),13===t&&(c+="CR")):(0===h?(c+=o,h=2):1===h&&(c+=s+o,h=2),c+=`\\x${i.utils.charToHex(t)}`)}2===h&&(c+=a),1===h&&(c+=s);break}return c},p=function(e,t,r){let n="";for(let i=t;i<t+r;i+=1){const t=e[i];if(t>=32&&t<=126)n+=String.fromCharCode(t);else switch(t){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\unknown"}}return n};let m,g=!1,y=!1,b=!1,v=!1,w=0;if(this.errors=[],t.isBuffer(e))this.chars=s.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else{if("string"!=typeof e)throw new Error(`${r}input source is not a string, byte Buffer or character array`);this.chars=s.decode("STRING",e)}this.sabnf=s.encode("STRING",this.chars),this.scan=function(e,t){this.lines=o(this.chars,this.errors,e,t),g=!0},this.parse=function(e,t,n){if(!g)throw new Error(`${r}grammar not scanned`);a.syntax(this.chars,this.lines,this.errors,e,t,n),y=!0},this.translate=function(){if(!y)throw new Error(`${r}grammar not scanned and parsed`);const e=a.semantic(this.chars,this.lines,this.errors);0===this.errors.length&&(this.rules=e.rules,this.udts=e.udts,m=e.lineMap,b=!0)},this.attributes=function(){if(!b)throw new Error(`${r}grammar not scanned, parsed and translated`);return w=u(this.rules,this.udts,m,this.errors),v=!0,w},this.generate=function(e){if(this.lines=o(this.chars,this.errors,e),this.errors.length)return;if(a.syntax(this.chars,this.lines,this.errors,e),this.errors.length)return;const t=a.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=t.rules,this.udts=t.udts,m=t.lineMap,w=u(this.rules,this.udts,m,this.errors),v=!0)},this.displayRules=function(e="index"){if(!b)throw new Error(`${r}grammar not scanned, parsed and translated`);return d(this.rules,this.udts,e)},this.displayRuleDependencies=function(e="index"){if(!v)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return l(e)},this.displayAttributes=function(e="index"){if(!v)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return w&&h(e),c(e)},this.displayAttributeErrors=function(){if(!v)throw new Error(`${r}no attributes - must be preceeded by call to attributes()`);return h()},this.toSource=function(e=void 0){if(!v)throw new Error(`${r}can't generate parser source - must be preceeded by call to attributes()`);if(w)throw new Error(`${r}can't generate parser source - attributes have ${w} errors`);return a.generateSource(this.chars,this.lines,this.rules,this.udts,e)},this.toObject=function(){if(!v)throw new Error(`${r}can't generate parser source - must be preceeded by call to attributes()`);if(w)throw new Error(`${r}can't generate parser source - attributes have ${w} errors`);return a.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return function(e,t,r){let n,i,s,o;return n="",e.forEach((e=>{i=t[e.line],n+=`${i.lineNo}: `,n+=`${i.beginChar}: `,n+=e.char-i.beginChar+": ",s=i.beginChar,o=e.char-i.beginChar,n+=p(r,s,o),n+=" >> ",s=e.char,o=i.beginChar+i.length-e.char,n+=p(r,s,o),n+="\n",n+=`${i.lineNo}: `,n+=`${i.beginChar}: `,n+=e.char-i.beginChar+": ",n+="error: ",n+=e.msg,n+="\n"})),n}(this.errors,this.lines,this.chars)},this.errorsToHtml=function(e){return function(e,t,r,n){const[s]=i;let o="";const a=`<span class="${s.CLASS_NOMATCH}">&raquo;</span>`;return o+=`<p><table class="${s.CLASS_GRAMMAR}">\n`,n&&"string"==typeof n&&(o+=`<caption>${n}</caption>\n`),o+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",e.forEach((e=>{let n,s,u,c,h,l="",d="";0===t.length?(h=a,s=0):(n=t[e.line],u=n.beginChar,e.char>u&&(l=f(r,u,e.char-u)),u=e.char,c=n.beginChar+n.length,u<c&&(d=f(r,u,c-u)),h=l+a+d,s=e.char-n.beginChar,o+="<tr>",o+=`<td>${e.line}</td><td>${n.beginChar}</td><td>${s}</td><td>${h}</td>`,o+="</tr>\n",o+="<tr>",o+=`<td colspan="3"></td><td>&uarr;:&nbsp;${i.utils.stringToAsciiHtml(e.msg)}</td>`,o+="</tr>\n")})),o+="</table></p>\n",o}(this.errors,this.lines,this.chars,e)},this.linesToAscii=function(){return function(e){let t="Annotated Input Grammar";return e.forEach((e=>{t+="\n",t+=`line no: ${e.lineNo}`,t+=` : char index: ${e.beginChar}`,t+=` : length: ${e.length}`,t+=` : abnf: ${p(n.chars,e.beginChar,e.length)}`})),t+="\n",t}(this.lines)},this.linesToHtml=function(){return function(e){let t="";return t+=`<table class="${i.style.CLASS_GRAMMAR}">\n`,t+="<caption>Annotated Input Grammar</caption>\n",t+="<tr>",t+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",t+="</tr>\n",e.forEach((e=>{t+="<tr>",t+=`<td>${e.lineNo}`,t+=`</td><td>${e.beginChar}`,t+=`</td><td>${e.length}`,t+=`</td><td>${f(n.chars,e.beginChar,e.length)}`,t+="</td>",t+="</tr>\n"})),t+="</table>\n",t}(this.lines)}},utils$9={},sha3={},_assert={};function number$1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bool(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function bytes$1(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function hash$4(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(e.outputLen),number$1(e.blockLen)}function exists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,t){bytes$1(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(_assert,"__esModule",{value:!0}),_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0,_assert.number=number$1,_assert.bool=bool,_assert.bytes=bytes$1,_assert.hash=hash$4,_assert.exists=exists,_assert.output=output;const assert={number:number$1,bool,bytes:bytes$1,hash:hash$4,exists,output};_assert.default=assert;var _u64={};Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(e,t=!1){return t?{h:Number(e&U32_MASK64$1),l:Number(e>>_32n$1&U32_MASK64$1)}:{h:0|Number(e>>_32n$1&U32_MASK64$1),l:0|Number(e&U32_MASK64$1)}}function split$1(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=fromBig$1(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}_u64.fromBig=fromBig$1,_u64.split=split$1;const toBig=(e,t)=>BigInt(e>>>0)<<_32n$1|BigInt(t>>>0);_u64.toBig=toBig;const shrSH=(e,t,r)=>e>>>r;_u64.shrSH=shrSH;const shrSL=(e,t,r)=>e<<32-r|t>>>r;_u64.shrSL=shrSL;const rotrSH=(e,t,r)=>e>>>r|t<<32-r;_u64.rotrSH=rotrSH;const rotrSL=(e,t,r)=>e<<32-r|t>>>r;_u64.rotrSL=rotrSL;const rotrBH=(e,t,r)=>e<<64-r|t>>>r-32;_u64.rotrBH=rotrBH;const rotrBL=(e,t,r)=>e>>>r-32|t<<64-r;_u64.rotrBL=rotrBL;const rotr32H=(e,t)=>t;_u64.rotr32H=rotr32H;const rotr32L=(e,t)=>e;_u64.rotr32L=rotr32L;const rotlSH$1=(e,t,r)=>e<<r|t>>>32-r;_u64.rotlSH=rotlSH$1;const rotlSL$1=(e,t,r)=>t<<r|e>>>32-r;_u64.rotlSL=rotlSL$1;const rotlBH$1=(e,t,r)=>t<<r-32|e>>>64-r;_u64.rotlBH=rotlBH$1;const rotlBL$1=(e,t,r)=>e<<r-32|t>>>64-r;function add(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}_u64.rotlBL=rotlBL$1,_u64.add=add;const add3L=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);_u64.add3L=add3L;const add3H=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;_u64.add3H=add3H;const add4L=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);_u64.add4L=add4L;const add4H=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;_u64.add4H=add4H;const add5L=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);_u64.add5L=add5L;const add5H=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig:fromBig$1,split:split$1,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64;var utils$8={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.crypto=void 0,crypto$1.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=crypto$1,r=e=>e instanceof Uint8Array;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,t)=>e<<32-t|e>>>t,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!r(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const t=2*n,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r};function i(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function s(e){if("string"==typeof e&&(e=i(e)),!r(e))throw new Error("expected Uint8Array, got "+typeof e);return e}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let s=0;s<t;s++){n(s);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=i,e.toBytes=s,e.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!r(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};e.Hash=class{clone(){return this._cloneInto()}};const o={}.toString;e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==o.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(s(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(s(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(utils$8),Object.defineProperty(sha3,"__esModule",{value:!0}),sha3.shake256=sha3.shake128=sha3.keccak_512=sha3.keccak_384=sha3.keccak_256=sha3.keccak_224=sha3.sha3_512=sha3.sha3_384=sha3.sha3_256=sha3.sha3_224=sha3.Keccak=sha3.keccakP=void 0;const _assert_js_1=_assert,_u64_js_1=_u64,utils_js_1=utils$8,[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let r=0,i=_1n$1,s=1,o=0;r<24;r++){[s,o]=[o,(2*s+3*o)%5],SHA3_PI$1.push(2*(5*o+s)),SHA3_ROTL$1.push((r+1)*(r+2)/2%64);let e=_0n$1;for(let t=0;t<7;t++)i=(i<<_1n$1^(i>>_7n$1)*_0x71n$1)%_256n$1,i&_2n$1&&(e^=_1n$1<<(_1n$1<<BigInt(t))-_1n$1);_SHA3_IOTA$1.push(e)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=(0,_u64_js_1.split)(_SHA3_IOTA$1,!0),rotlH$1=(e,t,r)=>r>32?(0,_u64_js_1.rotlBH)(e,t,r):(0,_u64_js_1.rotlSH)(e,t,r),rotlL$1=(e,t,r)=>r>32?(0,_u64_js_1.rotlBL)(e,t,r):(0,_u64_js_1.rotlSL)(e,t,r);function keccakP$1(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=rotlH$1(s,o,1)^r[t],u=rotlL$1(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=SHA3_ROTL$1[r],s=rotlH$1(t,i,n),o=rotlL$1(t,i,n),a=SHA3_PI$1[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=SHA3_IOTA_H$1[n],e[1]^=SHA3_IOTA_L$1[n]}r.fill(0)}sha3.keccakP=keccakP$1;let Keccak$1=class e extends utils_js_1.Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,_assert_js_1.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,utils_js_1.u32)(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,_assert_js_1.exists)(this);const{blockLen:t,state:r}=this,n=(e=(0,utils_js_1.toBytes)(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,_assert_js_1.exists)(this,!1),(0,_assert_js_1.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,_assert_js_1.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,_assert_js_1.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new e(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};sha3.Keccak=Keccak$1;const gen$1=(e,t,r)=>(0,utils_js_1.wrapConstructor)((()=>new Keccak$1(t,e,r)));sha3.sha3_224=gen$1(6,144,28),sha3.sha3_256=gen$1(6,136,32),sha3.sha3_384=gen$1(6,104,48),sha3.sha3_512=gen$1(6,72,64),sha3.keccak_224=gen$1(1,144,28),sha3.keccak_256=gen$1(1,136,32),sha3.keccak_384=gen$1(1,104,48),sha3.keccak_512=gen$1(1,72,64);const genShake=(e,t,r)=>(0,utils_js_1.wrapXOFConstructorWithOpts)(((n={})=>new Keccak$1(t,e,void 0===n.dkLen?r:n.dkLen,!0)));sha3.shake128=genShake(31,168,16),sha3.shake256=genShake(31,136,32),Object.defineProperty(utils$9,"__esModule",{value:!0}),utils$9.parseIntegerNumber=utils$9.isEIP55Address=void 0;const sha3_1=sha3,utils_1$2=utils$8,isEIP55Address=e=>{if(42!=e.length)return!1;const t=`${e}`.toLowerCase().replace("0x",""),r=(0,utils_1$2.bytesToHex)((0,sha3_1.keccak_256)(t));let n="0x";for(let i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return e===n};utils$9.isEIP55Address=isEIP55Address;const parseIntegerNumber=e=>{const t=parseInt(e);if(isNaN(t))throw new Error("Invalid number.");if(t===1/0)throw new Error("Invalid number.");return t};utils$9.parseIntegerNumber=parseIntegerNumber;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_a;Object.defineProperty(abnf,"__esModule",{value:!0}),abnf.ParsedMessage=void 0;const api_1=__importDefault$1(api$1),node_exports_1=__importDefault$1(nodeExports),utils_1$1=utils$9,GRAMMAR='\nsign-in-with-ethereum =\n    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = authority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = 1*( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n';class GrammarApi{static generateApi(){const e=new api_1.default(GRAMMAR);if(e.generate(),e.errors.length)throw new Error("ABNF grammar has errors");return e.toObject()}}_a=GrammarApi,GrammarApi.grammarObj=_a.generateApi();class ParsedMessage{constructor(e){const t=new node_exports_1.default.parser;t.ast=new node_exports_1.default.ast;const r=node_exports_1.default.ids;t.ast.callbacks.scheme=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&0===n&&(s.scheme=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks.domain=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.domain=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks.address=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.address=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks.statement=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.statement=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks.uri=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.uri||(s.uri=node_exports_1.default.utils.charsToString(t,n,i))),o};t.ast.callbacks.version=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.version=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks["chain-id"]=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.chainId=(0,utils_1$1.parseIntegerNumber)(node_exports_1.default.utils.charsToString(t,n,i))),o};t.ast.callbacks.nonce=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.nonce=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks["issued-at"]=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.issuedAt=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks["expiration-time"]=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.expirationTime=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks["not-before"]=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.notBefore=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks["request-id"]=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.requestId=node_exports_1.default.utils.charsToString(t,n,i)),o};t.ast.callbacks.resources=function(e,t,n,i,s){const o=r.SEM_OK;return e===r.SEM_PRE&&(s.resources=node_exports_1.default.utils.charsToString(t,n,i).slice(3).split("\n- ")),o};const n=t.parse(GrammarApi.grammarObj,"sign-in-with-ethereum",e);if(!n.success)throw new Error(`Invalid message: ${JSON.stringify(n)}`);const i={};t.ast.translate(i);for(const[s,o]of Object.entries(i))this[s]=o;if(0===this.domain.length)throw new Error("Domain cannot be empty.");if(!(0,utils_1$1.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}}abnf.ParsedMessage=ParsedMessage,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.ParsedMessage=void 0;const n=abnf;Object.defineProperty(e,"ParsedMessage",{enumerable:!0,get:function(){return n.ParsedMessage}}),r(utils$9,e)}(parsers);var validUrl={exports:{}};!function(e){e.exports.is_uri=r,e.exports.is_http_uri=n,e.exports.is_https_uri=i,e.exports.is_web_uri=s,e.exports.isUri=r,e.exports.isHttpUri=n,e.exports.isHttpsUri=i,e.exports.isWebUri=s;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var r,n,i,s,o,a="",u="";if(a=(r=t(e))[1],n=r[2],i=r[3],s=r[4],o=r[5],a&&a.length&&i.length>=0){if(n&&n.length){if(0!==i.length&&!/^\//.test(i))return}else if(/^\/\//.test(i))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return u+=a+":",n&&n.length&&(u+="//"+n),u+=i,s&&s.length&&(u+="?"+s),o&&o.length&&(u+="#"+o),u}}}function n(e,n){if(r(e)){var i,s,o,a,u="",c="",h="",l="";if(u=(i=t(e))[1],c=i[2],s=i[3],o=i[4],a=i[5],u){if(n){if("https"!=u.toLowerCase())return}else if("http"!=u.toLowerCase())return;if(c)return/:(\d+)$/.test(c)&&(h=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),l+=u+":",l+="//"+c,h&&(l+=h),l+=s,o&&o.length&&(l+="?"+o),a&&a.length&&(l+="#"+a),l}}}function i(e){return n(e,!0)}function s(e){return n(e)||i(e)}}(validUrl);var validUrlExports=validUrl.exports,ethersCompat={},lib_commonjs$1={},extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function __decorate(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function __param(e,t){return function(r,n){t(r,n,e)}}function __esDecorate(e,t,r,n,i,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,u=n.kind,c="getter"===u?"get":"setter"===u?"set":"value",h=!t&&e?n.static?e:e.prototype:null,l=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),d=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var g=(0,r[f])("accessor"===u?{get:l.get,set:l.set}:l[c],p);if("accessor"===u){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=o(g.get))&&(l.get=a),(a=o(g.set))&&(l.set=a),(a=o(g.init))&&i.unshift(a)}else(a=o(g))&&("field"===u?i.unshift(a):l[c]=a)}h&&Object.defineProperty(h,n.name,l),d=!0}function __runInitializers(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function __propKey(e){return"symbol"==typeof e?e:"".concat(e)}function __setFunctionName(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter$3(t,r,n,i){return new(n||(n=Promise))((function(s,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((i=i.apply(t,r||[])).next())}))}function __generator(t,r){var n,i,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,i&&(s=2&u[0]?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,i=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=r.call(t,o)}catch(e){u=[6,e],i=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}var __createBinding$1=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function __exportStar(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding$1(t,e,r)}function __values$1(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function __await$1(e){return this instanceof __await$1?(this.v=e,this):new __await$1(e)}function __asyncGenerator$1(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,s=n.apply(t,r||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,h)}})),i[Symbol.asyncIterator]=function(){return this},i;function a(e,t){s[e]&&(i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||u(e,t)}))},t&&(i[e]=t(i[e])))}function u(t,r){try{(n=s[t](r)).value instanceof __await$1?Promise.resolve(n.value.v).then(c,h):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){u("next",e)}function h(e){u("throw",e)}function l(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function __asyncDelegator$1(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await$1(e[n](t)),done:!1}:i?i(t):t}:i}}function __asyncValues$1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values$1?__values$1(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var __setModuleDefault$1=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function __importStar$1(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$1(t,e,r);return __setModuleDefault$1(t,e),t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function __classPrivateFieldSet(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function __classPrivateFieldIn(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function __addDisposableResource(t,r,n){if(null!=r){if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Object expected.");var i,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],n&&(s=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(e){return Promise.reject(e)}}),t.stack.push({value:r,dispose:i,async:n})}else n&&t.stack.push({async:!0});return r}var _SuppressedError="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function __disposeResources(t){function r(e){t.error=t.hasError?new _SuppressedError(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}var n,i=0;return function s(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(o).then(s,(function(e){return r(e),s()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter:__awaiter$3,__generator,__createBinding:__createBinding$1,__exportStar,__values:__values$1,__read,__spread,__spreadArrays,__spreadArray,__await:__await$1,__asyncGenerator:__asyncGenerator$1,__asyncDelegator:__asyncDelegator$1,__asyncValues:__asyncValues$1,__makeTemplateObject,__importStar:__importStar$1,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$3,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding:__createBinding$1,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar:__importStar$1,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values:__values$1,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6$1);var ethers={},_version={},hasRequired_version;function require_version(){return hasRequired_version||(hasRequired_version=1,Object.defineProperty(_version,"__esModule",{value:!0}),_version.version=void 0,_version.version="6.13.4"),_version}var abi={},abiCoder={},utils$7={},base58={},data={},errors={},properties={},hasRequiredProperties,hasRequiredErrors,hasRequiredData;function requireProperties(){if(hasRequiredProperties)return properties;function e(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let s=0;s<n.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}return hasRequiredProperties=1,Object.defineProperty(properties,"__esModule",{value:!0}),properties.defineProperties=properties.resolveProperties=void 0,properties.resolveProperties=async function(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})},properties.defineProperties=function(t,r,n){for(let i in r){let s=r[i];const o=n?n[i]:null;o&&e(s,o,i),Object.defineProperty(t,i,{enumerable:!0,value:s,writable:!1})}},properties}function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1,Object.defineProperty(errors,"__esModule",{value:!0}),errors.assertPrivate=errors.assertNormalize=errors.assertArgumentCount=errors.assertArgument=errors.assert=errors.makeError=errors.isCallException=errors.isError=void 0;const e=require_version(),t=requireProperties();function r(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(r).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return r(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${r(t)}: ${r(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function n(e,t){return e&&e.code===t}function i(n,i,s){let o,a=n;{const t=[];if(s){if("message"in s||"code"in s||"name"in s)throw new Error(`value will overwrite populated values: ${r(s)}`);for(const e in s){if("shortMessage"===e)continue;const n=s[e];t.push(e+"="+r(n))}}t.push(`code=${i}`),t.push(`version=${e.version}`),t.length&&(n+=" ("+t.join(", ")+")")}switch(i){case"INVALID_ARGUMENT":o=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(n);break;default:o=new Error(n)}return(0,t.defineProperties)(o,{code:i}),s&&Object.assign(o,s),null==o.shortMessage&&(0,t.defineProperties)(o,{shortMessage:a}),o}function s(e,t,r,n){if(!e)throw i(t,r,n)}errors.isError=n,errors.isCallException=function(e){return n(e,"CALL_EXCEPTION")},errors.makeError=i,errors.assert=s,errors.assertArgument=function(e,t,r,n){s(e,t,"INVALID_ARGUMENT",{argument:r,value:n})},errors.assertArgumentCount=function(e,t,r){null==r&&(r=""),r&&(r=": "+r),s(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),s(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})};const o=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(r){}return e}),[]);return errors.assertNormalize=function(e){s(o.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})},errors.assertPrivate=function(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),s(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}},errors}function requireData(){if(hasRequiredData)return data;hasRequiredData=1,Object.defineProperty(data,"__esModule",{value:!0}),data.zeroPadBytes=data.zeroPadValue=data.stripZerosLeft=data.dataSlice=data.dataLength=data.concat=data.hexlify=data.isBytesLike=data.isHexString=data.getBytesCopy=data.getBytes=void 0;const e=requireErrors();function t(t,r,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}(0,e.assertArgument)(!1,"invalid BytesLike value",r||"value",t)}function r(e,r){return t(e,r,!1)}function n(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0))}data.getBytes=r,data.getBytesCopy=function(e,r){return t(e,r,!0)},data.isHexString=n,data.isBytesLike=function(e){return n(e,!0)||e instanceof Uint8Array};const i="0123456789abcdef";function s(e){const t=r(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=i[(240&e)>>4]+i[15&e]}return n}function o(t,n,i){const o=r(t);(0,e.assert)(n>=o.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(o),length:n,offset:n+1});const a=new Uint8Array(n);return a.fill(0),i?a.set(o,n-o.length):a.set(o,0),s(a)}return data.hexlify=s,data.concat=function(e){return"0x"+e.map((e=>s(e).substring(2))).join("")},data.dataLength=function(e){return n(e,!0)?(e.length-2)/2:r(e).length},data.dataSlice=function(t,n,i){const o=r(t);return null!=i&&i>o.length&&(0,e.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:o,length:o.length,offset:i}),s(o.slice(n??0,i??o.length))},data.stripZerosLeft=function(e){let t=s(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t},data.zeroPadValue=function(e,t){return o(e,t,!0)},data.zeroPadBytes=function(e,t){return o(e,t,!1)},data}var maths={},hasRequiredMaths,hasRequiredBase58;function requireMaths(){if(hasRequiredMaths)return maths;hasRequiredMaths=1,Object.defineProperty(maths,"__esModule",{value:!0}),maths.toQuantity=maths.toBeArray=maths.toBeHex=maths.toNumber=maths.getNumber=maths.toBigInt=maths.getUint=maths.getBigInt=maths.mask=maths.toTwos=maths.fromTwos=void 0;const t=requireData(),r=requireErrors(),n=BigInt(0),i=BigInt(1),s=9007199254740991;function o(t,n){switch(typeof t){case"bigint":return t;case"number":return(0,r.assertArgument)(Number.isInteger(t),"underflow",n||"value",t),(0,r.assertArgument)(t>=-s&&t<=s,"overflow",n||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(e){(0,r.assertArgument)(!1,`invalid BigNumberish string: ${e.message}`,n||"value",t)}}(0,r.assertArgument)(!1,"invalid BigNumberish value",n||"value",t)}function a(e,t){const i=o(e,t);return(0,r.assert)(i>=n,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),i}maths.fromTwos=function(e,t){const s=a(e,"value"),o=BigInt(h(t,"width"));if((0,r.assert)(s>>o===n,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),s>>o-i){return-((~s&(i<<o)-i)+i)}return s},maths.toTwos=function(e,t){let s=o(e,"value");const a=BigInt(h(t,"width")),u=i<<a-i;if(s<n){s=-s,(0,r.assert)(s<=u,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~s&(i<<a)-i)+i}return(0,r.assert)(s<u,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),s},maths.mask=function(e,t){const r=a(e,"value"),n=BigInt(h(t,"bits"));return r&(i<<n)-i},maths.getBigInt=o,maths.getUint=a;const u="0123456789abcdef";function c(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=u[r>>4],t+=u[15&r];return BigInt(t)}return o(e)}function h(t,n){switch(typeof t){case"bigint":return(0,r.assertArgument)(t>=-s&&t<=s,"overflow",n||"value",t),Number(t);case"number":return(0,r.assertArgument)(Number.isInteger(t),"underflow",n||"value",t),(0,r.assertArgument)(t>=-s&&t<=s,"overflow",n||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return h(BigInt(t),n)}catch(e){(0,r.assertArgument)(!1,`invalid numeric string: ${e.message}`,n||"value",t)}}(0,r.assertArgument)(!1,"invalid numeric value",n||"value",t)}function l(e){const t=a(e,"value");if(t===n)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let n=0;n<i.length;n++){const e=2*n;i[n]=parseInt(r.substring(e,e+2),16)}return i}return maths.toBigInt=c,maths.getNumber=h,maths.toNumber=function(e){return h(c(e))},maths.toBeHex=function(e,t){let n=a(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const i=h(t,"width");for((0,r.assert)(2*i>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*i;)n="0"+n}return"0x"+n},maths.toBeArray=l,maths.toQuantity=function(e){let r=(0,t.hexlify)((0,t.isBytesLike)(e)?e:l(e)).substring(2);for(;r.startsWith("0");)r=r.substring(1);return""===r&&(r="0"),"0x"+r},maths}function requireBase58(){if(hasRequiredBase58)return base58;hasRequiredBase58=1,Object.defineProperty(base58,"__esModule",{value:!0}),base58.decodeBase58=base58.encodeBase58=void 0;const e=requireData(),t=requireErrors(),r=requireMaths(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let i=null;function s(e){if(null==i){i={};for(let e=0;e<58;e++)i[n[e]]=BigInt(e)}const r=i[e];return(0,t.assertArgument)(null!=r,"invalid base58 value","letter",e),r}const o=BigInt(0),a=BigInt(58);return base58.encodeBase58=function(t){const i=(0,e.getBytes)(t);let s=(0,r.toBigInt)(i),o="";for(;s;)o=n[Number(s%a)]+o,s/=a;for(let e=0;e<i.length&&!i[e];e++)o=n[0]+o;return o},base58.decodeBase58=function(e){let t=o;for(let r=0;r<e.length;r++)t*=a,t+=s(e[r]);return t},base58}var base64Browser={},hasRequiredBase64Browser;function requireBase64Browser(){if(hasRequiredBase64Browser)return base64Browser;hasRequiredBase64Browser=1,Object.defineProperty(base64Browser,"__esModule",{value:!0}),base64Browser.encodeBase64=base64Browser.decodeBase64=void 0;const e=requireData();return base64Browser.decodeBase64=function(t){t=atob(t);const r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return(0,e.getBytes)(r)},base64Browser.encodeBase64=function(t){const r=(0,e.getBytes)(t);let n="";for(let e=0;e<r.length;e++)n+=String.fromCharCode(r[e]);return btoa(n)},base64Browser}var events$1={},hasRequiredEvents$1;function requireEvents$1(){if(hasRequiredEvents$1)return events$1;hasRequiredEvents$1=1,Object.defineProperty(events$1,"__esModule",{value:!0}),events$1.EventPayload=void 0;const e=requireProperties();return events$1.EventPayload=class{filter;emitter;#e;constructor(t,r,n){this.#e=r,(0,e.defineProperties)(this,{emitter:t,filter:n})}async removeListener(){null!=this.#e&&await this.emitter.off(this.filter,this.#e)}},events$1}var fetch$1={},utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8CodePoints=e.toUtf8String=e.toUtf8Bytes=e.Utf8ErrorFuncs=void 0;const t=requireData(),r=requireErrors();function n(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}function i(r,n){null==n&&(n=e.Utf8ErrorFuncs.error);const i=(0,t.getBytes)(r,"bytes"),s=[];let o=0;for(;o<i.length;){const e=i[o++];if(!(e>>7)){s.push(e);continue}let t=null,r=null;if(192==(224&e))t=1,r=127;else if(224==(240&e))t=2,r=2047;else{if(240!=(248&e)){o+=n(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",o-1,i,s);continue}t=3,r=65535}if(o-1+t>=i.length){o+=n("OVERRUN",o-1,i,s);continue}let a=e&(1<<8-t-1)-1;for(let u=0;u<t;u++){let e=i[o];if(128!=(192&e)){o+=n("MISSING_CONTINUE",o,i,s),a=null;break}a=a<<6|63&e,o++}null!==a&&(a>1114111?o+=n("OUT_OF_RANGE",o-1-t,i,s,a):a>=55296&&a<=57343?o+=n("UTF16_SURROGATE",o-1-t,i,s,a):a<=r?o+=n("OVERLONG",o-1-t,i,s,a):s.push(a))}return s}function s(e,t){(0,r.assertArgument)("string"==typeof e,"invalid string value","str",e),null!=t&&((0,r.assertNormalize)(t),e=e.normalize(t));let n=[];for(let i=0;i<e.length;i++){const t=e.charCodeAt(i);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){i++;const s=e.charCodeAt(i);(0,r.assertArgument)(i<e.length&&56320==(64512&s),"invalid surrogate pair","str",e);const o=65536+((1023&t)<<10)+(1023&s);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}e.Utf8ErrorFuncs=Object.freeze({error:function(e,t,n,i,s){(0,r.assertArgument)(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:n,replace:function(e,t,i,s,o){return"OVERLONG"===e?((0,r.assertArgument)("number"==typeof o,"invalid bad code point for replacement","badCodepoint",o),s.push(o),0):(s.push(65533),n(e,t,i))}}),e.toUtf8Bytes=s,e.toUtf8String=function(e,t){return i(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")},e.toUtf8CodePoints=function(e,t){return i(s(e,t))}}(utf8)),utf8}var geturlBrowser={},hasRequiredGeturlBrowser,hasRequiredFetch;function requireGeturlBrowser(){if(hasRequiredGeturlBrowser)return geturlBrowser;hasRequiredGeturlBrowser=1,Object.defineProperty(geturlBrowser,"__esModule",{value:!0}),geturlBrowser.getUrl=geturlBrowser.createGetUrl=void 0;const e=requireErrors();function t(t){return async function(t,r){(0,e.assert)(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");const n=t.url.split(":")[0].toLowerCase();(0,e.assert)("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),(0,e.assert)("https"===n||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,o=setTimeout((()=>{i=(0,e.makeError)("request timeout","TIMEOUT"),s.abort()}),t.timeout);r&&r.addListener((()=>{i=(0,e.makeError)("request cancelled","CANCELLED"),s.abort()}));const a={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal};let u;try{u=await fetch(t.url,a)}catch(d){if(clearTimeout(o),i)throw i;throw d}clearTimeout(o);const c={};u.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const h=await u.arrayBuffer(),l=null==h?null:new Uint8Array(h);return{statusCode:u.status,statusMessage:u.statusText,headers:c,body:l}}}geturlBrowser.createGetUrl=t;const r=t();return geturlBrowser.getUrl=async function(e,t){return r(e,t)},geturlBrowser}function requireFetch(){if(hasRequiredFetch)return fetch$1;hasRequiredFetch=1,Object.defineProperty(fetch$1,"__esModule",{value:!0}),fetch$1.FetchResponse=fetch$1.FetchRequest=fetch$1.FetchCancelSignal=void 0;const t=requireBase64Browser(),r=requireData(),n=requireErrors(),i=requireProperties(),s=requireUtf8(),o=requireGeturlBrowser();let a=(0,o.createGetUrl)();const u=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),c=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let h=!1;async function l(e,r){try{const r=e.match(u);if(!r)throw new Error("invalid data");return new b(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?(0,t.decodeBase64)(r[3]):(n=r[3],(0,s.toUtf8Bytes)(n.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))))}catch(i){return new b(599,"BAD REQUEST (invalid data: URI)",{},null,new y(e))}var n}function d(e){return async function(t,r){try{const r=t.match(c);if(!r)throw new Error("invalid link");return new y(`${e}${r[2]}`)}catch(n){return new b(599,"BAD REQUEST (invalid IPFS URI)",{},null,new y(t))}}}const f={data:l,ipfs:d("https://gateway.ipfs.io/ipfs/")},p=new WeakMap;class m{#t;#r;constructor(e){this.#t=[],this.#r=!1,p.set(e,(()=>{if(!this.#r){this.#r=!0;for(const e of this.#t)setTimeout((()=>{e()}),0);this.#t=[]}}))}addListener(e){(0,n.assert)(!this.#r,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(e)}get cancelled(){return this.#r}checkSignal(){(0,n.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function g(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}fetch$1.FetchCancelSignal=m;class y{#n;#i;#s;#o;#a;#u;#c;#h;#l;#d;#f;#p;#m;#g;#y;get url(){return this.#u}set url(e){this.#u=String(e)}get body(){return null==this.#c?null:new Uint8Array(this.#c)}set body(e){if(null==e)this.#c=void 0,this.#h=void 0;else if("string"==typeof e)this.#c=(0,s.toUtf8Bytes)(e),this.#h="text/plain";else if(e instanceof Uint8Array)this.#c=e,this.#h="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#c=(0,s.toUtf8Bytes)(JSON.stringify(e)),this.#h="application/json"}}hasBody(){return null!=this.#c}get method(){return this.#o?this.#o:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#o=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#s);return this.#l&&(e.authorization=`Basic ${(0,t.encodeBase64)((0,s.toUtf8Bytes)(this.#l))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#h&&(e["content-type"]=this.#h),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#s[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#s={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#l||null}setCredentials(e,t){(0,n.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#l=`${e}:${t}`}get allowGzip(){return this.#i}set allowGzip(e){this.#i=!!e}get allowInsecureAuthentication(){return!!this.#n}set allowInsecureAuthentication(e){this.#n=!!e}get timeout(){return this.#a}set timeout(e){(0,n.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),this.#a=e}get preflightFunc(){return this.#d||null}set preflightFunc(e){this.#d=e}get processFunc(){return this.#f||null}set processFunc(e){this.#f=e}get retryFunc(){return this.#p||null}set retryFunc(e){this.#p=e}get getUrlFunc(){return this.#y||a}set getUrlFunc(e){this.#y=e}constructor(e){this.#u=String(e),this.#n=!1,this.#i=!0,this.#s={},this.#o="",this.#a=3e5,this.#g={slotInterval:250,maxAttempts:12},this.#y=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#c?(0,r.hexlify)(this.#c):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#g.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#g.maxAttempts=e.maxAttempts)}async#b(e,t,r,i,s){if(e>=this.#g.maxAttempts)return s.makeServerError("exceeded maximum retry limit");(0,n.assert)(v()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in f){const e=await f[a](o.url,g(i.#m));if(e instanceof b){let t=e;if(this.processFunc){g(i.#m);try{t=await this.processFunc(o,t)}catch(h){null!=h.throttle&&"number"==typeof h.stall||t.makeServerError("error in post-processing function",h).assertOk()}}return t}o=e}this.preflightFunc&&(o=await this.preflightFunc(o));const u=await this.getUrlFunc(o,g(i.#m));let c=new b(u.statusCode,u.statusMessage,u.headers,u.body,i);if(301===c.statusCode||302===c.statusCode){try{const r=c.headers.location||"";return o.redirect(r).#b(e+1,t,0,i,c)}catch(h){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(o,c,e))){const r=c.headers["retry-after"];let n=this.#g.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),o.clone().#b(e+1,t,n,i,c)}if(this.processFunc){g(i.#m);try{c=await this.processFunc(o,c)}catch(h){null!=h.throttle&&"number"==typeof h.stall||c.makeServerError("error in post-processing function",h).assertOk();let r=this.#g.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(r=h.stall),o.clone().#b(e+1,t,r,i,c)}}return c}send(){return(0,n.assert)(null==this.#m,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#m=new m(this),this.#b(0,v()+this.timeout,0,this,new b(0,"",{},null,this))}cancel(){(0,n.assert)(null!=this.#m,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=p.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,n.assert)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new y(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#s=Object.assign({},this.#s),this.#c&&(i.#c=new Uint8Array(this.#c)),i.#h=this.#h,i}clone(){const e=new y(this.url);return e.#o=this.#o,this.#c&&(e.#c=this.#c),e.#h=this.#h,e.#s=Object.assign({},this.#s),e.#l=this.#l,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#d=this.#d,e.#f=this.#f,e.#p=this.#p,e.#g=Object.assign({},this.#g),e.#y=this.#y,e}static lockConfig(){h=!0}static getGateway(e){return f[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(h)throw new Error("gateways locked");f[e]=t}static registerGetUrl(e){if(h)throw new Error("gateways locked");a=e}static createGetUrlFunc(e){return(0,o.createGetUrl)(e)}static createDataGateway(){return l}static createIpfsGatewayFunc(e){return d(e)}}fetch$1.FetchRequest=y;class b{#v;#w;#s;#c;#A;#M;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#c?(0,r.hexlify)(this.#c):"null"}>`}get statusCode(){return this.#v}get statusMessage(){return this.#w}get headers(){return Object.assign({},this.#s)}get body(){return null==this.#c?null:new Uint8Array(this.#c)}get bodyText(){try{return null==this.#c?"":(0,s.toUtf8String)(this.#c)}catch(e){(0,n.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,n.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#v=e,this.#w=t,this.#s=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#c=null==n?null:new Uint8Array(n),this.#A=i||null,this.#M={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new b(599,r,this.headers,this.body,this.#A||void 0);return n.#M={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:(0,n.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw(0,i.defineProperties)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#c}get request(){return this.#A}ok(){return""===this.#M.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:r}=this.#M;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let o=null;try{this.#c&&(o=(0,s.toUtf8String)(this.#c))}catch(e){}(0,n.assert)(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:i,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function v(){return(new Date).getTime()}return fetch$1.FetchResponse=b,fetch$1}var fixednumber={},hasRequiredFixednumber;function requireFixednumber(){if(hasRequiredFixednumber)return fixednumber;hasRequiredFixednumber=1,Object.defineProperty(fixednumber,"__esModule",{value:!0}),fixednumber.FixedNumber=void 0;const e=requireData(),t=requireErrors(),r=requireMaths(),n=requireProperties(),i=BigInt(-1),s=BigInt(0),o=BigInt(1),a=BigInt(5),u={};let c="0000";for(;c.length<80;)c+=c;function h(e){let t=c;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function l(e,n,i){const a=BigInt(n.width);if(n.signed){const n=o<<a-o;(0,t.assert)(null==i||e>=-n&&e<n,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e}),e=e>s?(0,r.fromTwos)((0,r.mask)(e,a),a):-(0,r.fromTwos)((0,r.mask)(-e,a),a)}else{const r=o<<a;(0,t.assert)(null==i||e>=0&&e<r,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e}),e=(e%r+r)%r&r-o}return e}function d(e){"number"==typeof e&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,t.assertArgument)(s,"invalid fixed format","format",e),r="u"!==s[1],n=parseInt(s[2]),i=parseInt(s[3])}else if(e){const s=e,o=(e,r,n)=>null==s[e]?n:((0,t.assertArgument)(typeof s[e]===r,"invalid fixed format ("+e+" not "+r+")","format."+e,s[e]),s[e]);r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}(0,t.assertArgument)(n%8==0,"invalid FixedNumber width (not byte aligned)","format.width",n),(0,t.assertArgument)(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);return{signed:r,width:n,decimals:i,name:(r?"":"u")+"fixed"+String(n)+"x"+String(i)}}class f{format;#E;#_;#S;_value;constructor(e,r,o){(0,t.assertPrivate)(e,u,"FixedNumber"),this.#_=r,this.#E=o;const a=function(e,t){let r="";e<s&&(r="-",e*=i);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=c+n;const o=n.length-t;for(n=n.substring(0,o)+"."+n.substring(o);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(r,o.decimals);(0,n.defineProperties)(this,{format:o.name,_value:a}),this.#S=h(o.decimals)}get signed(){return this.#E.signed}get width(){return this.#E.width}get decimals(){return this.#E.decimals}get value(){return this.#_}#x(e){(0,t.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#R(e,t){return e=l(e,this.#E,t),new f(u,e,this.#E)}#k(e,t){return this.#x(e),this.#R(this.#_+e.#_,t)}addUnsafe(e){return this.#k(e)}add(e){return this.#k(e,"add")}#P(e,t){return this.#x(e),this.#R(this.#_-e.#_,t)}subUnsafe(e){return this.#P(e)}sub(e){return this.#P(e,"sub")}#B(e,t){return this.#x(e),this.#R(this.#_*e.#_/this.#S,t)}mulUnsafe(e){return this.#B(e)}mul(e){return this.#B(e,"mul")}mulSignal(e){this.#x(e);const r=this.#_*e.#_;return(0,t.assert)(r%this.#S===s,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#R(r/this.#S,"mulSignal")}#T(e,r){return(0,t.assert)(e.#_!==s,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#x(e),this.#R(this.#_*this.#S/e.#_,r)}divUnsafe(e){return this.#T(e)}div(e){return this.#T(e,"div")}divSignal(e){(0,t.assert)(e.#_!==s,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#x(e);const r=this.#_*this.#S;return(0,t.assert)(r%e.#_===s,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#R(r/e.#_,"divSignal")}cmp(e){let t=this.value,r=e.value;const n=this.decimals-e.decimals;return n>0?r*=h(n):n<0&&(t*=h(-n)),t<r?-1:t>r?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#_;return this.#_<s&&(e-=this.#S-o),e=this.#_/this.#S*this.#S,this.#R(e,"floor")}ceiling(){let e=this.#_;return this.#_>s&&(e+=this.#S-o),e=this.#_/this.#S*this.#S,this.#R(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=a*h(t-1);let n=this.value+r;const i=h(t);return n=n/i*i,l(n,this.#E,"round"),new f(u,n,this.#E)}isZero(){return this.#_===s}isNegative(){return this.#_<s}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return f.fromString(this.toString(),e)}static fromValue(e,n,i){const o=null==n?0:(0,r.getNumber)(n),a=d(i);let c=(0,r.getBigInt)(e,"value");const p=o-a.decimals;if(p>0){const r=h(p);(0,t.assert)(c%r===s,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),c/=r}else p<0&&(c*=h(-p));return l(c,a,"fromValue"),new f(u,c,a)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,t.assertArgument)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=d(r);let s=n[2]||"0",o=n[3]||"";for(;o.length<i.decimals;)o+=c;(0,t.assert)(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(n[1]+s+o);return l(a,i,"fromString"),new f(u,a,i)}static fromBytes(t,n){let i=(0,r.toBigInt)((0,e.getBytes)(t,"value"));const s=d(n);return s.signed&&(i=(0,r.fromTwos)(i,s.width)),l(i,s,"fromBytes"),new f(u,i,s)}}return fixednumber.FixedNumber=f,fixednumber}var rlpDecode={},hasRequiredRlpDecode;function requireRlpDecode(){if(hasRequiredRlpDecode)return rlpDecode;hasRequiredRlpDecode=1,Object.defineProperty(rlpDecode,"__esModule",{value:!0}),rlpDecode.decodeRlp=void 0;const e=requireData(),t=requireErrors(),r=requireData();function n(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function i(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function s(e,r,n,i){const s=[];for(;n<r+1+i;){const a=o(e,n);s.push(a.result),n+=a.consumed,(0,t.assert)(n<=r+1+i,"child data too short","BUFFER_OVERRUN",{buffer:e,length:i,offset:r})}return{consumed:1+i,result:s}}function o(r,o){(0,t.assert)(0!==r.length,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const a=e=>{(0,t.assert)(e<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:e})};if(r[o]>=248){const e=r[o]-247;a(o+1+e);const t=i(r,o+1,e);return a(o+1+e+t),s(r,o,o+1+e,e+t)}if(r[o]>=192){const e=r[o]-192;return a(o+1+e),s(r,o,o+1,e)}if(r[o]>=184){const t=r[o]-183;a(o+1+t);const n=i(r,o+1,t);a(o+1+t+n);return{consumed:1+t+n,result:(0,e.hexlify)(r.slice(o+1+t,o+1+t+n))}}if(r[o]>=128){const t=r[o]-128;a(o+1+t);return{consumed:1+t,result:(0,e.hexlify)(r.slice(o+1,o+1+t))}}return{consumed:1,result:n(r[o])}}return rlpDecode.decodeRlp=function(e){const n=(0,r.getBytes)(e,"data"),i=o(n,0);return(0,t.assertArgument)(i.consumed===n.length,"unexpected junk after rlp payload","data",e),i.result},rlpDecode}var rlpEncode={},hasRequiredRlpEncode;function requireRlpEncode(){if(hasRequiredRlpEncode)return rlpEncode;hasRequiredRlpEncode=1,Object.defineProperty(rlpEncode,"__esModule",{value:!0}),rlpEncode.encodeRlp=void 0;const e=requireData();function t(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function r(n){if(Array.isArray(n)){let e=[];if(n.forEach((function(t){e=e.concat(r(t))})),e.length<=55)return e.unshift(192+e.length),e;const i=t(e.length);return i.unshift(247+i.length),i.concat(e)}const i=Array.prototype.slice.call((0,e.getBytes)(n,"object"));if(1===i.length&&i[0]<=127)return i;if(i.length<=55)return i.unshift(128+i.length),i;const s=t(i.length);return s.unshift(183+s.length),s.concat(i)}const n="0123456789abcdef";return rlpEncode.encodeRlp=function(e){let t="0x";for(const i of r(e))t+=n[i>>4],t+=n[15&i];return t},rlpEncode}var units={},hasRequiredUnits;function requireUnits(){if(hasRequiredUnits)return units;hasRequiredUnits=1,Object.defineProperty(units,"__esModule",{value:!0}),units.parseEther=units.formatEther=units.parseUnits=units.formatUnits=void 0;const e=requireErrors(),t=requireFixednumber(),r=requireMaths(),n=["wei","kwei","mwei","gwei","szabo","finney","ether"];function i(i,s){let o=18;if("string"==typeof s){const t=n.indexOf(s);(0,e.assertArgument)(t>=0,"invalid unit","unit",s),o=3*t}else null!=s&&(o=(0,r.getNumber)(s,"unit"));return t.FixedNumber.fromValue(i,o,{decimals:o,width:512}).toString()}function s(i,s){(0,e.assertArgument)("string"==typeof i,"value must be a string","value",i);let o=18;if("string"==typeof s){const t=n.indexOf(s);(0,e.assertArgument)(t>=0,"invalid unit","unit",s),o=3*t}else null!=s&&(o=(0,r.getNumber)(s,"unit"));return t.FixedNumber.fromString(i,{decimals:o,width:512}).value}return units.formatUnits=i,units.parseUnits=s,units.formatEther=function(e){return i(e,18)},units.parseEther=function(e){return s(e,18)},units}var uuid={},hasRequiredUuid,hasRequiredUtils$6;function requireUuid(){if(hasRequiredUuid)return uuid;hasRequiredUuid=1,Object.defineProperty(uuid,"__esModule",{value:!0}),uuid.uuidV4=void 0;const e=requireData();return uuid.uuidV4=function(t){const r=(0,e.getBytes)(t,"randomBytes");r[6]=15&r[6]|64,r[8]=63&r[8]|128;const n=(0,e.hexlify)(r);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")},uuid}function requireUtils$6(){return hasRequiredUtils$6||(hasRequiredUtils$6=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.encodeRlp=e.decodeRlp=e.defineProperties=e.resolveProperties=e.toQuantity=e.toBeArray=e.toBeHex=e.toNumber=e.toBigInt=e.getUint=e.getNumber=e.getBigInt=e.mask=e.toTwos=e.fromTwos=e.FixedNumber=e.FetchCancelSignal=e.FetchResponse=e.FetchRequest=e.EventPayload=e.makeError=e.assertNormalize=e.assertPrivate=e.assertArgumentCount=e.assertArgument=e.assert=e.isError=e.isCallException=e.zeroPadBytes=e.zeroPadValue=e.stripZerosLeft=e.dataSlice=e.dataLength=e.concat=e.hexlify=e.isBytesLike=e.isHexString=e.getBytesCopy=e.getBytes=e.encodeBase64=e.decodeBase64=e.encodeBase58=e.decodeBase58=void 0,e.uuidV4=e.Utf8ErrorFuncs=void 0;var t=requireBase58();Object.defineProperty(e,"decodeBase58",{enumerable:!0,get:function(){return t.decodeBase58}}),Object.defineProperty(e,"encodeBase58",{enumerable:!0,get:function(){return t.encodeBase58}});var r=requireBase64Browser();Object.defineProperty(e,"decodeBase64",{enumerable:!0,get:function(){return r.decodeBase64}}),Object.defineProperty(e,"encodeBase64",{enumerable:!0,get:function(){return r.encodeBase64}});var n=requireData();Object.defineProperty(e,"getBytes",{enumerable:!0,get:function(){return n.getBytes}}),Object.defineProperty(e,"getBytesCopy",{enumerable:!0,get:function(){return n.getBytesCopy}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return n.isBytesLike}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return n.hexlify}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return n.concat}}),Object.defineProperty(e,"dataLength",{enumerable:!0,get:function(){return n.dataLength}}),Object.defineProperty(e,"dataSlice",{enumerable:!0,get:function(){return n.dataSlice}}),Object.defineProperty(e,"stripZerosLeft",{enumerable:!0,get:function(){return n.stripZerosLeft}}),Object.defineProperty(e,"zeroPadValue",{enumerable:!0,get:function(){return n.zeroPadValue}}),Object.defineProperty(e,"zeroPadBytes",{enumerable:!0,get:function(){return n.zeroPadBytes}});var i=requireErrors();Object.defineProperty(e,"isCallException",{enumerable:!0,get:function(){return i.isCallException}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return i.isError}}),Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return i.assert}}),Object.defineProperty(e,"assertArgument",{enumerable:!0,get:function(){return i.assertArgument}}),Object.defineProperty(e,"assertArgumentCount",{enumerable:!0,get:function(){return i.assertArgumentCount}}),Object.defineProperty(e,"assertPrivate",{enumerable:!0,get:function(){return i.assertPrivate}}),Object.defineProperty(e,"assertNormalize",{enumerable:!0,get:function(){return i.assertNormalize}}),Object.defineProperty(e,"makeError",{enumerable:!0,get:function(){return i.makeError}});var s=requireEvents$1();Object.defineProperty(e,"EventPayload",{enumerable:!0,get:function(){return s.EventPayload}});var o=requireFetch();Object.defineProperty(e,"FetchRequest",{enumerable:!0,get:function(){return o.FetchRequest}}),Object.defineProperty(e,"FetchResponse",{enumerable:!0,get:function(){return o.FetchResponse}}),Object.defineProperty(e,"FetchCancelSignal",{enumerable:!0,get:function(){return o.FetchCancelSignal}});var a=requireFixednumber();Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}});var u=requireMaths();Object.defineProperty(e,"fromTwos",{enumerable:!0,get:function(){return u.fromTwos}}),Object.defineProperty(e,"toTwos",{enumerable:!0,get:function(){return u.toTwos}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return u.mask}}),Object.defineProperty(e,"getBigInt",{enumerable:!0,get:function(){return u.getBigInt}}),Object.defineProperty(e,"getNumber",{enumerable:!0,get:function(){return u.getNumber}}),Object.defineProperty(e,"getUint",{enumerable:!0,get:function(){return u.getUint}}),Object.defineProperty(e,"toBigInt",{enumerable:!0,get:function(){return u.toBigInt}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(e,"toBeHex",{enumerable:!0,get:function(){return u.toBeHex}}),Object.defineProperty(e,"toBeArray",{enumerable:!0,get:function(){return u.toBeArray}}),Object.defineProperty(e,"toQuantity",{enumerable:!0,get:function(){return u.toQuantity}});var c=requireProperties();Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return c.resolveProperties}}),Object.defineProperty(e,"defineProperties",{enumerable:!0,get:function(){return c.defineProperties}});var h=requireRlpDecode();Object.defineProperty(e,"decodeRlp",{enumerable:!0,get:function(){return h.decodeRlp}});var l=requireRlpEncode();Object.defineProperty(e,"encodeRlp",{enumerable:!0,get:function(){return l.encodeRlp}});var d=requireUnits();Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return d.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return d.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return d.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return d.parseUnits}});var f=requireUtf8();Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return f.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return f.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return f.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return f.Utf8ErrorFuncs}});var p=requireUuid();Object.defineProperty(e,"uuidV4",{enumerable:!0,get:function(){return p.uuidV4}})}(utils$7)),utils$7}var abstractCoder={},hasRequiredAbstractCoder;function requireAbstractCoder(){return hasRequiredAbstractCoder||(hasRequiredAbstractCoder=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Reader=e.Writer=e.Coder=e.checkResultErrors=e.Result=e.WordSize=void 0;const t=requireUtils$6();e.WordSize=32;const r=new Uint8Array(e.WordSize),n=["then"],i={},s=new WeakMap;function o(e){return s.get(e)}function a(e,t){s.set(e,t)}function u(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}function c(e,t,r){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof h?c(o(e),e,r):e)):e.reduce(((e,n,i)=>{let s=t.getValue(n);return n in e||(r&&s instanceof h&&(s=c(o(s),s,r)),e[n]=s),e}),{})}class h extends Array{#C;constructor(...e){const r=e[0];let s=e[1],c=(e[2]||[]).slice(),h=!0;r!==i&&(s=e,c=[],h=!1),super(s.length),s.forEach(((e,t)=>{this[t]=e}));const l=c.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(a(this,Object.freeze(s.map(((e,t)=>{const r=c[t];return null!=r&&1===l.get(r)?r:null})))),this.#C=[],null==this.#C&&this.#C,!h)return;Object.freeze(this);const d=new Proxy(this,{get:(e,r,i)=>{if("string"==typeof r){if(r.match(/^[0-9]+$/)){const n=(0,t.getNumber)(r,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const i=e[n];return i instanceof Error&&u(`index ${n}`,i),i}if(n.indexOf(r)>=0)return Reflect.get(e,r,i);const s=e[r];if(s instanceof Function)return function(...t){return s.apply(this===i?e:this,t)};if(!(r in e))return e.getValue.apply(this===i?e:this,[r])}return Reflect.get(e,r,i)}});return a(d,o(this)),d}toArray(e){const t=[];return this.forEach(((r,n)=>{r instanceof Error&&u(`index ${n}`,r),e&&r instanceof h&&(r=r.toArray(e)),t.push(r)})),t}toObject(e){const r=o(this);return r.reduce(((n,i,s)=>((0,t.assert)(null!=i,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),c(r,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=o(this),n=[],s=[];for(let i=e;i<t;i++)n.push(this[i]),s.push(r[i]);return new h(i,n,s)}filter(e,t){const r=o(this),n=[],s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&u(`index ${i}`,o),e.call(t,o,i,this)&&(n.push(o),s.push(r[i]))}return new h(i,n,s)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&u(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){const t=o(this).indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&u(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new h(i,e,t)}}function l(n){let i=(0,t.toBeArray)(n);return(0,t.assert)(i.length<=e.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:i,length:e.WordSize,offset:i.length}),i.length!==e.WordSize&&(i=(0,t.getBytesCopy)((0,t.concat)([r.slice(i.length%e.WordSize),i]))),i}e.Result=h,e.checkResultErrors=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let s in n){const o=e.slice();o.push(s);try{r(o,n[s])}catch(i){t.push({path:o,error:i})}}};return r([],e),t};e.Coder=class{name;type;localName;dynamic;constructor(e,r,n,i){(0,t.defineProperties)(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){(0,t.assertArgument)(!1,e,this.localName,r)}};e.Writer=class{#O;#q;constructor(){this.#O=[],this.#q=0}get data(){return(0,t.concat)(this.#O)}get length(){return this.#q}#I(e){return this.#O.push(e),this.#q+=e.length,e.length}appendWriter(e){return this.#I((0,t.getBytesCopy)(e.data))}writeBytes(n){let i=(0,t.getBytesCopy)(n);const s=i.length%e.WordSize;return s&&(i=(0,t.getBytesCopy)((0,t.concat)([i,r.slice(s)]))),this.#I(i)}writeValue(e){return this.#I(l(e))}writeUpdatableValue(){const t=this.#O.length;return this.#O.push(r),this.#q+=e.WordSize,e=>{this.#O[t]=l(e)}}};class d{allowLoose;#O;#N;#$;#L;#j;constructor(e,r,n){(0,t.defineProperties)(this,{allowLoose:!!r}),this.#O=(0,t.getBytesCopy)(e),this.#$=0,this.#L=null,this.#j=null!=n?n:1024,this.#N=0}get data(){return(0,t.hexlify)(this.#O)}get dataLength(){return this.#O.length}get consumed(){return this.#N}get bytes(){return new Uint8Array(this.#O)}#U(e){if(this.#L)return this.#L.#U(e);this.#$+=e,(0,t.assert)(this.#j<1||this.#$<=this.#j*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#j} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,t.getBytesCopy)(this.#O),offset:this.#N,length:e,info:{bytesRead:this.#$,dataLength:this.dataLength}})}#D(r,n,i){let s=Math.ceil(n/e.WordSize)*e.WordSize;return this.#N+s>this.#O.length&&(this.allowLoose&&i&&this.#N+n<=this.#O.length?s=n:(0,t.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,t.getBytesCopy)(this.#O),length:this.#O.length,offset:this.#N+s})),this.#O.slice(this.#N,this.#N+s)}subReader(e){const t=new d(this.#O.slice(this.#N+e),this.allowLoose,this.#j);return t.#L=this,t}readBytes(e,t){let r=this.#D(0,e,!!t);return this.#U(e),this.#N+=r.length,r.slice(0,e)}readValue(){return(0,t.toBigInt)(this.readBytes(e.WordSize))}readIndex(){return(0,t.toNumber)(this.readBytes(e.WordSize))}}e.Reader=d}(abstractCoder)),abstractCoder}var address$3={},address$2={},address$1={},crypto={},hmac$2={},cryptoBrowser={},hmac$1={},hasRequiredHmac$2;function requireHmac$2(){return hasRequiredHmac$2||(hasRequiredHmac$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=_assert,r=utils$8;class n extends r.Hash{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(e);const i=(0,r.toBytes)(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(i.length>s?e.create().update(i).digest():i);for(let t=0;t<o.length;t++)o[t]^=54;this.iHash.update(o),this.oHash=e.create();for(let t=0;t<o.length;t++)o[t]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,t.exists)(this),this.iHash.update(e),this}digestInto(e){(0,t.exists)(this),(0,t.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;e.hmac=(e,t,r)=>new n(e,t).update(r).digest(),e.hmac.create=(e,t)=>new n(e,t)}(hmac$1)),hmac$1}var pbkdf2$1={},hasRequiredPbkdf2$1;function requirePbkdf2$1(){if(hasRequiredPbkdf2$1)return pbkdf2$1;hasRequiredPbkdf2$1=1,Object.defineProperty(pbkdf2$1,"__esModule",{value:!0}),pbkdf2$1.pbkdf2Async=pbkdf2$1.pbkdf2=void 0;const e=_assert,t=requireHmac$2(),r=utils$8;function n(n,i,s,o){(0,e.hash)(n);const a=(0,r.checkOpts)({dkLen:32,asyncTick:10},o),{c:u,dkLen:c,asyncTick:h}=a;if((0,e.number)(u),(0,e.number)(c),(0,e.number)(h),u<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=(0,r.toBytes)(i),d=(0,r.toBytes)(s),f=new Uint8Array(c),p=t.hmac.create(n,l),m=p._cloneInto().update(d);return{c:u,dkLen:c,asyncTick:h,DK:f,PRF:p,PRFSalt:m}}function i(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}return pbkdf2$1.pbkdf2=function(e,t,s,o){const{c:a,dkLen:u,DK:c,PRF:h,PRFSalt:l}=n(e,t,s,o);let d;const f=new Uint8Array(4),p=(0,r.createView)(f),m=new Uint8Array(h.outputLen);for(let r=1,n=0;n<u;r++,n+=h.outputLen){const e=c.subarray(n,n+h.outputLen);p.setInt32(0,r,!1),(d=l._cloneInto(d)).update(f).digestInto(m),e.set(m.subarray(0,e.length));for(let t=1;t<a;t++){h._cloneInto(d).update(m).digestInto(m);for(let t=0;t<e.length;t++)e[t]^=m[t]}}return i(h,l,c,d,m)},pbkdf2$1.pbkdf2Async=async function(e,t,s,o){const{c:a,dkLen:u,asyncTick:c,DK:h,PRF:l,PRFSalt:d}=n(e,t,s,o);let f;const p=new Uint8Array(4),m=(0,r.createView)(p),g=new Uint8Array(l.outputLen);for(let n=1,i=0;i<u;n++,i+=l.outputLen){const e=h.subarray(i,i+l.outputLen);m.setInt32(0,n,!1),(f=d._cloneInto(f)).update(p).digestInto(g),e.set(g.subarray(0,e.length)),await(0,r.asyncLoop)(a-1,c,(()=>{l._cloneInto(f).update(g).digestInto(g);for(let t=0;t<e.length;t++)e[t]^=g[t]}))}return i(l,d,h,f,g)},pbkdf2$1}var sha256$4={},_sha2={},hasRequired_sha2,hasRequiredSha256$1;function require_sha2(){if(hasRequired_sha2)return _sha2;hasRequired_sha2=1,Object.defineProperty(_sha2,"__esModule",{value:!0}),_sha2.SHA2=void 0;const e=_assert,t=utils$8;class r extends t.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,t.createView)(this.buffer)}update(r){(0,e.exists)(this);const{view:n,buffer:i,blockLen:s}=this,o=(r=(0,t.toBytes)(r)).length;for(let e=0;e<o;){const a=Math.min(s-this.pos,o-e);if(a!==s)i.set(r.subarray(e,e+a),this.pos),this.pos+=a,e+=a,this.pos===s&&(this.process(n,0),this.pos=0);else{const n=(0,t.createView)(r);for(;s<=o-e;e+=s)this.process(n,e)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){(0,e.exists)(this),(0,e.output)(r,this),this.finished=!0;const{buffer:n,view:i,blockLen:s,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(i,0),a=0);for(let e=a;e<s;e++)n[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}(i,s-8,BigInt(8*this.length),o),this.process(i,0);const u=(0,t.createView)(r),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=c/4,l=this.get();if(h>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<h;e++)u.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}return _sha2.SHA2=r,_sha2}function requireSha256$1(){if(hasRequiredSha256$1)return sha256$4;hasRequiredSha256$1=1,Object.defineProperty(sha256$4,"__esModule",{value:!0}),sha256$4.sha224=sha256$4.sha256=void 0;const e=require_sha2(),t=utils$8,r=(e,t,r)=>e&t^e&r^t&r,n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class o extends e.SHA2{constructor(){super(64,32,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,i){for(let t=0;t<16;t++,i+=4)s[t]=e.getUint32(i,!1);for(let r=16;r<64;r++){const e=s[r-15],n=s[r-2],i=(0,t.rotr)(e,7)^(0,t.rotr)(e,18)^e>>>3,o=(0,t.rotr)(n,17)^(0,t.rotr)(n,19)^n>>>10;s[r]=o+s[r-7]+i+s[r-16]|0}let{A:o,B:a,C:u,D:c,E:h,F:l,G:d,H:f}=this;for(let m=0;m<64;m++){const e=f+((0,t.rotr)(h,6)^(0,t.rotr)(h,11)^(0,t.rotr)(h,25))+((p=h)&l^~p&d)+n[m]+s[m]|0,i=((0,t.rotr)(o,2)^(0,t.rotr)(o,13)^(0,t.rotr)(o,22))+r(o,a,u)|0;f=d,d=l,l=h,h=c+e|0,c=u,u=a,a=o,o=e+i|0}var p;o=o+this.A|0,a=a+this.B|0,u=u+this.C|0,c=c+this.D|0,h=h+this.E|0,l=l+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(o,a,u,c,h,l,d,f)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class a extends o{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return sha256$4.sha256=(0,t.wrapConstructor)((()=>new o)),sha256$4.sha224=(0,t.wrapConstructor)((()=>new a)),sha256$4}var sha512$2={},hasRequiredSha512$1,hasRequiredCryptoBrowser,hasRequiredHmac$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1,Object.defineProperty(sha512$2,"__esModule",{value:!0}),sha512$2.sha384=sha512$2.sha512_256=sha512$2.sha512_224=sha512$2.sha512=sha512$2.SHA512=void 0;const e=require_sha2(),t=_u64,r=utils$8,[n,i]=(()=>t.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),s=new Uint32Array(80),o=new Uint32Array(80);class a extends e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:h,Fl:l,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,o,a,u,c,h,l,d,f,p,m]}set(e,t,r,n,i,s,o,a,u,c,h,l,d,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|h,this.Fl=0|l,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,r){for(let t=0;t<16;t++,r+=4)s[t]=e.getUint32(r),o[t]=e.getUint32(r+=4);for(let n=16;n<80;n++){const e=0|s[n-15],r=0|o[n-15],i=t.default.rotrSH(e,r,1)^t.default.rotrSH(e,r,8)^t.default.shrSH(e,r,7),a=t.default.rotrSL(e,r,1)^t.default.rotrSL(e,r,8)^t.default.shrSL(e,r,7),u=0|s[n-2],c=0|o[n-2],h=t.default.rotrSH(u,c,19)^t.default.rotrBH(u,c,61)^t.default.shrSH(u,c,6),l=t.default.rotrSL(u,c,19)^t.default.rotrBL(u,c,61)^t.default.shrSL(u,c,6),d=t.default.add4L(a,l,o[n-7],o[n-16]),f=t.default.add4H(d,i,h,s[n-7],s[n-16]);s[n]=0|f,o[n]=0|d}let{Ah:a,Al:u,Bh:c,Bl:h,Ch:l,Cl:d,Dh:f,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:v,Gl:w,Hh:A,Hl:M}=this;for(let E=0;E<80;E++){const e=t.default.rotrSH(m,g,14)^t.default.rotrSH(m,g,18)^t.default.rotrBH(m,g,41),r=t.default.rotrSL(m,g,14)^t.default.rotrSL(m,g,18)^t.default.rotrBL(m,g,41),_=m&y^~m&v,S=g&b^~g&w,x=t.default.add5L(M,r,S,i[E],o[E]),R=t.default.add5H(x,A,e,_,n[E],s[E]),k=0|x,P=t.default.rotrSH(a,u,28)^t.default.rotrBH(a,u,34)^t.default.rotrBH(a,u,39),B=t.default.rotrSL(a,u,28)^t.default.rotrBL(a,u,34)^t.default.rotrBL(a,u,39),T=a&c^a&l^c&l,C=u&h^u&d^h&d;A=0|v,M=0|w,v=0|y,w=0|b,y=0|m,b=0|g,({h:m,l:g}=t.default.add(0|f,0|p,0|R,0|k)),f=0|l,p=0|d,l=0|c,d=0|h,c=0|a,h=0|u;const O=t.default.add3L(k,B,C);a=t.default.add3H(O,R,P,T),u=0|O}({h:a,l:u}=t.default.add(0|this.Ah,0|this.Al,0|a,0|u)),({h:c,l:h}=t.default.add(0|this.Bh,0|this.Bl,0|c,0|h)),({h:l,l:d}=t.default.add(0|this.Ch,0|this.Cl,0|l,0|d)),({h:f,l:p}=t.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:m,l:g}=t.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:b}=t.default.add(0|this.Fh,0|this.Fl,0|y,0|b)),({h:v,l:w}=t.default.add(0|this.Gh,0|this.Gl,0|v,0|w)),({h:A,l:M}=t.default.add(0|this.Hh,0|this.Hl,0|A,0|M)),this.set(a,u,c,h,l,d,f,p,m,g,y,b,v,w,A,M)}roundClean(){s.fill(0),o.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512$2.SHA512=a;class u extends a{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class c extends a{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends a{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return sha512$2.sha512=(0,r.wrapConstructor)((()=>new a)),sha512$2.sha512_224=(0,r.wrapConstructor)((()=>new u)),sha512$2.sha512_256=(0,r.wrapConstructor)((()=>new c)),sha512$2.sha384=(0,r.wrapConstructor)((()=>new h)),sha512$2}function requireCryptoBrowser(){if(hasRequiredCryptoBrowser)return cryptoBrowser;hasRequiredCryptoBrowser=1,Object.defineProperty(cryptoBrowser,"__esModule",{value:!0}),cryptoBrowser.randomBytes=cryptoBrowser.pbkdf2Sync=cryptoBrowser.createHmac=cryptoBrowser.createHash=void 0;const e=requireHmac$2(),t=requirePbkdf2$1(),r=requireSha256$1(),n=requireSha512$1(),i=requireUtils$6();const s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==commonjsGlobal)return commonjsGlobal;throw new Error("unable to locate global object")}(),o=s.crypto||s.msCrypto;return cryptoBrowser.createHash=function(e){switch(e){case"sha256":return r.sha256.create();case"sha512":return n.sha512.create()}(0,i.assertArgument)(!1,"invalid hashing algorithm name","algorithm",e)},cryptoBrowser.createHmac=function(t,s){const o={sha256:r.sha256,sha512:n.sha512}[t];return(0,i.assertArgument)(null!=o,"invalid hmac algorithm","algorithm",t),e.hmac.create(o,s)},cryptoBrowser.pbkdf2Sync=function(e,s,o,a,u){const c={sha256:r.sha256,sha512:n.sha512}[u];return(0,i.assertArgument)(null!=c,"invalid pbkdf2 algorithm","algorithm",u),(0,t.pbkdf2)(c,e,s,{c:o,dkLen:a})},cryptoBrowser.randomBytes=function(e){(0,i.assert)(null!=o,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,i.assertArgument)(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return o.getRandomValues(t),t},cryptoBrowser}function requireHmac$1(){if(hasRequiredHmac$1)return hmac$2;hasRequiredHmac$1=1,Object.defineProperty(hmac$2,"__esModule",{value:!0}),hmac$2.computeHmac=void 0;const e=requireCryptoBrowser(),t=requireUtils$6();let r=!1;const n=function(t,r,n){return(0,e.createHmac)(t,r).update(n).digest()};let i=n;function s(e,r,n){const s=(0,t.getBytes)(r,"key"),o=(0,t.getBytes)(n,"data");return(0,t.hexlify)(i(e,s,o))}return hmac$2.computeHmac=s,s._=n,s.lock=function(){r=!0},s.register=function(e){if(r)throw new Error("computeHmac is locked");i=e},Object.freeze(s),hmac$2}var keccak={},hasRequiredKeccak;function requireKeccak(){if(hasRequiredKeccak)return keccak;hasRequiredKeccak=1,Object.defineProperty(keccak,"__esModule",{value:!0}),keccak.keccak256=void 0;const e=sha3,t=requireUtils$6();let r=!1;const n=function(t){return(0,e.keccak_256)(t)};let i=n;function s(e){const r=(0,t.getBytes)(e,"data");return(0,t.hexlify)(i(r))}return keccak.keccak256=s,s._=n,s.lock=function(){r=!0},s.register=function(e){if(r)throw new TypeError("keccak256 is locked");i=e},Object.freeze(s),keccak}var ripemd160$2={},ripemd160$1={},hasRequiredRipemd160$2,hasRequiredRipemd160$1;function requireRipemd160$2(){if(hasRequiredRipemd160$2)return ripemd160$1;hasRequiredRipemd160$2=1,Object.defineProperty(ripemd160$1,"__esModule",{value:!0}),ripemd160$1.ripemd160=ripemd160$1.RIPEMD160=void 0;const e=require_sha2(),t=utils$8,r=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),n=Uint8Array.from({length:16},((e,t)=>t));let i=[n],s=[n.map((e=>(9*e+5)%16))];for(let m=0;m<4;m++)for(let e of[i,s])e.push(e[m].map((e=>r[e])));const o=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),a=i.map(((e,t)=>e.map((e=>o[t][e])))),u=s.map(((e,t)=>e.map((e=>o[t][e])))),c=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),l=(e,t)=>e<<t|e>>>32-t;function d(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const f=new Uint32Array(16);class p extends e.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let i=0;i<16;i++,t+=4)f[i]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,p=o,m=0|this.h2,g=m,y=0|this.h3,b=y,v=0|this.h4,w=v;for(let A=0;A<5;A++){const e=4-A,t=c[A],M=h[A],E=i[A],_=s[A],S=a[A],x=u[A];for(let n=0;n<16;n++){const e=l(r+d(A,o,m,y)+f[E[n]]+t,S[n])+v|0;r=v,v=y,y=0|l(m,10),m=o,o=e}for(let r=0;r<16;r++){const t=l(n+d(e,p,g,b)+f[_[r]]+M,x[r])+w|0;n=w,w=b,b=0|l(g,10),g=p,p=t}}this.set(this.h1+m+b|0,this.h2+y+w|0,this.h3+v+n|0,this.h4+r+p|0,this.h0+o+g|0)}roundClean(){f.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}return ripemd160$1.RIPEMD160=p,ripemd160$1.ripemd160=(0,t.wrapConstructor)((()=>new p)),ripemd160$1}function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$2;hasRequiredRipemd160$1=1,Object.defineProperty(ripemd160$2,"__esModule",{value:!0}),ripemd160$2.ripemd160=void 0;const e=requireRipemd160$2(),t=requireUtils$6();let r=!1;const n=function(t){return(0,e.ripemd160)(t)};let i=n;function s(e){const r=(0,t.getBytes)(e,"data");return(0,t.hexlify)(i(r))}return ripemd160$2.ripemd160=s,s._=n,s.lock=function(){r=!0},s.register=function(e){if(r)throw new TypeError("ripemd160 is locked");i=e},Object.freeze(s),ripemd160$2}var pbkdf2={},hasRequiredPbkdf2;function requirePbkdf2(){if(hasRequiredPbkdf2)return pbkdf2;hasRequiredPbkdf2=1,Object.defineProperty(pbkdf2,"__esModule",{value:!0}),pbkdf2.pbkdf2=void 0;const e=requireCryptoBrowser(),t=requireUtils$6();let r=!1;const n=function(t,r,n,i,s){return(0,e.pbkdf2Sync)(t,r,n,i,s)};let i=n;function s(e,r,n,s,o){const a=(0,t.getBytes)(e,"password"),u=(0,t.getBytes)(r,"salt");return(0,t.hexlify)(i(a,u,n,s,o))}return pbkdf2.pbkdf2=s,s._=n,s.lock=function(){r=!0},s.register=function(e){if(r)throw new Error("pbkdf2 is locked");i=e},Object.freeze(s),pbkdf2}var random$1={},hasRequiredRandom;function requireRandom(){if(hasRequiredRandom)return random$1;hasRequiredRandom=1,Object.defineProperty(random$1,"__esModule",{value:!0}),random$1.randomBytes=void 0;const e=requireCryptoBrowser();let t=!1;const r=function(t){return new Uint8Array((0,e.randomBytes)(t))};let n=r;function i(e){return n(e)}return random$1.randomBytes=i,i._=r,i.lock=function(){t=!0},i.register=function(e){if(t)throw new Error("randomBytes is locked");n=e},Object.freeze(i),random$1}var scrypt$1={},scrypt={},hasRequiredScrypt$1,hasRequiredScrypt;function requireScrypt$1(){if(hasRequiredScrypt$1)return scrypt;hasRequiredScrypt$1=1,Object.defineProperty(scrypt,"__esModule",{value:!0}),scrypt.scryptAsync=scrypt.scrypt=void 0;const e=_assert,t=requireSha256$1(),r=requirePbkdf2$1(),n=utils$8,i=(e,t)=>e<<t|e>>>32-t;function s(e,t,r,n,s,o){let a=e[t++]^r[n++],u=e[t++]^r[n++],c=e[t++]^r[n++],h=e[t++]^r[n++],l=e[t++]^r[n++],d=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],w=e[t++]^r[n++],A=e[t++]^r[n++],M=e[t++]^r[n++],E=a,_=u,S=c,x=h,R=l,k=d,P=f,B=p,T=m,C=g,O=y,q=b,I=v,N=w,$=A,L=M;for(let j=0;j<8;j+=2)R^=i(E+I|0,7),T^=i(R+E|0,9),I^=i(T+R|0,13),E^=i(I+T|0,18),C^=i(k+_|0,7),N^=i(C+k|0,9),_^=i(N+C|0,13),k^=i(_+N|0,18),$^=i(O+P|0,7),S^=i($+O|0,9),P^=i(S+$|0,13),O^=i(P+S|0,18),x^=i(L+q|0,7),B^=i(x+L|0,9),q^=i(B+x|0,13),L^=i(q+B|0,18),_^=i(E+x|0,7),S^=i(_+E|0,9),x^=i(S+_|0,13),E^=i(x+S|0,18),P^=i(k+R|0,7),B^=i(P+k|0,9),R^=i(B+P|0,13),k^=i(R+B|0,18),q^=i(O+C|0,7),T^=i(q+O|0,9),C^=i(T+q|0,13),O^=i(C+T|0,18),I^=i(L+$|0,7),N^=i(I+L|0,9),$^=i(N+I|0,13),L^=i($+N|0,18);s[o++]=a+E|0,s[o++]=u+_|0,s[o++]=c+S|0,s[o++]=h+x|0,s[o++]=l+R|0,s[o++]=d+k|0,s[o++]=f+P|0,s[o++]=p+B|0,s[o++]=m+T|0,s[o++]=g+C|0,s[o++]=y+O|0,s[o++]=b+q|0,s[o++]=v+I|0,s[o++]=w+N|0,s[o++]=A+$|0,s[o++]=M+L|0}function o(e,t,r,n,i){let o=n+0,a=n+16*i;for(let s=0;s<16;s++)r[a+s]=e[t+16*(2*i-1)+s];for(let u=0;u<i;u++,o+=16,t+=16)s(r,a,e,t,r,o),u>0&&(a+=16),s(r,o,e,t+=16,r,a)}function a(i,s,o){const a=(0,n.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},o),{N:u,r:c,p:h,dkLen:l,asyncTick:d,maxmem:f,onProgress:p}=a;if((0,e.number)(u),(0,e.number)(c),(0,e.number)(h),(0,e.number)(l),(0,e.number)(d),(0,e.number)(f),void 0!==p&&"function"!=typeof p)throw new Error("progressCb should be function");const m=128*c,g=m/4;if(u<=1||u&u-1||u>=2**(m/8)||u>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(h<0||h>137438953440/m)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const y=m*(u+h);if(y>f)throw new Error(`Scrypt: parameters too large, ${y} (128 * r * (N + p)) > ${f} (maxmem)`);const b=(0,r.pbkdf2)(t.sha256,i,s,{c:1,dkLen:m*h}),v=(0,n.u32)(b),w=(0,n.u32)(new Uint8Array(m*u)),A=(0,n.u32)(new Uint8Array(m));let M=()=>{};if(p){const e=2*u*h,t=Math.max(Math.floor(e/1e4),1);let r=0;M=()=>{r++,!p||r%t&&r!==e||p(r/e)}}return{N:u,r:c,p:h,dkLen:l,blockSize32:g,V:w,B32:v,B:b,tmp:A,blockMixCb:M,asyncTick:d}}function u(e,n,i,s,o){const a=(0,r.pbkdf2)(t.sha256,e,i,{c:1,dkLen:n});return i.fill(0),s.fill(0),o.fill(0),a}return scrypt.scrypt=function(e,t,r){const{N:n,r:i,p:s,dkLen:c,blockSize32:h,V:l,B32:d,B:f,tmp:p,blockMixCb:m}=a(e,t,r);for(let a=0;a<s;a++){const e=h*a;for(let t=0;t<h;t++)l[t]=d[e+t];for(let t=0,r=0;t<n-1;t++)o(l,r,l,r+=h,i),m();o(l,(n-1)*h,d,e,i),m();for(let t=0;t<n;t++){const t=d[e+h-16]%n;for(let r=0;r<h;r++)p[r]=d[e+r]^l[t*h+r];o(p,0,d,e,i),m()}}return u(e,c,f,l,p)},scrypt.scryptAsync=async function(e,t,r){const{N:i,r:s,p:c,dkLen:h,blockSize32:l,V:d,B32:f,B:p,tmp:m,blockMixCb:g,asyncTick:y}=a(e,t,r);for(let a=0;a<c;a++){const e=l*a;for(let r=0;r<l;r++)d[r]=f[e+r];let t=0;await(0,n.asyncLoop)(i-1,y,(()=>{o(d,t,d,t+=l,s),g()})),o(d,(i-1)*l,f,e,s),g(),await(0,n.asyncLoop)(i,y,(()=>{const t=f[e+l-16]%i;for(let r=0;r<l;r++)m[r]=f[e+r]^d[t*l+r];o(m,0,f,e,s),g()}))}return u(e,h,p,d,m)},scrypt}function requireScrypt(){if(hasRequiredScrypt)return scrypt$1;hasRequiredScrypt=1,Object.defineProperty(scrypt$1,"__esModule",{value:!0}),scrypt$1.scryptSync=scrypt$1.scrypt=void 0;const e=requireScrypt$1(),t=requireUtils$6();let r=!1,n=!1;const i=async function(t,r,n,i,s,o,a){return await(0,e.scryptAsync)(t,r,{N:n,r:i,p:s,dkLen:o,onProgress:a})},s=function(t,r,n,i,s,o){return(0,e.scrypt)(t,r,{N:n,r:i,p:s,dkLen:o})};let o=i,a=s;async function u(e,r,n,i,s,a,u){const c=(0,t.getBytes)(e,"passwd"),h=(0,t.getBytes)(r,"salt");return(0,t.hexlify)(await o(c,h,n,i,s,a,u))}function c(e,r,n,i,s,o){const u=(0,t.getBytes)(e,"passwd"),c=(0,t.getBytes)(r,"salt");return(0,t.hexlify)(a(u,c,n,i,s,o))}return scrypt$1.scrypt=u,u._=i,u.lock=function(){n=!0},u.register=function(e){if(n)throw new Error("scrypt is locked");o=e},Object.freeze(u),scrypt$1.scryptSync=c,c._=s,c.lock=function(){r=!0},c.register=function(e){if(r)throw new Error("scryptSync is locked");a=e},Object.freeze(c),scrypt$1}var sha2={},hasRequiredSha2;function requireSha2(){if(hasRequiredSha2)return sha2;hasRequiredSha2=1,Object.defineProperty(sha2,"__esModule",{value:!0}),sha2.sha512=sha2.sha256=void 0;const e=requireCryptoBrowser(),t=requireUtils$6(),r=function(t){return(0,e.createHash)("sha256").update(t).digest()},n=function(t){return(0,e.createHash)("sha512").update(t).digest()};let i=r,s=n,o=!1,a=!1;function u(e){const r=(0,t.getBytes)(e,"data");return(0,t.hexlify)(i(r))}function c(e){const r=(0,t.getBytes)(e,"data");return(0,t.hexlify)(s(r))}return sha2.sha256=u,u._=r,u.lock=function(){o=!0},u.register=function(e){if(o)throw new Error("sha256 is locked");i=e},Object.freeze(u),sha2.sha512=c,c._=n,c.lock=function(){a=!0},c.register=function(e){if(a)throw new Error("sha512 is locked");s=e},Object.freeze(u),sha2}var signingKey={},secp256k1$1={},modular={},utils$6={},hasRequiredUtils$5,hasRequiredModular;function requireUtils$5(){if(hasRequiredUtils$5)return utils$6;hasRequiredUtils$5=1,Object.defineProperty(utils$6,"__esModule",{value:!0}),utils$6.validateObject=utils$6.createHmacDrbg=utils$6.bitMask=utils$6.bitSet=utils$6.bitGet=utils$6.bitLen=utils$6.utf8ToBytes=utils$6.equalBytes=utils$6.concatBytes=utils$6.ensureBytes=utils$6.numberToVarBytesBE=utils$6.numberToBytesLE=utils$6.numberToBytesBE=utils$6.bytesToNumberLE=utils$6.bytesToNumberBE=utils$6.hexToBytes=utils$6.hexToNumber=utils$6.numberToHexUnpadded=utils$6.bytesToHex=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const t=BigInt(0),r=BigInt(1),n=BigInt(2),i=e=>e instanceof Uint8Array,s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}function a(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const t=2*n,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function h(e,t){return c(e.toString(16).padStart(2*t,"0"))}function l(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}utils$6.bytesToHex=o,utils$6.numberToHexUnpadded=a,utils$6.hexToNumber=u,utils$6.hexToBytes=c,utils$6.bytesToNumberBE=function(e){return u(o(e))},utils$6.bytesToNumberLE=function(e){if(!i(e))throw new Error("Uint8Array expected");return u(o(Uint8Array.from(e).reverse()))},utils$6.numberToBytesBE=h,utils$6.numberToBytesLE=function(e,t){return h(e,t).reverse()},utils$6.numberToVarBytesBE=function(e){return c(a(e))},utils$6.ensureBytes=function(t,r,n){let s;if("string"==typeof r)try{s=c(r)}catch(e){throw new Error(`${t} must be valid hex string, got "${r}". Cause: ${e}`)}else{if(!i(r))throw new Error(`${t} must be hex string or Uint8Array`);s=Uint8Array.from(r)}const o=s.length;if("number"==typeof n&&o!==n)throw new Error(`${t} expected ${n} bytes, got ${o}`);return s},utils$6.concatBytes=l,utils$6.equalBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},utils$6.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},utils$6.bitLen=function(e){let n;for(n=0;e>t;e>>=r,n+=1);return n},utils$6.bitGet=function(e,t){return e>>BigInt(t)&r};utils$6.bitSet=(e,n,i)=>e|(i?r:t)<<BigInt(n);utils$6.bitMask=e=>(n<<BigInt(e-1))-r;const d=e=>new Uint8Array(e),f=e=>Uint8Array.from(e);utils$6.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=d(e),i=d(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),u=(e=d())=>{i=a(f([0]),e),n=a(),0!==e.length&&(i=a(f([1]),e),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return l(...r)};return(e,t)=>{let r;for(o(),u(e);!(r=t(c()));)u();return o(),r}};const p={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};return utils$6.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=p[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e},utils$6}function requireModular(){if(hasRequiredModular)return modular;hasRequiredModular=1,Object.defineProperty(modular,"__esModule",{value:!0}),modular.mapHashToField=modular.getMinHashLength=modular.getFieldBytesLength=modular.hashToPrivateScalar=modular.FpSqrtEven=modular.FpSqrtOdd=modular.Field=modular.nLength=modular.FpIsSquare=modular.FpDiv=modular.FpInvertBatch=modular.FpPow=modular.validateField=modular.isNegativeLE=modular.FpSqrt=modular.tonelliShanks=modular.invert=modular.pow2=modular.pow=modular.mod=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const e=requireUtils$5(),t=BigInt(0),r=BigInt(1),n=BigInt(2),i=BigInt(3),s=BigInt(4),o=BigInt(5),a=BigInt(8);function u(e,r){const n=e%r;return n>=t?n:r+n}function c(e,n,i){if(i<=t||n<t)throw new Error("Expected power/modulo > 0");if(i===r)return t;let s=r;for(;n>t;)n&r&&(s=s*e%i),e=e*e%i,n>>=r;return s}function h(e,n){if(e===t||n<=t)throw new Error(`invert: expected positive integers, got n=${e} mod=${n}`);let i=u(e,n),s=n,o=t,a=r;for(;i!==t;){const e=s%i,t=o-a*(s/i);s=i,i=e,o=a,a=t}if(s!==r)throw new Error("invert: does not exist");return u(o,n)}function l(e){const i=(e-r)/n;let o,a,u;for(o=e-r,a=0;o%n===t;o/=n,a++);for(u=n;u<e&&c(u,i,e)!==e-r;u++);if(1===a){const t=(e+r)/s;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const h=(o+r)/n;return function(e,t){if(e.pow(t,i)===e.neg(e.ONE))throw new Error("Cannot find square root");let n=a,s=e.pow(e.mul(e.ONE,u),o),c=e.pow(t,h),l=e.pow(t,o);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<n&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const i=e.pow(s,r<<BigInt(n-t-1));s=e.sqr(i),c=e.mul(c,i),l=e.mul(l,s),n=t}return c}}function d(e){if(e%s===i){const t=(e+r)/s;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%a===o){const t=(e-o)/a;return function(e,r){const i=e.mul(r,n),s=e.pow(i,t),o=e.mul(r,s),a=e.mul(e.mul(o,n),s),u=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(u),r))throw new Error("Cannot find square root");return u}}return l(e)}BigInt(9),BigInt(16),modular.mod=u,modular.pow=c,modular.pow2=function(e,r,n){let i=e;for(;r-- >t;)i*=i,i%=n;return i},modular.invert=h,modular.tonelliShanks=l,modular.FpSqrt=d;modular.isNegativeLE=(e,t)=>(u(e,t)&r)===r;const f=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function p(e,n,i){if(i<t)throw new Error("Expected power > 0");if(i===t)return e.ONE;if(i===r)return n;let s=e.ONE,o=n;for(;i>t;)i&r&&(s=e.mul(s,o)),o=e.sqr(o),i>>=r;return s}function m(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function g(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function y(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function b(e){const t=y(e);return t+Math.ceil(t/2)}return modular.validateField=function(t){const r=f.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,e.validateObject)(t,r)},modular.FpPow=p,modular.FpInvertBatch=m,modular.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},modular.FpIsSquare=function(e){const t=(e.ORDER-r)/n;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},modular.nLength=g,modular.Field=function(n,i,s=!1,o={}){if(n<=t)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:a,nByteLength:c}=g(n,i);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=d(n),f=Object.freeze({ORDER:n,BITS:a,BYTES:c,MASK:(0,e.bitMask)(a),ZERO:t,ONE:r,create:e=>u(e,n),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return t<=e&&e<n},is0:e=>e===t,isOdd:e=>(e&r)===r,neg:e=>u(-e,n),eql:(e,t)=>e===t,sqr:e=>u(e*e,n),add:(e,t)=>u(e+t,n),sub:(e,t)=>u(e-t,n),mul:(e,t)=>u(e*t,n),pow:(e,t)=>p(f,e,t),div:(e,t)=>u(e*h(t,n),n),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:e=>h(e,n),sqrt:o.sqrt||(e=>l(f,e)),invertBatch:e=>m(f,e),cmov:(e,t,r)=>r?t:e,toBytes:t=>s?(0,e.numberToBytesLE)(t,c):(0,e.numberToBytesBE)(t,c),fromBytes:t=>{if(t.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${t.length}`);return s?(0,e.bytesToNumberLE)(t):(0,e.bytesToNumberBE)(t)}});return Object.freeze(f)},modular.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},modular.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},modular.hashToPrivateScalar=function(t,n,i=!1){const s=(t=(0,e.ensureBytes)("privateHash",t)).length,o=g(n).nByteLength+8;if(o<24||s<o||s>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${s}`);return u(i?(0,e.bytesToNumberLE)(t):(0,e.bytesToNumberBE)(t),n-r)+r},modular.getFieldBytesLength=y,modular.getMinHashLength=b,modular.mapHashToField=function(t,n,i=!1){const s=t.length,o=y(n),a=b(n);if(s<16||s<a||s>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${s}`);const c=u(i?(0,e.bytesToNumberBE)(t):(0,e.bytesToNumberLE)(t),n-r)+r;return i?(0,e.numberToBytesLE)(c,o):(0,e.numberToBytesBE)(c,o)},modular}var weierstrass={},curve$1={},hasRequiredCurve$1,hasRequiredWeierstrass;function requireCurve$1(){if(hasRequiredCurve$1)return curve$1;hasRequiredCurve$1=1,Object.defineProperty(curve$1,"__esModule",{value:!0}),curve$1.validateBasic=curve$1.wNAF=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const e=requireModular(),t=requireUtils$5(),r=BigInt(0),n=BigInt(1);return curve$1.wNAF=function(e,t){const i=(e,t)=>{const r=t.negate();return e?r:t},s=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:i,unsafeLadder(t,i){let s=e.ZERO,o=t;for(;i>r;)i&n&&(s=s.add(o)),o=o.double(),i>>=n;return s},precomputeWindow(e,t){const{windows:r,windowSize:n}=s(t),i=[];let o=e,a=o;for(let s=0;s<r;s++){a=o,i.push(a);for(let e=1;e<n;e++)a=a.add(o),i.push(a);o=a.double()}return i},wNAF(t,r,o){const{windows:a,windowSize:u}=s(t);let c=e.ZERO,h=e.BASE;const l=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*u;let s=Number(o&l);o>>=f,s>u&&(s-=d,o+=n);const a=t,p=t+Math.abs(s)-1,m=e%2!=0,g=s<0;0===s?h=h.add(i(m,r[a])):c=c.add(i(g,r[p]))}return{p:c,f:h}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}},curve$1.validateBasic=function(r){return(0,e.validateField)(r.Fp),(0,t.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,e.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})},curve$1}function requireWeierstrass(){return hasRequiredWeierstrass||(hasRequiredWeierstrass=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const t=requireModular(),r=requireUtils$5(),n=requireUtils$5(),i=requireCurve$1();const{bytesToNumberBE:s,hexToBytes:o}=r;e.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:r}=e.DER;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");const n=t[1],i=t.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:s(i),l:t.subarray(n+2)}},toSig(t){const{Err:r}=e.DER,n="string"==typeof t?o(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=e.DER._parseInt(n.subarray(2)),{d:u,l:c}=e.DER._parseInt(a);if(c.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}};const a=BigInt(0),u=BigInt(1),c=BigInt(2),h=BigInt(3),l=BigInt(4);function d(e){const s=function(e){const t=(0,i.validateBasic)(e);r.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:o}=t;if(n){if(!s.eql(o,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:o}=s,c=s.toBytes||((e,t,n)=>{const i=t.toAffine();return r.concatBytes(Uint8Array.from([4]),o.toBytes(i.x),o.toBytes(i.y))}),l=s.fromBytes||(e=>{const t=e.subarray(1);return{x:o.fromBytes(t.subarray(0,o.BYTES)),y:o.fromBytes(t.subarray(o.BYTES,2*o.BYTES))}});function d(e){const{a:t,b:r}=s,n=o.sqr(e),i=o.mul(n,e);return o.add(o.add(i,o.mul(e,t)),r)}if(!o.eql(o.sqr(s.Gy),d(s.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&a<e&&e<s.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:i,nByteLength:o,wrapPrivateKey:a,n:u}=s;if(i&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=r.bytesToHex(e)),"string"!=typeof e||!i.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*o,"0")}let c;try{c="bigint"==typeof e?e:r.bytesToNumberBE((0,n.ensureBytes)("private key",e,o))}catch(h){throw new Error(`private key must be ${o} bytes, hex or bigint, not ${typeof e}`)}return a&&(c=t.mod(c,u)),p(c),c}const g=new Map;function y(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!o.isValid(e))throw new Error("x required");if(null==t||!o.isValid(t))throw new Error("y required");if(null==r||!o.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!o.isValid(t)||!o.isValid(r))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const n=e=>o.eql(e,o.ZERO);return n(t)&&n(r)?b.ZERO:new b(t,r,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=o.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(l((0,n.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(s.allowInfinityPoint&&!o.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:t}=this.toAffine();if(!o.isValid(e)||!o.isValid(t))throw new Error("bad point: x or y not FE");const r=o.sqr(t),n=d(e);if(!o.eql(r,n))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(o.isOdd)return!o.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){y(e);const{px:t,py:r,pz:n}=this,{px:i,py:s,pz:a}=e,u=o.eql(o.mul(t,a),o.mul(i,n)),c=o.eql(o.mul(r,a),o.mul(s,n));return u&&c}negate(){return new b(this.px,o.neg(this.py),this.pz)}double(){const{a:e,b:t}=s,r=o.mul(t,h),{px:n,py:i,pz:a}=this;let u=o.ZERO,c=o.ZERO,l=o.ZERO,d=o.mul(n,n),f=o.mul(i,i),p=o.mul(a,a),m=o.mul(n,i);return m=o.add(m,m),l=o.mul(n,a),l=o.add(l,l),u=o.mul(e,l),c=o.mul(r,p),c=o.add(u,c),u=o.sub(f,c),c=o.add(f,c),c=o.mul(u,c),u=o.mul(m,u),l=o.mul(r,l),p=o.mul(e,p),m=o.sub(d,p),m=o.mul(e,m),m=o.add(m,l),l=o.add(d,d),d=o.add(l,d),d=o.add(d,p),d=o.mul(d,m),c=o.add(c,d),p=o.mul(i,a),p=o.add(p,p),d=o.mul(p,m),u=o.sub(u,d),l=o.mul(p,f),l=o.add(l,l),l=o.add(l,l),new b(u,c,l)}add(e){y(e);const{px:t,py:r,pz:n}=this,{px:i,py:a,pz:u}=e;let c=o.ZERO,l=o.ZERO,d=o.ZERO;const f=s.a,p=o.mul(s.b,h);let m=o.mul(t,i),g=o.mul(r,a),v=o.mul(n,u),w=o.add(t,r),A=o.add(i,a);w=o.mul(w,A),A=o.add(m,g),w=o.sub(w,A),A=o.add(t,n);let M=o.add(i,u);return A=o.mul(A,M),M=o.add(m,v),A=o.sub(A,M),M=o.add(r,n),c=o.add(a,u),M=o.mul(M,c),c=o.add(g,v),M=o.sub(M,c),d=o.mul(f,A),c=o.mul(p,v),d=o.add(c,d),c=o.sub(g,d),d=o.add(g,d),l=o.mul(c,d),g=o.add(m,m),g=o.add(g,m),v=o.mul(f,v),A=o.mul(p,A),g=o.add(g,v),v=o.sub(m,v),v=o.mul(f,v),A=o.add(A,v),m=o.mul(g,A),l=o.add(l,m),m=o.mul(M,A),c=o.mul(w,c),c=o.sub(c,m),m=o.mul(w,g),d=o.mul(M,d),d=o.add(d,m),new b(c,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return w.wNAFCached(this,g,e,(e=>{const t=o.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}))}multiplyUnsafe(e){const t=b.ZERO;if(e===a)return t;if(p(e),e===u)return this;const{endo:r}=s;if(!r)return w.unsafeLadder(this,e);let{k1neg:n,k1:i,k2neg:c,k2:h}=r.splitScalar(e),l=t,d=t,f=this;for(;i>a||h>a;)i&u&&(l=l.add(f)),h&u&&(d=d.add(f)),f=f.double(),i>>=u,h>>=u;return n&&(l=l.negate()),c&&(d=d.negate()),d=new b(o.mul(d.px,r.beta),d.py,d.pz),l.add(d)}multiply(e){p(e);let t,r,n=e;const{endo:i}=s;if(i){const{k1neg:e,k1:s,k2neg:a,k2:u}=i.splitScalar(n);let{p:c,f:h}=this.wNAF(s),{p:l,f:d}=this.wNAF(u);c=w.constTimeNegate(e,c),l=w.constTimeNegate(a,l),l=new b(o.mul(l.px,i.beta),l.py,l.pz),t=c.add(l),r=h.add(d)}else{const{p:e,f:i}=this.wNAF(n);t=e,r=i}return b.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==a&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:n}=this,i=this.is0();null==e&&(e=i?o.ONE:o.inv(n));const s=o.mul(t,e),a=o.mul(r,e),u=o.mul(n,e);if(i)return{x:o.ZERO,y:o.ZERO};if(!o.eql(u,o.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:t}=s;if(e===u)return!0;if(t)return t(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:t}=s;return e===u?this:t?t(b,this):this.multiplyUnsafe(s.h)}toRawBytes(e=!0){return this.assertValidity(),c(b,this,e)}toHex(e=!0){return r.bytesToHex(this.toRawBytes(e))}}b.BASE=new b(s.Gx,s.Gy,o.ONE),b.ZERO=new b(o.ZERO,o.ONE,o.ZERO);const v=s.nBitLength,w=(0,i.wNAF)(b,s.endo?Math.ceil(v/2):v);return{CURVE:s,ProjectivePoint:b,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:f}}function f(e,t){const r=e.ORDER;let n=a;for(let h=r-u;h%c===a;h/=c)n+=u;const i=n,s=c<<i-u-u,o=s*c,d=(r-u)/o,f=(d-u)/c,p=o-u,m=s,g=e.pow(t,d),y=e.pow(t,(d+u)/c);let b=(t,r)=>{let n=g,s=e.pow(r,p),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,f),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let h=e.mul(o,s);a=e.pow(h,m);let l=e.eql(a,e.ONE);s=e.mul(o,y),a=e.mul(h,n),o=e.cmov(s,o,l),h=e.cmov(a,h,l);for(let d=i;d>u;d--){let t=d-c;t=c<<t-u;let r=e.pow(h,t);const i=e.eql(r,e.ONE);s=e.mul(o,n),n=e.mul(n,n),r=e.mul(h,n),o=e.cmov(s,o,i),h=e.cmov(r,h,i)}return{isValid:l,value:o}};if(e.ORDER%l===h){const r=(e.ORDER-h)/l,n=e.sqrt(e.neg(t));b=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const u=e.mul(a,n),c=e.mul(e.sqr(a),i),h=e.eql(c,t);return{isValid:h,value:e.cmov(u,a,h)}}}return b}e.weierstrassPoints=d,e.weierstrass=function(s){const o=function(e){const t=(0,i.validateBasic)(e);return r.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(s),{Fp:c,n:h}=o,l=c.BYTES+1,f=2*c.BYTES+1;function p(e){return t.mod(e,h)}function m(e){return t.invert(e,h)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:v}=d({...o,toBytes(e,t,n){const i=t.toAffine(),s=c.toBytes(i.x),o=r.concatBytes;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,c.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==l||2!==n&&3!==n){if(t===f&&4===n){return{x:c.fromBytes(i.subarray(0,c.BYTES)),y:c.fromBytes(i.subarray(c.BYTES,2*c.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${l} compressed bytes or ${f} uncompressed bytes`)}{const e=r.bytesToNumberBE(i);if(!(a<(s=e)&&s<c.ORDER))throw new Error("Point is not on curve");const t=b(e);let o=c.sqrt(t);return!(1&~n)!==((o&u)===u)&&(o=c.neg(o)),{x:e,y:o}}var s}}),w=e=>r.bytesToHex(r.numberToBytesBE(e,o.nByteLength));function A(e){return e>h>>u}const M=(e,t,n)=>r.bytesToNumberBE(e.slice(t,n));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=o.nByteLength;return e=(0,n.ensureBytes)("compactSignature",e,2*t),new E(M(e,0,t),M(e,t,2*t))}static fromDER(t){const{r,s:i}=e.DER.toSig((0,n.ensureBytes)("DER",t));return new E(r,i)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:r,recovery:i}=this,s=R((0,n.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const a=2===i||3===i?t+o.n:t;if(a>=c.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",h=g.fromHex(u+w(a)),l=m(a),d=p(-s*l),f=p(r*l),y=g.BASE.multiplyAndAddUnsafe(h,d,f);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const _={isValidPrivateKey(e){try{return y(e),!0}catch(t){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=t.getMinHashLength(o.n);return t.mapHashToField(o.randomBytes(e),o.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===l||n===f:r?n===2*l||n===2*f:e instanceof g}const x=o.bits2int||function(e){const t=r.bytesToNumberBE(e),n=8*e.length-o.nBitLength;return n>0?t>>BigInt(n):t},R=o.bits2int_modN||function(e){return p(x(e))},k=r.bitMask(o.nBitLength);function P(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(a<=e&&e<k))throw new Error(`bigint expected < 2^${o.nBitLength}`);return r.numberToBytesBE(e,o.nByteLength)}function B(e,t,i=T){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:h}=o;let{lowS:l,prehash:d,extraEntropy:f}=i;null==l&&(l=!0),e=(0,n.ensureBytes)("msgHash",e),d&&(e=(0,n.ensureBytes)("prehashed msgHash",s(e)));const b=R(e),w=y(t),M=[P(w),P(b)];if(null!=f){const e=!0===f?h(c.BYTES):f;M.push((0,n.ensureBytes)("extraEntropy",e))}const _=r.concatBytes(...M),S=b;return{seed:_,k2sig:function(e){const t=x(e);if(!v(t))return;const r=m(t),n=g.BASE.multiply(t).toAffine(),i=p(n.x);if(i===a)return;const s=p(r*p(S+i*w));if(s===a)return;let o=(n.x===i?0:2)|Number(n.y&u),c=s;return l&&A(s)&&(c=function(e){return A(e)?p(-e):e}(s),o^=1),new E(i,c,o)}}}const T={lowS:o.lowS,prehash:!1},C={lowS:o.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:o,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,t,n=T){const{seed:i,k2sig:s}=B(e,t,n),a=o;return r.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,s)},verify:function(t,r,i,s=C){const a=t;if(r=(0,n.ensureBytes)("msgHash",r),i=(0,n.ensureBytes)("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:c}=s;let h,l;try{if("string"==typeof a||a instanceof Uint8Array)try{h=E.fromDER(a)}catch(M){if(!(M instanceof e.DER.Err))throw M;h=E.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;h=new E(e,t)}}l=g.fromHex(i)}catch(_){if("PARSE"===_.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;c&&(r=o.hash(r));const{r:d,s:f}=h,y=R(r),b=m(f),v=p(y*b),w=p(d*b),A=g.BASE.multiplyAndAddUnsafe(l,v,w)?.toAffine();return!!A&&p(A.x)===d},ProjectivePoint:g,Signature:E,utils:_}},e.SWUFpSqrtRatio=f,e.mapToCurveSimpleSWU=function(e,r){if(t.validateField(e),!e.isValid(r.A)||!e.isValid(r.B)||!e.isValid(r.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=f(e,r.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return t=>{let i,s,o,a,u,c,h,l;i=e.sqr(t),i=e.mul(i,r.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,r.B),a=e.cmov(r.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,r.A),s=e.sqr(o),c=e.sqr(a),u=e.mul(c,r.A),s=e.add(s,u),s=e.mul(s,o),c=e.mul(c,a),u=e.mul(c,r.B),s=e.add(s,u),h=e.mul(i,o);const{isValid:d,value:f}=n(s,c);l=e.mul(i,t),l=e.mul(l,f),h=e.cmov(h,o,d),l=e.cmov(l,f,d);const p=e.isOdd(t)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),h=e.div(h,a),{x:h,y:l}}}}(weierstrass)),weierstrass}var hashToCurve={},hasRequiredHashToCurve;function requireHashToCurve(){if(hasRequiredHashToCurve)return hashToCurve;hasRequiredHashToCurve=1,Object.defineProperty(hashToCurve,"__esModule",{value:!0}),hashToCurve.createHasher=hashToCurve.isogenyMap=hashToCurve.hash_to_field=hashToCurve.expand_message_xof=hashToCurve.expand_message_xmd=void 0;const e=requireModular(),t=requireUtils$5();const r=t.bytesToNumberBE;function n(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function i(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function s(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function o(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function a(e,r,a,u){s(e),s(r),o(a),r.length>255&&(r=u((0,t.concatBytes)((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-"),r)));const{outputLen:c,blockLen:h}=u,l=Math.ceil(a/c);if(l>255)throw new Error("Invalid xmd length");const d=(0,t.concatBytes)(r,n(r.length,1)),f=n(0,h),p=n(a,2),m=new Array(l),g=u((0,t.concatBytes)(f,e,p,n(0,1),d));m[0]=u((0,t.concatBytes)(g,n(1,1),d));for(let s=1;s<=l;s++){const e=[i(g,m[s-1]),n(s+1,1),d];m[s]=u((0,t.concatBytes)(...e))}return(0,t.concatBytes)(...m).slice(0,a)}function u(e,r,i,a,u){if(s(e),s(r),o(i),r.length>255){const e=Math.ceil(2*a/8);r=u.create({dkLen:e}).update((0,t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(r).digest()}if(i>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return u.create({dkLen:i}).update(e).update(n(i,2)).update(r).update(n(r.length,1)).digest()}function c(n,i,c){(0,t.validateObject)(c,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:h,k:l,m:d,hash:f,expand:p,DST:m}=c;s(n),o(i);const g=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,t.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(m),y=h.toString(2).length,b=Math.ceil((y+l)/8),v=i*d*b;let w;if("xmd"===p)w=a(n,g,v,f);else if("xof"===p)w=u(n,g,v,l,f);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');w=n}const A=new Array(i);for(let t=0;t<i;t++){const n=new Array(d);for(let i=0;i<d;i++){const s=b*(i+t*d),o=w.subarray(s,s+b);n[i]=(0,e.mod)(r(o),h)}A[t]=n}return A}return hashToCurve.expand_message_xmd=a,hashToCurve.expand_message_xof=u,hashToCurve.hash_to_field=c,hashToCurve.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,s,o,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,s),n=e.mul(n,e.div(o,a)),{x:t,y:n}}},hashToCurve.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=c(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){const s=c(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}},hashToCurve}var _shortw_utils={},hasRequired_shortw_utils,hasRequiredSecp256k1$1;function require_shortw_utils(){if(hasRequired_shortw_utils)return _shortw_utils;hasRequired_shortw_utils=1,Object.defineProperty(_shortw_utils,"__esModule",{value:!0}),_shortw_utils.createCurve=_shortw_utils.getHash=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const e=requireHmac$2(),t=utils$8,r=requireWeierstrass();function n(r){return{hash:r,hmac:(n,...i)=>(0,e.hmac)(r,n,(0,t.concatBytes)(...i)),randomBytes:t.randomBytes}}return _shortw_utils.getHash=n,_shortw_utils.createCurve=function(e,t){const i=t=>(0,r.weierstrass)({...e,...n(t)});return Object.freeze({...i(t),create:i})},_shortw_utils}function requireSecp256k1$1(){return hasRequiredSecp256k1$1||(hasRequiredSecp256k1$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const t=requireSha256$1(),r=utils$8,n=requireModular(),i=requireWeierstrass(),s=requireUtils$5(),o=requireHashToCurve(),a=require_shortw_utils(),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),l=BigInt(2),d=(e,t)=>(e+t/l)/t;function f(e){const t=u,r=BigInt(3),i=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),c=BigInt(44),h=BigInt(88),d=e*e*e%t,f=d*d*e%t,m=(0,n.pow2)(f,r,t)*f%t,g=(0,n.pow2)(m,r,t)*f%t,y=(0,n.pow2)(g,l,t)*d%t,b=(0,n.pow2)(y,s,t)*y%t,v=(0,n.pow2)(b,o,t)*b%t,w=(0,n.pow2)(v,c,t)*v%t,A=(0,n.pow2)(w,h,t)*w%t,M=(0,n.pow2)(A,c,t)*v%t,E=(0,n.pow2)(M,r,t)*f%t,_=(0,n.pow2)(E,a,t)*b%t,S=(0,n.pow2)(_,i,t)*d%t,x=(0,n.pow2)(S,l,t);if(!p.eql(p.sqr(x),e))throw new Error("Cannot find square root");return x}const p=(0,n.Field)(u,void 0,void 0,{sqrt:f});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:p,n:c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),u=d(o*e,t),l=d(-i*e,t);let f=(0,n.mod)(e-u*r-l*s,t),p=(0,n.mod)(-u*i-l*o,t);const m=f>a,g=p>a;if(m&&(f=t-f),g&&(p=t-p),f>a||p>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:f,k2neg:g,k2:p}}}},t.sha256);const m=BigInt(0),g=e=>"bigint"==typeof e&&m<e&&e<u,y={};function b(e,...r){let n=y[e];if(void 0===n){const r=(0,t.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=(0,s.concatBytes)(r,r),y[e]=n}return(0,t.sha256)((0,s.concatBytes)(n,...r))}const v=e=>e.toRawBytes(!0).slice(1),w=e=>(0,s.numberToBytesBE)(e,32),A=e=>(0,n.mod)(e,u),M=e=>(0,n.mod)(e,c),E=e.secp256k1.ProjectivePoint;function _(t){let r=e.secp256k1.utils.normPrivateKeyToScalar(t),n=E.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:M(-r),bytes:v(n)}}function S(e){if(!g(e))throw new Error("bad x: need 0 < x < p");const t=A(e*e);let r=f(A(t*e+BigInt(7)));r%l!==m&&(r=A(-r));const n=new E(e,r,h);return n.assertValidity(),n}function x(...e){return M((0,s.bytesToNumberBE)(b("BIP0340/challenge",...e)))}function R(e){return _(e).bytes}function k(e,t,n=(0,r.randomBytes)(32)){const i=(0,s.ensureBytes)("message",e),{bytes:o,scalar:a}=_(t),u=(0,s.ensureBytes)("auxRand",n,32),c=w(a^(0,s.bytesToNumberBE)(b("BIP0340/aux",u))),h=b("BIP0340/nonce",c,o,i),l=M((0,s.bytesToNumberBE)(h));if(l===m)throw new Error("sign failed: k is zero");const{bytes:d,scalar:f}=_(l),p=x(d,o,i),g=new Uint8Array(64);if(g.set(d,0),g.set(w(M(f+p*a)),32),!P(g,i,o))throw new Error("sign: Invalid signature produced");return g}function P(e,t,r){const n=(0,s.ensureBytes)("signature",e,64),i=(0,s.ensureBytes)("message",t),o=(0,s.ensureBytes)("publicKey",r,32);try{const e=S((0,s.bytesToNumberBE)(o)),t=(0,s.bytesToNumberBE)(n.subarray(0,32));if(!g(t))return!1;const r=(0,s.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(l=r)&&m<l&&l<c))return!1;const d=x(w(t),v(e),i),f=(a=e,u=r,h=M(-d),E.BASE.multiplyAndAddUnsafe(a,u,h));return!(!f||!f.hasEvenY()||f.toAffine().x!==t)}catch(d){return!1}var a,u,h,l}e.schnorr={getPublicKey:R,sign:k,verify:P,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:S,pointToBytes:v,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:b,mod:n.mod}};const B=(()=>(0,o.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),T=(()=>(0,i.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))}))(),C=(()=>(0,o.createHasher)(e.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=T(p.create(e[0]));return B(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=C.hashToCurve,e.encodeToCurve=C.encodeToCurve}(secp256k1$1)),secp256k1$1}var signature$2={},constants$1={},addresses={},hasRequiredAddresses;function requireAddresses(){return hasRequiredAddresses||(hasRequiredAddresses=1,Object.defineProperty(addresses,"__esModule",{value:!0}),addresses.ZeroAddress=void 0,addresses.ZeroAddress="0x0000000000000000000000000000000000000000"),addresses}var hashes={},hasRequiredHashes;function requireHashes(){return hasRequiredHashes||(hasRequiredHashes=1,Object.defineProperty(hashes,"__esModule",{value:!0}),hashes.ZeroHash=void 0,hashes.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),hashes}var numbers={},hasRequiredNumbers;function requireNumbers(){return hasRequiredNumbers||(hasRequiredNumbers=1,Object.defineProperty(numbers,"__esModule",{value:!0}),numbers.MaxInt256=numbers.MinInt256=numbers.MaxUint256=numbers.WeiPerEther=numbers.N=void 0,numbers.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),numbers.WeiPerEther=BigInt("1000000000000000000"),numbers.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),numbers.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),numbers.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),numbers}var strings={},hasRequiredStrings,hasRequiredConstants$1,hasRequiredSignature$2,hasRequiredSigningKey,hasRequiredCrypto,hasRequiredAddress$3;function requireStrings(){return hasRequiredStrings||(hasRequiredStrings=1,Object.defineProperty(strings,"__esModule",{value:!0}),strings.MessagePrefix=strings.EtherSymbol=void 0,strings.EtherSymbol="",strings.MessagePrefix="Ethereum Signed Message:\n"),strings}function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessagePrefix=e.EtherSymbol=e.MaxInt256=e.MinInt256=e.MaxUint256=e.WeiPerEther=e.N=e.ZeroHash=e.ZeroAddress=void 0;var t=requireAddresses();Object.defineProperty(e,"ZeroAddress",{enumerable:!0,get:function(){return t.ZeroAddress}});var r=requireHashes();Object.defineProperty(e,"ZeroHash",{enumerable:!0,get:function(){return r.ZeroHash}});var n=requireNumbers();Object.defineProperty(e,"N",{enumerable:!0,get:function(){return n.N}}),Object.defineProperty(e,"WeiPerEther",{enumerable:!0,get:function(){return n.WeiPerEther}}),Object.defineProperty(e,"MaxUint256",{enumerable:!0,get:function(){return n.MaxUint256}}),Object.defineProperty(e,"MinInt256",{enumerable:!0,get:function(){return n.MinInt256}}),Object.defineProperty(e,"MaxInt256",{enumerable:!0,get:function(){return n.MaxInt256}});var i=requireStrings();Object.defineProperty(e,"EtherSymbol",{enumerable:!0,get:function(){return i.EtherSymbol}}),Object.defineProperty(e,"MessagePrefix",{enumerable:!0,get:function(){return i.MessagePrefix}})}(constants$1)),constants$1}function requireSignature$2(){if(hasRequiredSignature$2)return signature$2;hasRequiredSignature$2=1,Object.defineProperty(signature$2,"__esModule",{value:!0}),signature$2.Signature=void 0;const e=requireConstants$1(),t=requireUtils$6(),r=BigInt(0),n=BigInt(1),i=BigInt(2),s=BigInt(27),o=BigInt(28),a=BigInt(35),u={};function c(e){return(0,t.zeroPadValue)((0,t.toBeArray)(e),32)}class h{#F;#H;#z;#G;get r(){return this.#F}set r(e){(0,t.assertArgument)(32===(0,t.dataLength)(e),"invalid r","value",e),this.#F=(0,t.hexlify)(e)}get s(){return this.#H}set s(e){(0,t.assertArgument)(32===(0,t.dataLength)(e),"invalid s","value",e);const r=(0,t.hexlify)(e);(0,t.assertArgument)(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),this.#H=r}get v(){return this.#z}set v(e){const r=(0,t.getNumber)(e,"value");(0,t.assertArgument)(27===r||28===r,"invalid v","v",e),this.#z=r}get networkV(){return this.#G}get legacyChainId(){const e=this.networkV;return null==e?null:h.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=(0,t.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,t.hexlify)(e)}get compactSerialized(){return(0,t.concat)([this.r,this.yParityAndS])}get serialized(){return(0,t.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,i){(0,t.assertPrivate)(e,u,"Signature"),this.#F=r,this.#H=n,this.#z=i,this.#G=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new h(u,this.r,this.s,this.v);return this.networkV&&(e.#G=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=(0,t.getBigInt)(e,"v");return n==s||n==o?r:((0,t.assertArgument)(n>=a,"invalid EIP-155 v","v",e),(n-a)/i)}static getChainIdV(e,r){return(0,t.getBigInt)(e)*i+BigInt(35+r-27)}static getNormalizedV(e){const i=(0,t.getBigInt)(e);return i===r||i===s?27:i===n||i===o?28:((0,t.assertArgument)(i>=a,"invalid v","v",e),i&n?27:28)}static from(r){function n(e,n){(0,t.assertArgument)(e,n,"signature",r)}if(null==r)return new h(u,e.ZeroHash,e.ZeroHash,27);if("string"==typeof r){const e=(0,t.getBytes)(r,"signature");if(64===e.length){const r=(0,t.hexlify)(e.slice(0,32)),n=e.slice(32,64),i=128&n[0]?28:27;return n[0]&=127,new h(u,r,(0,t.hexlify)(n),i)}if(65===e.length){const r=(0,t.hexlify)(e.slice(0,32)),i=e.slice(32,64);n(!(128&i[0]),"non-canonical s");const s=h.getNormalizedV(e[64]);return new h(u,r,(0,t.hexlify)(i),s)}n(!1,"invalid raw signature length")}if(r instanceof h)return r.clone();const i=r.r;n(null!=i,"missing r");const s=c(i),o=function(e,r){if(null!=e)return c(e);if(null!=r){n((0,t.isHexString)(r,32),"invalid yParityAndS");const e=(0,t.getBytes)(r);return e[0]&=127,(0,t.hexlify)(e)}n(!1,"missing s")}(r.s,r.yParityAndS);n(!(128&(0,t.getBytes)(o)[0]),"non-canonical s");const{networkV:l,v:d}=function(e,r,i){if(null!=e){const r=(0,t.getBigInt)(e);return{networkV:r>=a?r:void 0,v:h.getNormalizedV(r)}}if(null!=r)return n((0,t.isHexString)(r,32),"invalid yParityAndS"),{v:128&(0,t.getBytes)(r)[0]?28:27};if(null!=i){switch((0,t.getNumber)(i,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(r.v,r.yParityAndS,r.yParity),f=new h(u,s,o,d);return l&&(f.#G=l),n(null==r.yParity||(0,t.getNumber)(r.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),n(null==r.yParityAndS||r.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}}return signature$2.Signature=h,signature$2}function requireSigningKey(){if(hasRequiredSigningKey)return signingKey;hasRequiredSigningKey=1,Object.defineProperty(signingKey,"__esModule",{value:!0}),signingKey.SigningKey=void 0;const e=requireSecp256k1$1(),t=requireUtils$6(),r=requireSignature$2();class n{#K;constructor(e){(0,t.assertArgument)(32===(0,t.dataLength)(e),"invalid private key","privateKey","[REDACTED]"),this.#K=(0,t.hexlify)(e)}get privateKey(){return this.#K}get publicKey(){return n.computePublicKey(this.#K)}get compressedPublicKey(){return n.computePublicKey(this.#K,!0)}sign(n){(0,t.assertArgument)(32===(0,t.dataLength)(n),"invalid digest length","digest",n);const i=e.secp256k1.sign((0,t.getBytesCopy)(n),(0,t.getBytesCopy)(this.#K),{lowS:!0});return r.Signature.from({r:(0,t.toBeHex)(i.r,32),s:(0,t.toBeHex)(i.s,32),v:i.recovery?28:27})}computeSharedSecret(r){const i=n.computePublicKey(r);return(0,t.hexlify)(e.secp256k1.getSharedSecret((0,t.getBytesCopy)(this.#K),(0,t.getBytes)(i),!1))}static computePublicKey(r,n){let i=(0,t.getBytes)(r,"key");if(32===i.length){const r=e.secp256k1.getPublicKey(i,!!n);return(0,t.hexlify)(r)}if(64===i.length){const e=new Uint8Array(65);e[0]=4,e.set(i,1),i=e}const s=e.secp256k1.ProjectivePoint.fromHex(i);return(0,t.hexlify)(s.toRawBytes(n))}static recoverPublicKey(n,i){(0,t.assertArgument)(32===(0,t.dataLength)(n),"invalid digest length","digest",n);const s=r.Signature.from(i);let o=e.secp256k1.Signature.fromCompact((0,t.getBytesCopy)((0,t.concat)([s.r,s.s])));o=o.addRecoveryBit(s.yParity);const a=o.recoverPublicKey((0,t.getBytesCopy)(n));return(0,t.assertArgument)(null!=a,"invalid signautre for digest","signature",i),"0x"+a.toHex(!1)}static addPoints(t,r,i){const s=e.secp256k1.ProjectivePoint.fromHex(n.computePublicKey(t).substring(2)),o=e.secp256k1.ProjectivePoint.fromHex(n.computePublicKey(r).substring(2));return"0x"+s.add(o).toHex(!!i)}}return signingKey.SigningKey=n,signingKey}function requireCrypto(){return hasRequiredCrypto||(hasRequiredCrypto=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lock=e.Signature=e.SigningKey=e.scryptSync=e.scrypt=e.pbkdf2=e.sha512=e.sha256=e.ripemd160=e.keccak256=e.randomBytes=e.computeHmac=void 0;const t=requireHmac$1();Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return t.computeHmac}});const r=requireKeccak();Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return r.keccak256}});const n=requireRipemd160$1();Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return n.ripemd160}});const i=requirePbkdf2();Object.defineProperty(e,"pbkdf2",{enumerable:!0,get:function(){return i.pbkdf2}});const s=requireRandom();Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return s.randomBytes}});const o=requireScrypt();Object.defineProperty(e,"scrypt",{enumerable:!0,get:function(){return o.scrypt}}),Object.defineProperty(e,"scryptSync",{enumerable:!0,get:function(){return o.scryptSync}});const a=requireSha2();Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return a.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return a.sha512}});var u=requireSigningKey();Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return u.SigningKey}});var c=requireSignature$2();Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return c.Signature}}),e.lock=function(){t.computeHmac.lock(),r.keccak256.lock(),i.pbkdf2.lock(),s.randomBytes.lock(),n.ripemd160.lock(),o.scrypt.lock(),o.scryptSync.lock(),a.sha256.lock(),a.sha512.lock(),s.randomBytes.lock()}}(crypto)),crypto}function requireAddress$3(){if(hasRequiredAddress$3)return address$1;hasRequiredAddress$3=1,Object.defineProperty(address$1,"__esModule",{value:!0}),address$1.getIcapAddress=address$1.getAddress=void 0;const e=requireCrypto(),t=requireUtils$6(),r=BigInt(0),n=BigInt(36);function i(r){const n=(r=r.toLowerCase()).substring(2).split(""),i=new Uint8Array(40);for(let e=0;e<40;e++)i[e]=n[e].charCodeAt(0);const s=(0,t.getBytes)((0,e.keccak256)(i));for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&(n[e]=n[e].toUpperCase()),(15&s[e>>1])>=8&&(n[e+1]=n[e+1].toUpperCase());return"0x"+n.join("")}const s={};for(let c=0;c<10;c++)s[String(c)]=String(c);for(let c=0;c<26;c++)s[String.fromCharCode(65+c)]=String(10+c);function o(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>s[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const a=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function u(e){if((0,t.assertArgument)("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const r=i(e);return(0,t.assertArgument)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||r===e,"bad address checksum","address",e),r}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,t.assertArgument)(e.substring(2,4)===o(e),"bad icap checksum","address",e);let s=function(e){e=e.toLowerCase();let t=r;for(let r=0;r<e.length;r++)t=t*n+a[e[r]];return t}(e.substring(4)).toString(16);for(;s.length<40;)s="0"+s;return i("0x"+s)}(0,t.assertArgument)(!1,"invalid address","address",e)}return address$1.getAddress=u,address$1.getIcapAddress=function(e){let t=BigInt(u(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+o("XE00"+t)+t},address$1}var contractAddress={},hasRequiredContractAddress;function requireContractAddress(){if(hasRequiredContractAddress)return contractAddress;hasRequiredContractAddress=1,Object.defineProperty(contractAddress,"__esModule",{value:!0}),contractAddress.getCreate2Address=contractAddress.getCreateAddress=void 0;const e=requireCrypto(),t=requireUtils$6(),r=requireAddress$3();return contractAddress.getCreateAddress=function(n){const i=(0,r.getAddress)(n.from);let s=(0,t.getBigInt)(n.nonce,"tx.nonce").toString(16);return s="0"===s?"0x":s.length%2?"0x0"+s:"0x"+s,(0,r.getAddress)((0,t.dataSlice)((0,e.keccak256)((0,t.encodeRlp)([i,s])),12))},contractAddress.getCreate2Address=function(n,i,s){const o=(0,r.getAddress)(n),a=(0,t.getBytes)(i,"salt"),u=(0,t.getBytes)(s,"initCodeHash");return(0,t.assertArgument)(32===a.length,"salt must be 32 bytes","salt",i),(0,t.assertArgument)(32===u.length,"initCodeHash must be 32 bytes","initCodeHash",s),(0,r.getAddress)((0,t.dataSlice)((0,e.keccak256)((0,t.concat)(["0xff",o,a,u])),12))},contractAddress}var checks={},hasRequiredChecks,hasRequiredAddress$2;function requireChecks(){if(hasRequiredChecks)return checks;hasRequiredChecks=1,Object.defineProperty(checks,"__esModule",{value:!0}),checks.resolveAddress=checks.isAddress=checks.isAddressable=void 0;const e=requireUtils$6(),t=requireAddress$3();function r(e){return e&&"function"==typeof e.getAddress}async function n(r,n){const i=await n;return null!=i&&"0x0000000000000000000000000000000000000000"!==i||((0,e.assert)("string"!=typeof r,"unconfigured name","UNCONFIGURED_NAME",{value:r}),(0,e.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),(0,t.getAddress)(i)}return checks.isAddressable=r,checks.isAddress=function(e){try{return(0,t.getAddress)(e),!0}catch(r){}return!1},checks.resolveAddress=function(i,s){return"string"==typeof i?i.match(/^0x[0-9a-f]{40}$/i)?(0,t.getAddress)(i):((0,e.assert)(null!=s,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),n(i,s.resolveName(i))):r(i)?n(i,i.getAddress()):i&&"function"==typeof i.then?n(i,i):void(0,e.assertArgument)(!1,"unsupported addressable value","target",i)},checks}function requireAddress$2(){return hasRequiredAddress$2||(hasRequiredAddress$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveAddress=e.isAddress=e.isAddressable=e.getCreate2Address=e.getCreateAddress=e.getIcapAddress=e.getAddress=void 0;var t=requireAddress$3();Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return t.getAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return t.getIcapAddress}});var r=requireContractAddress();Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return r.getCreateAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return r.getCreate2Address}});var n=requireChecks();Object.defineProperty(e,"isAddressable",{enumerable:!0,get:function(){return n.isAddressable}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return n.isAddress}}),Object.defineProperty(e,"resolveAddress",{enumerable:!0,get:function(){return n.resolveAddress}})}(address$2)),address$2}var typed={},hasRequiredTyped,hasRequiredAddress$1;function requireTyped(){if(hasRequiredTyped)return typed;hasRequiredTyped=1,Object.defineProperty(typed,"__esModule",{value:!0}),typed.Typed=void 0;const e=requireUtils$6(),t={};function r(e,r){let n=!1;return r<0&&(n=!0,r*=-1),new s(t,`${n?"":"u"}int${r}`,e,{signed:n,width:r})}function n(e,r){return new s(t,`bytes${r||""}`,e,{size:r})}const i=Symbol.for("_ethers_typed");class s{type;value;#V;_typedSymbol;constructor(r,n,s,o){null==o&&(o=null),(0,e.assertPrivate)(t,r,"Typed"),(0,e.defineProperties)(this,{_typedSymbol:i,type:n,value:s}),this.#V=o,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#V}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#V?-1:!1===this.#V?this.value.length:null}static from(e,r){return new s(t,e,r)}static uint8(e){return r(e,8)}static uint16(e){return r(e,16)}static uint24(e){return r(e,24)}static uint32(e){return r(e,32)}static uint40(e){return r(e,40)}static uint48(e){return r(e,48)}static uint56(e){return r(e,56)}static uint64(e){return r(e,64)}static uint72(e){return r(e,72)}static uint80(e){return r(e,80)}static uint88(e){return r(e,88)}static uint96(e){return r(e,96)}static uint104(e){return r(e,104)}static uint112(e){return r(e,112)}static uint120(e){return r(e,120)}static uint128(e){return r(e,128)}static uint136(e){return r(e,136)}static uint144(e){return r(e,144)}static uint152(e){return r(e,152)}static uint160(e){return r(e,160)}static uint168(e){return r(e,168)}static uint176(e){return r(e,176)}static uint184(e){return r(e,184)}static uint192(e){return r(e,192)}static uint200(e){return r(e,200)}static uint208(e){return r(e,208)}static uint216(e){return r(e,216)}static uint224(e){return r(e,224)}static uint232(e){return r(e,232)}static uint240(e){return r(e,240)}static uint248(e){return r(e,248)}static uint256(e){return r(e,256)}static uint(e){return r(e,256)}static int8(e){return r(e,-8)}static int16(e){return r(e,-16)}static int24(e){return r(e,-24)}static int32(e){return r(e,-32)}static int40(e){return r(e,-40)}static int48(e){return r(e,-48)}static int56(e){return r(e,-56)}static int64(e){return r(e,-64)}static int72(e){return r(e,-72)}static int80(e){return r(e,-80)}static int88(e){return r(e,-88)}static int96(e){return r(e,-96)}static int104(e){return r(e,-104)}static int112(e){return r(e,-112)}static int120(e){return r(e,-120)}static int128(e){return r(e,-128)}static int136(e){return r(e,-136)}static int144(e){return r(e,-144)}static int152(e){return r(e,-152)}static int160(e){return r(e,-160)}static int168(e){return r(e,-168)}static int176(e){return r(e,-176)}static int184(e){return r(e,-184)}static int192(e){return r(e,-192)}static int200(e){return r(e,-200)}static int208(e){return r(e,-208)}static int216(e){return r(e,-216)}static int224(e){return r(e,-224)}static int232(e){return r(e,-232)}static int240(e){return r(e,-240)}static int248(e){return r(e,-248)}static int256(e){return r(e,-256)}static int(e){return r(e,-256)}static bytes1(e){return n(e,1)}static bytes2(e){return n(e,2)}static bytes3(e){return n(e,3)}static bytes4(e){return n(e,4)}static bytes5(e){return n(e,5)}static bytes6(e){return n(e,6)}static bytes7(e){return n(e,7)}static bytes8(e){return n(e,8)}static bytes9(e){return n(e,9)}static bytes10(e){return n(e,10)}static bytes11(e){return n(e,11)}static bytes12(e){return n(e,12)}static bytes13(e){return n(e,13)}static bytes14(e){return n(e,14)}static bytes15(e){return n(e,15)}static bytes16(e){return n(e,16)}static bytes17(e){return n(e,17)}static bytes18(e){return n(e,18)}static bytes19(e){return n(e,19)}static bytes20(e){return n(e,20)}static bytes21(e){return n(e,21)}static bytes22(e){return n(e,22)}static bytes23(e){return n(e,23)}static bytes24(e){return n(e,24)}static bytes25(e){return n(e,25)}static bytes26(e){return n(e,26)}static bytes27(e){return n(e,27)}static bytes28(e){return n(e,28)}static bytes29(e){return n(e,29)}static bytes30(e){return n(e,30)}static bytes31(e){return n(e,31)}static bytes32(e){return n(e,32)}static address(e){return new s(t,"address",e)}static bool(e){return new s(t,"bool",!!e)}static bytes(e){return new s(t,"bytes",e)}static string(e){return new s(t,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new s(t,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===i}static dereference(e,t){if(s.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}return typed.Typed=s,typed}function requireAddress$1(){if(hasRequiredAddress$1)return address$3;hasRequiredAddress$1=1,Object.defineProperty(address$3,"__esModule",{value:!0}),address$3.AddressCoder=void 0;const e=requireAddress$2(),t=requireMaths(),r=requireTyped(),n=requireAbstractCoder();class i extends n.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,n){let i=r.Typed.dereference(n,"string");try{i=(0,e.getAddress)(i)}catch(s){return this._throwError(s.message,n)}return t.writeValue(i)}decode(r){return(0,e.getAddress)((0,t.toBeHex)(r.readValue(),20))}}return address$3.AddressCoder=i,address$3}var array={},anonymous={},hasRequiredAnonymous,hasRequiredArray;function requireAnonymous(){if(hasRequiredAnonymous)return anonymous;hasRequiredAnonymous=1,Object.defineProperty(anonymous,"__esModule",{value:!0}),anonymous.AnonymousCoder=void 0;const e=requireAbstractCoder();class t extends e.Coder{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}return anonymous.AnonymousCoder=t,anonymous}function requireArray(){if(hasRequiredArray)return array;hasRequiredArray=1,Object.defineProperty(array,"__esModule",{value:!0}),array.ArrayCoder=array.unpack=array.pack=void 0;const e=requireUtils$6(),t=requireTyped(),r=requireAbstractCoder(),n=requireAnonymous();function i(t,n,i){let s=[];if(Array.isArray(i))s=i;else if(i&&"object"==typeof i){let t={};s=n.map((r=>{const n=r.localName;return(0,e.assert)(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:r},value:i}),(0,e.assert)(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:r},value:i}),t[n]=!0,i[n]}))}else(0,e.assertArgument)(!1,"invalid tuple value","tuple",i);(0,e.assertArgument)(n.length===s.length,"types/value length mismatch","tuple",i);let o=new r.Writer,a=new r.Writer,u=[];n.forEach(((e,t)=>{let r=s[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=o.writeUpdatableValue();u.push((e=>{n(e+t)}))}else e.encode(o,r)})),u.forEach((e=>{e(o.length)}));let c=t.appendWriter(o);return c+=t.appendWriter(a),c}function s(t,n){let i=[],s=[],o=t.subReader(0);return n.forEach((r=>{let n=null;if(r.dynamic){let i=t.readIndex(),s=o.subReader(i);try{n=r.decode(s)}catch(a){if((0,e.isError)(a,"BUFFER_OVERRUN"))throw a;n=a,n.baseType=r.name,n.name=r.localName,n.type=r.type}}else try{n=r.decode(t)}catch(a){if((0,e.isError)(a,"BUFFER_OVERRUN"))throw a;n=a,n.baseType=r.name,n.name=r.localName,n.type=r.type}if(null==n)throw new Error("investigate");i.push(n),s.push(r.localName||null)})),r.Result.fromItems(i,s)}array.pack=i,array.unpack=s;class o extends r.Coder{coder;length;constructor(t,r,n){super("array",t.type+"["+(r>=0?r:"")+"]",n,-1===r||t.dynamic),(0,e.defineProperties)(this,{coder:t,length:r})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(r,n){const s=t.Typed.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let o=this.length;-1===o&&(o=s.length,r.writeValue(s.length)),(0,e.assertArgumentCount)(s.length,o,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let e=0;e<s.length;e++)a.push(this.coder);return i(r,a,s)}decode(t){let i=this.length;-1===i&&(i=t.readIndex(),(0,e.assert)(i*r.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:i*r.WordSize,length:t.dataLength}));let o=[];for(let e=0;e<i;e++)o.push(new n.AnonymousCoder(this.coder));return s(t,o)}}return array.ArrayCoder=o,array}var boolean={},hasRequiredBoolean;function requireBoolean(){if(hasRequiredBoolean)return boolean;hasRequiredBoolean=1,Object.defineProperty(boolean,"__esModule",{value:!0}),boolean.BooleanCoder=void 0;const e=requireTyped(),t=requireAbstractCoder();class r extends t.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(t,r){const n=e.Typed.dereference(r,"bool");return t.writeValue(n?1:0)}decode(e){return!!e.readValue()}}return boolean.BooleanCoder=r,boolean}var bytes={},hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes;hasRequiredBytes=1,Object.defineProperty(bytes,"__esModule",{value:!0}),bytes.BytesCoder=bytes.DynamicBytesCoder=void 0;const e=requireUtils$6(),t=requireAbstractCoder();class r extends t.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(t,r){r=(0,e.getBytesCopy)(r);let n=t.writeValue(r.length);return n+=t.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}bytes.DynamicBytesCoder=r;return bytes.BytesCoder=class extends r{constructor(e){super("bytes",e)}decode(t){return(0,e.hexlify)(super.decode(t))}},bytes}var fixedBytes={},hasRequiredFixedBytes;function requireFixedBytes(){if(hasRequiredFixedBytes)return fixedBytes;hasRequiredFixedBytes=1,Object.defineProperty(fixedBytes,"__esModule",{value:!0}),fixedBytes.FixedBytesCoder=void 0;const e=requireUtils$6(),t=requireTyped(),r=requireAbstractCoder();class n extends r.Coder{size;constructor(t,r){let n="bytes"+String(t);super(n,n,r,!1),(0,e.defineProperties)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(r,n){let i=(0,e.getBytesCopy)(t.Typed.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(t){return(0,e.hexlify)(t.readBytes(this.size))}}return fixedBytes.FixedBytesCoder=n,fixedBytes}var _null={},hasRequired_null;function require_null(){if(hasRequired_null)return _null;hasRequired_null=1,Object.defineProperty(_null,"__esModule",{value:!0}),_null.NullCoder=void 0;const e=requireAbstractCoder(),t=new Uint8Array([]);class r extends e.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return null!=r&&this._throwError("not null",r),e.writeBytes(t)}decode(e){return e.readBytes(0),null}}return _null.NullCoder=r,_null}var number={},hasRequiredNumber;function requireNumber(){if(hasRequiredNumber)return number;hasRequiredNumber=1,Object.defineProperty(number,"__esModule",{value:!0}),number.NumberCoder=void 0;const e=requireUtils$6(),t=requireTyped(),r=requireAbstractCoder(),n=BigInt(0),i=BigInt(1),s=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class o extends r.Coder{size;signed;constructor(t,r,n){const i=(r?"int":"uint")+8*t;super(i,i,n,!1),(0,e.defineProperties)(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(o,a){let u=(0,e.getBigInt)(t.Typed.dereference(a,this.type)),c=(0,e.mask)(s,8*r.WordSize);if(this.signed){let t=(0,e.mask)(c,8*this.size-1);(u>t||u<-(t+i))&&this._throwError("value out-of-bounds",a),u=(0,e.toTwos)(u,8*r.WordSize)}else(u<n||u>(0,e.mask)(c,8*this.size))&&this._throwError("value out-of-bounds",a);return o.writeValue(u)}decode(t){let r=(0,e.mask)(t.readValue(),8*this.size);return this.signed&&(r=(0,e.fromTwos)(r,8*this.size)),r}}return number.NumberCoder=o,number}var string={},hasRequiredString;function requireString(){if(hasRequiredString)return string;hasRequiredString=1,Object.defineProperty(string,"__esModule",{value:!0}),string.StringCoder=void 0;const e=requireUtf8(),t=requireTyped(),r=requireBytes();class n extends r.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(r,n){return super.encode(r,(0,e.toUtf8Bytes)(t.Typed.dereference(n,"string")))}decode(t){return(0,e.toUtf8String)(super.decode(t))}}return string.StringCoder=n,string}var tuple={},hasRequiredTuple;function requireTuple(){if(hasRequiredTuple)return tuple;hasRequiredTuple=1,Object.defineProperty(tuple,"__esModule",{value:!0}),tuple.TupleCoder=void 0;const e=requireProperties(),t=requireTyped(),r=requireAbstractCoder(),n=requireArray();class i extends r.Coder{coders;constructor(t,r){let n=!1;const i=[];t.forEach((e=>{e.dynamic&&(n=!0),i.push(e.type)}));super("tuple","tuple("+i.join(",")+")",r,n),(0,e.defineProperties)(this,{coders:Object.freeze(t.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,r){const i=t.Typed.dereference(r,"tuple");return(0,n.pack)(e,this.coders,i)}decode(e){return(0,n.unpack)(e,this.coders)}}return tuple.TupleCoder=i,tuple}var fragments={},hash$3={},id={},hasRequiredId;function requireId(){if(hasRequiredId)return id;hasRequiredId=1,Object.defineProperty(id,"__esModule",{value:!0}),id.id=void 0;const e=requireCrypto(),t=requireUtils$6();return id.id=function(r){return(0,e.keccak256)((0,t.toUtf8Bytes)(r))},id}var namehash={},dist={},hasRequiredDist,hasRequiredNamehash;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1;const e=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function t(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let w=1;w<n;w++)s.push(i+=r());let o=r(),a=t;t+=o;let u=0,c=0;function h(){return 0==u&&(c=c<<8|e[t++],u=8),c>>--u&1}const l=2**31,d=l>>>1,f=d>>1,p=l-1;let m=0;for(let w=0;w<31;w++)m=m<<1|h();let g=[],y=0,b=l;for(;;){let e=Math.floor(((m-y+1)*i-1)/b),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;g.push(t);let o=y+Math.floor(b*s[t]/i),a=y+Math.floor(b*s[t+1]/i)-1;for(;!((o^a)&d);)m=m<<1&p|h(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)m=m&d|m<<1&p>>>1|h(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,b=1+a-o}let v=n-4;return g.map((t=>{switch(t-v){case 3:return v+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return v+256+(e[a++]<<8|e[a++]);case 1:return v+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}(e)))}function r(e){return 1&e?~e>>1:e>>1}function n(e,t){let n=Array(e);for(let i=0,s=0;i<e;i++)n[i]=s+=r(t());return n}function i(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function s(e){return a((()=>{let t=i(e);if(t.length)return t}))}function o(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(c(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(h(r,e))}return t.flat()}function a(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function u(e,t,r){let i=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)n(e,r).forEach(((e,t)=>i[t].push(e)));return i}function c(e,t){let r=1+t(),n=t(),i=a(t);return u(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*n;return[s+t*r,o.map((e=>e+i))]}))}))}function h(e,t){return u(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function l(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function d(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}function f(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function p(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}const m=44032,g=4352,y=4449,b=4519,v=28,w=588;function A(e){return e>>24&255}function M(e){return 16777215&e}let E,_,S,x;function R(e){return e>=m&&e<55204}function k(e,t){if(e>=g&&e<4371&&t>=y&&t<4470)return m+(e-g)*w+(t-y)*v;if(R(e)&&t>b&&t<4547&&(e-m)%v==0)return e+(t-b);{let r=x.get(e);return r&&(r=r.get(t),r)?r:-1}}function P(e){E||function(){let e=t("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");E=new Map(s(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),_=new Set(i(e)),S=new Map,x=new Map;for(let[t,r]of o(e)){if(!_.has(t)&&2==r.length){let[e,n]=r,i=x.get(e);i||(i=new Map,x.set(e,i)),i.set(n,t)}S.set(t,r.reverse())}}();let r=[],n=[],a=!1;function u(e){let t=E.get(e);t&&(a=!0,e|=t),r.push(e)}for(let t of e)for(;;){if(t<128)r.push(t);else if(R(t)){let e=t-m,r=e%w/v|0,n=e%v;u(g+(e/w|0)),u(y+r),n>0&&u(b+n)}else{let e=S.get(t);e?n.push(...e):u(t)}if(!n.length)break;t=n.pop()}if(a&&r.length>1){let e=A(r[0]);for(let t=1;t<r.length;t++){let n=A(r[t]);if(0==n||e<=n){e=n;continue}let i=t-1;for(;;){let t=r[i+1];if(r[i+1]=r[i],r[i]=t,!i)break;if(e=A(r[--i]),e<=n)break}e=A(r[t])}}return r}function B(e){return P(e).map(M)}function T(e){return function(e){let t=[],r=[],n=-1,i=0;for(let s of e){let e=A(s),o=M(s);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let s=k(n,o);s>=0?n=s:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(P(e))}const C=".",O=e=>Array.from(e);function q(e,t){return e.P.has(t)||e.Q.has(t)}class I extends Array{get is_emoji(){return!0}}let N,$,L,j,U,D,F,H,z,G,K,V;function W(){if(N)return;let e=t("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const r=()=>i(e),n=()=>new Set(r()),u=(e,t)=>t.forEach((t=>e.add(t)));N=new Map(o(e)),$=n(),L=r(),j=new Set(r().map((e=>L[e]))),L=new Set(L),U=n(),D=n();let c=s(e),h=e();const l=()=>{let e=new Set;return r().forEach((t=>u(e,c[t]))),u(e,r()),e};F=a((t=>{let r=a(e).map((e=>e+96));if(r.length){let n=t>=h;return r[0]-=32,r=f(r),n&&(r=`Restricted[${r}]`),{N:r,P:l(),Q:l(),M:!e(),R:n}}})),H=n(),z=new Map;let d=r().concat(O(H)).sort(((e,t)=>e-t));d.forEach(((t,r)=>{let n=e(),i=d[r]=n?d[r-n]:{V:[],M:new Map};i.V.push(t),H.has(t)||z.set(t,i)}));for(let{V:t,M:i}of new Set(z.values())){let e=[];for(let n of t){let t=F.filter((e=>q(e,n))),r=e.find((({G:e})=>t.some((t=>e.has(t)))));r||(r={G:new Set,V:[]},e.push(r)),r.V.push(n),u(r.G,t)}let r=e.flatMap((e=>O(e.G)));for(let{G:t,V:n}of e){let e=new Set(r.filter((e=>!t.has(e))));for(let t of n)i.set(t,e)}}G=new Set;let m=new Set;const g=e=>G.has(e)?m.add(e):G.add(e);for(let t of F){for(let e of t.P)g(e);for(let e of t.Q)g(e)}for(let t of G)z.has(t)||m.has(t)||z.set(t,1);u(G,B(G)),K=function(e){let t=[],r=i(e);return function e({S:r,B:n},i,s){if(!(4&r&&s===i[i.length-1])){2&r&&(s=i[i.length-1]),1&r&&t.push(i);for(let t of n)for(let r of t.Q)e(t,[...i,r],s)}}(function t(n){return{S:e(),B:a((()=>{let n=i(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>I.from(e))).sort(p),V=new Map;for(let t of K){let e=[V];for(let r of t){let t=e.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));65039===r?e.push(...t):e=t}for(let r of e)r.V=t}}function J(e){return(X(e)?"":`${Z(Q([e]))} `)+l(e)}function Z(e){return`"${e}"`}function Q(e,t=1/0,r=l){let n=[];Y(e[0])&&n.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,s=e.length;for(let o=0;o<s;o++){let t=e[o];X(t)&&(n.push(f(e.slice(i,o))),n.push(r(t)),i=o+1)}return n.push(f(e.slice(i,s))),n.join("")}function Y(e){return W(),L.has(e)}function X(e){return W(),U.has(e)}function ee(e,t,r){let n=0;for(;;){let i=e.indexOf(t,n);if(i<0)break;e[i]=r,n=i+1}}function te(t,r,n){if(!t)return[];W();let i=0;return t.split(C).map((t=>{let s=d(t),o={input:s,offset:i};i+=s.length+1;try{let t,i=o.tokens=oe(s,r,n),a=i.length;if(!a)throw new Error("empty label");let u=o.output=i.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(u),!(o.emoji=a>1||i[0].is_emoji)&&u.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${f(e.slice(0,4))}"`)}(u),t="ASCII";else{let r=i.flatMap((e=>e.is_emoji?[]:e));if(r.length){if(L.has(u[0]))throw se("leading combining mark");for(let e=1;e<a;e++){let t=i[e];if(!t.is_emoji&&L.has(t[0]))throw se(`emoji + combining mark: "${f(i[e-1])} + ${Q([t[0]])}"`)}!function(t){let r=t[0],n=e.get(r);if(n)throw se(`leading ${n}`);let i=t.length,s=-1;for(let o=1;o<i;o++){r=t[o];let i=e.get(r);if(i){if(s==o)throw se(`${n} + ${i}`);s=o+1,n=i}}if(s==i)throw se(`trailing ${n}`)}(u);let n=O(new Set(r)),[s]=function(e){let t=F;for(let r of e){let e=t.filter((e=>q(e,r)));if(!e.length)throw F.some((e=>q(e,r)))?ie(t[0],r):ne(r);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let r of t)if(!q(e,r))throw ie(e,r);if(e.M){let e=B(t);for(let t=1,r=e.length;t<r;t++)if(j.has(e[t])){let n=t+1;for(let i;n<r&&j.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw new Error(`duplicate non-spacing marks: ${J(i)}`);if(n-t>4)throw new Error(`excessive non-spacing marks: ${Z(Q(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}}(s,r),function(e,t){let r,n=[];for(let i of t){let e=z.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(r=r?r.filter((e=>t.has(e))):O(t),!r.length)return}else n.push(i)}if(r)for(let i of r)if(n.every((e=>q(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(s,n),t=s.N}else t="Emoji"}o.type=t}catch(a){o.error=a}return o}))}function re(e){return e.map((({input:t,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==e.length?n:`Invalid label ${Z(Q(t,63))}: ${n}`)}return f(n)})).join(C)}function ne(e){return new Error(`disallowed character: ${J(e)}`)}function ie(e,t){let r=J(t),n=F.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function se(e){return new Error(`illegal placement: ${e}`)}function oe(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let s=ue(e);if(s)i.length&&(n.push(t(i)),i=[]),n.push(r(s));else{let t=e.pop();if(G.has(t))i.push(t);else{let e=N.get(t);if(e)i.push(...e);else if(!$.has(t))throw ne(t)}}}return i.length&&n.push(t(i)),n}function ae(e){return e.filter((e=>65039!=e))}function ue(e,t){let r,n=V,i=e.length;for(;i&&(n=n.get(e[--i]),n);){let{V:s}=n;s&&(r=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}const ce="valid",he="mapped",le="ignored";function de(e){return e==ce||e==he}function fe(e){return e.some((e=>D.has(e)))}function pe(e){for(let t=0;t<e.length;t++)if(e[t].type==ce){let r=t+1;for(;r<e.length&&e[r].type==ce;)r++;e.splice(t,r-t,{type:ce,cps:e.slice(t,r).flatMap((e=>e.cps))})}return e}return dist.ens_beautify=function(e){let t=te(e,T,(e=>e));for(let{type:r,output:n,error:i}of t){if(i)break;"Greek"!==r&&ee(n,958,926)}return re(t)},dist.ens_emoji=function(){return W(),K.map((e=>e.slice()))},dist.ens_normalize=function(e){return re(te(e,T,ae))},dist.ens_normalize_fragment=function(e,t){W();let r=t?B:T;return e.split(C).map((e=>f(oe(d(e),r,ae).flat()))).join(C)},dist.ens_split=function(e,t){return te(e,T,t?e=>e.slice():ae)},dist.ens_tokenize=function e(t,{nf:r=!0}={}){W();let n=d(t).reverse(),i=[],s=[];for(;n.length;){let e=ue(n,i);if(e)s.push({type:"emoji",emoji:e.slice(),input:i,cps:ae(e)}),i=[];else{let e=n.pop();if(46==e)s.push({type:"stop",cp:e});else if(G.has(e))s.push({type:ce,cps:[e]});else if($.has(e))s.push({type:le,cp:e});else{let t=N.get(e);t?s.push({type:he,cp:e,cps:t.slice()}):s.push({type:"disallowed",cp:e})}}}if(r)for(let o=0,a=-1;o<s.length;o++){let t=s[o];if(de(t.type))if(fe(t.cps)){let t=o+1;for(let e=t;e<s.length;e++){let{type:r,cps:n}=s[e];if(de(r)){if(!fe(n))break;t=e+1}else if(r!==le)break}a<0&&(a=o);let r=s.slice(a,t),n=r.flatMap((e=>de(e.type)?e.cps:[])),i=T(n);p(i,n)?(s.splice(a,t-a,{type:"nfc",input:n,cps:i,tokens0:pe(r),tokens:e(f(i),{nf:!1})}),o=a):o=t-1,a=-1}else a=o;else t.type!==le&&(a=-1)}return pe(s)},dist.is_combining_mark=Y,dist.nfc=T,dist.nfd=B,dist.safe_str_from_cps=Q,dist.should_escape=X,dist}function requireNamehash(){if(hasRequiredNamehash)return namehash;hasRequiredNamehash=1,Object.defineProperty(namehash,"__esModule",{value:!0}),namehash.dnsEncode=namehash.namehash=namehash.isValidName=namehash.ensNormalize=void 0;const e=requireCrypto(),t=requireUtils$6(),r=requireDist(),n=new Uint8Array(32);function i(e){return(0,t.assertArgument)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function s(e){const r=(0,t.toUtf8Bytes)(o(e)),n=[];if(0===e.length)return n;let s=0;for(let t=0;t<r.length;t++){46===r[t]&&(n.push(i(r.slice(s,t))),s=t+1)}return(0,t.assertArgument)(s<r.length,"invalid ENS name; empty component","name",e),n.push(i(r.slice(s))),n}function o(e){try{if(0===e.length)throw new Error("empty label");return(0,r.ens_normalize)(e)}catch(n){(0,t.assertArgument)(!1,`invalid ENS name (${n.message})`,"name",e)}}return n.fill(0),namehash.ensNormalize=o,namehash.isValidName=function(e){try{return 0!==s(e).length}catch(t){}return!1},namehash.namehash=function(r){(0,t.assertArgument)("string"==typeof r,"invalid ENS name; not a string","name",r),(0,t.assertArgument)(r.length,"invalid ENS name (empty label)","name",r);let i=n;const o=s(r);for(;o.length;)i=(0,e.keccak256)((0,t.concat)([i,(0,e.keccak256)(o.pop())]));return(0,t.hexlify)(i)},namehash.dnsEncode=function(e,r){const n=null!=r?r:63;return(0,t.assertArgument)(n<=255,"DNS encoded label cannot exceed 255","length",n),(0,t.hexlify)((0,t.concat)(s(e).map((r=>{(0,t.assertArgument)(r.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i}))))+"00"},namehash}var message={},transaction$1={},accesslist={},hasRequiredAccesslist;function requireAccesslist(){if(hasRequiredAccesslist)return accesslist;hasRequiredAccesslist=1,Object.defineProperty(accesslist,"__esModule",{value:!0}),accesslist.accessListify=void 0;const e=requireAddress$2(),t=requireUtils$6();function r(r,n){return{address:(0,e.getAddress)(r),storageKeys:n.map(((e,r)=>((0,t.assertArgument)((0,t.isHexString)(e,32),"invalid slot",`storageKeys[${r}]`,e),e.toLowerCase())))}}return accesslist.accessListify=function(e){if(Array.isArray(e))return e.map(((n,i)=>Array.isArray(n)?((0,t.assertArgument)(2===n.length,"invalid slot set",`value[${i}]`,n),r(n[0],n[1])):((0,t.assertArgument)(null!=n&&"object"==typeof n,"invalid address-slot set","value",e),r(n.address,n.storageKeys))));(0,t.assertArgument)(null!=e&&"object"==typeof e,"invalid access list","value",e);const n=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return r(t,Object.keys(n).sort())}));return n.sort(((e,t)=>e.address.localeCompare(t.address))),n},accesslist}var address={},hasRequiredAddress;function requireAddress(){if(hasRequiredAddress)return address;hasRequiredAddress=1,Object.defineProperty(address,"__esModule",{value:!0}),address.recoverAddress=address.computeAddress=void 0;const e=requireAddress$2(),t=requireCrypto();function r(r){let n;return n="string"==typeof r?t.SigningKey.computePublicKey(r,!1):r.publicKey,(0,e.getAddress)((0,t.keccak256)("0x"+n.substring(4)).substring(26))}return address.computeAddress=r,address.recoverAddress=function(e,n){return r(t.SigningKey.recoverPublicKey(e,n))},address}var transaction={},hasRequiredTransaction$1,hasRequiredTransaction,hasRequiredMessage;function requireTransaction$1(){if(hasRequiredTransaction$1)return transaction;hasRequiredTransaction$1=1,Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Transaction=void 0;const e=requireAddress$2(),t=requireAddresses(),r=requireCrypto(),n=requireUtils$6(),i=requireAccesslist(),s=requireAddress(),o=BigInt(0),a=BigInt(2),u=BigInt(27),c=BigInt(28),h=BigInt(35),l=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),d=131072;function f(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=(0,r.sha256)(t).substring(4),"0x"+n}function p(t){return"0x"===t?null:(0,e.getAddress)(t)}function m(e,t){try{return(0,i.accessListify)(e)}catch(r){(0,n.assertArgument)(!1,r.message,t,e)}}function g(e,t){return"0x"===e?0:(0,n.getNumber)(e,t)}function y(e,t){if("0x"===e)return o;const r=(0,n.getBigInt)(e,t);return(0,n.assertArgument)(r<=l,"value exceeds uint size",t,r),r}function b(e,t){const r=(0,n.getBigInt)(e,"value"),i=(0,n.toBeArray)(r);return(0,n.assertArgument)(i.length<=32,"value too large",`tx.${t}`,r),i}function v(e){return(0,i.accessListify)(e).map((e=>[e.address,e.storageKeys]))}function w(e,t){(0,n.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let r=0;r<e.length;r++)(0,n.assertArgument)((0,n.isHexString)(e[r],32),"invalid ${ param } hash",`value[${r}]`,e[r]);return e}function A(e,t){let i;try{if(i=g(t[0],"yParity"),0!==i&&1!==i)throw new Error("bad yParity")}catch(u){(0,n.assertArgument)(!1,"invalid yParity","yParity",t[0])}const s=(0,n.zeroPadValue)(t[1],32),o=(0,n.zeroPadValue)(t[2],32),a=r.Signature.from({r:s,s:o,yParity:i});e.signature=a}class M{#W;#J;#O;#Z;#Q;#Y;#X;#ee;#te;#re;#ne;#ie;#se;#oe;#ae;#ue;get type(){return this.#W}set type(e){switch(e){case null:this.#W=null;break;case 0:case"legacy":this.#W=0;break;case 1:case"berlin":case"eip-2930":this.#W=1;break;case 2:case"london":case"eip-1559":this.#W=2;break;case 3:case"cancun":case"eip-4844":this.#W=3;break;default:(0,n.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#J;return null==e&&3===this.type?t.ZeroAddress:e}set to(t){this.#J=null==t?null:(0,e.getAddress)(t)}get nonce(){return this.#Z}set nonce(e){this.#Z=(0,n.getNumber)(e,"value")}get gasLimit(){return this.#Q}set gasLimit(e){this.#Q=(0,n.getBigInt)(e)}get gasPrice(){const e=this.#Y;return null!=e||0!==this.type&&1!==this.type?e:o}set gasPrice(e){this.#Y=null==e?null:(0,n.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#X;return e??(2===this.type||3===this.type?o:null)}set maxPriorityFeePerGas(e){this.#X=null==e?null:(0,n.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ee;return e??(2===this.type||3===this.type?o:null)}set maxFeePerGas(e){this.#ee=null==e?null:(0,n.getBigInt)(e,"maxFeePerGas")}get data(){return this.#O}set data(e){this.#O=(0,n.hexlify)(e)}get value(){return this.#te}set value(e){this.#te=(0,n.getBigInt)(e,"value")}get chainId(){return this.#re}set chainId(e){this.#re=(0,n.getBigInt)(e)}get signature(){return this.#ne||null}set signature(e){this.#ne=null==e?null:r.Signature.from(e)}get accessList(){const e=this.#ie||null;return e??(1===this.type||2===this.type||3===this.type?[]:null)}set accessList(e){this.#ie=null==e?null:(0,i.accessListify)(e)}get maxFeePerBlobGas(){const e=this.#se;return null==e&&3===this.type?o:e}set maxFeePerBlobGas(e){this.#se=null==e?null:(0,n.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#oe;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,n.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,n.assertArgument)((0,n.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#oe=e}get blobs(){return null==this.#ue?null:this.#ue.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#ue=null);const t=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if((0,n.isBytesLike)(s)){(0,n.assert)(this.#ae,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,n.getBytes)(s);if((0,n.assertArgument)(e.length<=d,"blob is too large",`blobs[${i}]`,s),e.length!==d){const t=new Uint8Array(d);t.set(e),e=t}const o=this.#ae.blobToKzgCommitment(e),a=(0,n.hexlify)(this.#ae.computeBlobKzgProof(e,o));t.push({data:(0,n.hexlify)(e),commitment:(0,n.hexlify)(o),proof:a}),r.push(f(1,o))}else{const e=(0,n.hexlify)(s.commitment);t.push({data:(0,n.hexlify)(s.data),commitment:e,proof:(0,n.hexlify)(s.proof)}),r.push(f(1,e))}}this.#ue=t,this.#oe=r}get kzg(){return this.#ae}set kzg(e){this.#ae=e}constructor(){this.#W=null,this.#J=null,this.#Z=0,this.#Q=o,this.#Y=null,this.#X=null,this.#ee=null,this.#O="0x",this.#te=o,this.#re=o,this.#ne=null,this.#ie=null,this.#se=null,this.#oe=null,this.#ue=null,this.#ae=null}get hash(){return null==this.signature?null:(0,r.keccak256)(this.#ce(!0,!1))}get unsignedHash(){return(0,r.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:(0,s.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:r.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#ce(e,i){(0,n.assert)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const s=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const i=[b(e.nonce,"nonce"),b(e.gasPrice||0,"gasPrice"),b(e.gasLimit,"gasLimit"),e.to||"0x",b(e.value,"value"),e.data];let s=o;if(e.chainId!=o)s=(0,n.getBigInt)(e.chainId,"tx.chainId"),(0,n.assertArgument)(!t||null==t.networkV||t.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(s=t)}if(!t)return s!==o&&(i.push((0,n.toBeArray)(s)),i.push("0x"),i.push("0x")),(0,n.encodeRlp)(i);let a=BigInt(27+t.yParity);return s!==o?a=r.Signature.getChainIdV(s,t.v):BigInt(t.v)!==a&&(0,n.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",t),i.push((0,n.toBeArray)(a)),i.push((0,n.toBeArray)(t.r)),i.push((0,n.toBeArray)(t.s)),(0,n.encodeRlp)(i)}(this,s);case 1:return function(e,t){const r=[b(e.chainId,"chainId"),b(e.nonce,"nonce"),b(e.gasPrice||0,"gasPrice"),b(e.gasLimit,"gasLimit"),e.to||"0x",b(e.value,"value"),e.data,v(e.accessList||[])];return t&&(r.push(b(t.yParity,"recoveryParam")),r.push((0,n.toBeArray)(t.r)),r.push((0,n.toBeArray)(t.s))),(0,n.concat)(["0x01",(0,n.encodeRlp)(r)])}(this,s);case 2:return function(e,t){const r=[b(e.chainId,"chainId"),b(e.nonce,"nonce"),b(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),b(e.maxFeePerGas||0,"maxFeePerGas"),b(e.gasLimit,"gasLimit"),e.to||"0x",b(e.value,"value"),e.data,v(e.accessList||[])];return t&&(r.push(b(t.yParity,"yParity")),r.push((0,n.toBeArray)(t.r)),r.push((0,n.toBeArray)(t.s))),(0,n.concat)(["0x02",(0,n.encodeRlp)(r)])}(this,s);case 3:return function(e,r,i){const s=[b(e.chainId,"chainId"),b(e.nonce,"nonce"),b(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),b(e.maxFeePerGas||0,"maxFeePerGas"),b(e.gasLimit,"gasLimit"),e.to||t.ZeroAddress,b(e.value,"value"),e.data,v(e.accessList||[]),b(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),w(e.blobVersionedHashes||[],"blobVersionedHashes")];return r&&(s.push(b(r.yParity,"yParity")),s.push((0,n.toBeArray)(r.r)),s.push((0,n.toBeArray)(r.s)),i)?(0,n.concat)(["0x03",(0,n.encodeRlp)([s,i.map((e=>e.data)),i.map((e=>e.commitment)),i.map((e=>e.proof))])]):(0,n.concat)(["0x03",(0,n.encodeRlp)(s)])}(this,s,i?this.blobs:null)}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ce(!0,!0)}get unsignedSerialized(){return this.#ce(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,i=null!=this.#se||this.#oe;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,n.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,n.assert)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,n.assert)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return M.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new M;if("string"==typeof e){const t=(0,n.getBytes)(e);if(t[0]>=127)return M.from(function(e){const t=(0,n.decodeRlp)(e);(0,n.assertArgument)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const i={type:0,nonce:g(t[0],"nonce"),gasPrice:y(t[1],"gasPrice"),gasLimit:y(t[2],"gasLimit"),to:p(t[3]),value:y(t[4],"value"),data:(0,n.hexlify)(t[5]),chainId:o};if(6===t.length)return i;const s=y(t[6],"v"),l=y(t[7],"r"),d=y(t[8],"s");if(l===o&&d===o)i.chainId=s;else{let e=(s-h)/a;e<o&&(e=o),i.chainId=e,(0,n.assertArgument)(e!==o||s===u||s===c,"non-canonical legacy v","v",t[6]),i.signature=r.Signature.from({r:(0,n.zeroPadValue)(t[7],32),s:(0,n.zeroPadValue)(t[8],32),v:s})}return i}(t));switch(t[0]){case 1:return M.from(function(e){const t=(0,n.decodeRlp)((0,n.getBytes)(e).slice(1));(0,n.assertArgument)(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",(0,n.hexlify)(e));const r={type:1,chainId:y(t[0],"chainId"),nonce:g(t[1],"nonce"),gasPrice:y(t[2],"gasPrice"),gasLimit:y(t[3],"gasLimit"),to:p(t[4]),value:y(t[5],"value"),data:(0,n.hexlify)(t[6]),accessList:m(t[7],"accessList")};return 8===t.length||A(r,t.slice(8)),r}(t));case 2:return M.from(function(e){const t=(0,n.decodeRlp)((0,n.getBytes)(e).slice(1));(0,n.assertArgument)(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",(0,n.hexlify)(e));const r={type:2,chainId:y(t[0],"chainId"),nonce:g(t[1],"nonce"),maxPriorityFeePerGas:y(t[2],"maxPriorityFeePerGas"),maxFeePerGas:y(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:y(t[4],"gasLimit"),to:p(t[5]),value:y(t[6],"value"),data:(0,n.hexlify)(t[7]),accessList:m(t[8],"accessList")};return 9===t.length||A(r,t.slice(9)),r}(t));case 3:return M.from(function(e){let t=(0,n.decodeRlp)((0,n.getBytes)(e).slice(1)),r="3",i=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";const e=t[1],s=t[2],o=t[3];(0,n.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,n.assertArgument)(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),(0,n.assertArgument)(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),(0,n.assertArgument)(e.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,n.assertArgument)(e.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let r=0;r<t[1].length;r++)i.push({data:e[r],commitment:s[r],proof:o[r]});t=t[0]}(0,n.assertArgument)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",(0,n.hexlify)(e));const s={type:3,chainId:y(t[0],"chainId"),nonce:g(t[1],"nonce"),maxPriorityFeePerGas:y(t[2],"maxPriorityFeePerGas"),maxFeePerGas:y(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:y(t[4],"gasLimit"),to:p(t[5]),value:y(t[6],"value"),data:(0,n.hexlify)(t[7]),accessList:m(t[8],"accessList"),maxFeePerBlobGas:y(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};i&&(s.blobs=i),(0,n.assertArgument)(null!=s.to,`invalid address for transaction type: ${r}`,"data",e),(0,n.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let o=0;o<s.blobVersionedHashes.length;o++)(0,n.assertArgument)((0,n.isHexString)(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",e);return 11===t.length||A(s,t.slice(11)),s}(t))}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new M;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=r.Signature.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,n.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,n.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,n.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,n.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}return transaction.Transaction=M,transaction}function requireTransaction(){return hasRequiredTransaction||(hasRequiredTransaction=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=e.recoverAddress=e.computeAddress=e.accessListify=void 0;var t=requireAccesslist();Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return t.accessListify}});var r=requireAddress();Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return r.computeAddress}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return r.recoverAddress}});var n=requireTransaction$1();Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return n.Transaction}})}(transaction$1)),transaction$1}function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,Object.defineProperty(message,"__esModule",{value:!0}),message.verifyMessage=message.hashMessage=void 0;const e=requireCrypto(),t=requireConstants$1(),r=requireTransaction(),n=requireUtils$6();function i(r){return"string"==typeof r&&(r=(0,n.toUtf8Bytes)(r)),(0,e.keccak256)((0,n.concat)([(0,n.toUtf8Bytes)(t.MessagePrefix),(0,n.toUtf8Bytes)(String(r.length)),r]))}return message.hashMessage=i,message.verifyMessage=function(e,t){const n=i(e);return(0,r.recoverAddress)(n,t)},message}var solidity={},hasRequiredSolidity;function requireSolidity(){if(hasRequiredSolidity)return solidity;hasRequiredSolidity=1,Object.defineProperty(solidity,"__esModule",{value:!0}),solidity.solidityPackedSha256=solidity.solidityPackedKeccak256=solidity.solidityPacked=void 0;const e=requireAddress$2(),t=requireCrypto(),r=requireUtils$6(),n=new RegExp("^bytes([0-9]+)$"),i=new RegExp("^(u?int)([0-9]*)$"),s=new RegExp("^(.*)\\[([0-9]*)\\]$");function o(t,a,u){switch(t){case"address":return u?(0,r.getBytes)((0,r.zeroPadValue)(a,32)):(0,r.getBytes)((0,e.getAddress)(a));case"string":return(0,r.toUtf8Bytes)(a);case"bytes":return(0,r.getBytes)(a);case"bool":return a=a?"0x01":"0x00",u?(0,r.getBytes)((0,r.zeroPadValue)(a,32)):(0,r.getBytes)(a)}let c=t.match(i);if(c){let e="int"===c[1],n=parseInt(c[2]||"256");return(0,r.assertArgument)((!c[2]||c[2]===String(n))&&n%8==0&&0!==n&&n<=256,"invalid number type","type",t),u&&(n=256),e&&(a=(0,r.toTwos)(a,n)),(0,r.getBytes)((0,r.zeroPadValue)((0,r.toBeArray)(a),n/8))}if(c=t.match(n),c){const e=parseInt(c[1]);return(0,r.assertArgument)(String(e)===c[1]&&0!==e&&e<=32,"invalid bytes type","type",t),(0,r.assertArgument)((0,r.dataLength)(a)===e,`invalid value for ${t}`,"value",a),u?(0,r.getBytes)((0,r.zeroPadBytes)(a,32)):a}if(c=t.match(s),c&&Array.isArray(a)){const e=c[1],n=parseInt(c[2]||String(a.length));(0,r.assertArgument)(n===a.length,`invalid array length for ${t}`,"value",a);const i=[];return a.forEach((function(t){i.push(o(e,t,!0))})),(0,r.getBytes)((0,r.concat)(i))}(0,r.assertArgument)(!1,"invalid type","type",t)}function a(e,t){(0,r.assertArgument)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const n=[];return e.forEach((function(e,r){n.push(o(e,t[r]))})),(0,r.hexlify)((0,r.concat)(n))}return solidity.solidityPacked=a,solidity.solidityPackedKeccak256=function(e,r){return(0,t.keccak256)(a(e,r))},solidity.solidityPackedSha256=function(e,r){return(0,t.sha256)(a(e,r))},solidity}var typedData={},hasRequiredTypedData,hasRequiredHash$2,hasRequiredFragments,hasRequiredAbiCoder;function requireTypedData(){if(hasRequiredTypedData)return typedData;hasRequiredTypedData=1,Object.defineProperty(typedData,"__esModule",{value:!0}),typedData.verifyTypedData=typedData.TypedDataEncoder=void 0;const e=requireAddress$2(),t=requireCrypto(),r=requireTransaction(),n=requireUtils$6(),i=requireId(),s=new Uint8Array(32);s.fill(0);const o=BigInt(-1),a=BigInt(0),u=BigInt(1),c=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const h=(0,n.toBeHex)(u,32),l=(0,n.toBeHex)(a,32),d={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},f=["name","version","chainId","verifyingContract","salt"];function p(e){return function(t){return(0,n.assertArgument)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const m={name:p("name"),version:p("version"),chainId:function(e){const t=(0,n.getBigInt)(e,"domain.chainId");return(0,n.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):(0,n.toQuantity)(t)},verifyingContract:function(t){try{return(0,e.getAddress)(t).toLowerCase()}catch(r){}(0,n.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(e){const t=(0,n.getBytes)(e,"domain.salt");return(0,n.assertArgument)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,n.hexlify)(t)}};function g(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=""===e[1],i=parseInt(e[2]);(0,n.assertArgument)(i%8==0&&0!==i&&i<=256&&e[2]===String(i),"invalid numeric width","type",r);const s=(0,n.mask)(c,t?i-1:i),h=t?(s+u)*o:a;return function(e){const i=(0,n.getBigInt)(e,"value");return(0,n.assertArgument)(i>=h&&i<=s,`value out-of-bounds for ${r}`,"value",i),(0,n.toBeHex)(t?(0,n.toTwos)(i,256):i,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(0,n.assertArgument)(0!==t&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(e){const i=(0,n.getBytes)(e);return(0,n.assertArgument)(i.length===t,`invalid length for ${r}`,"value",e),function(e){const t=(0,n.getBytes)(e),r=t.length%32;return r?(0,n.concat)([t,s.slice(r)]):(0,n.hexlify)(t)}(e)}}}switch(r){case"address":return function(t){return(0,n.zeroPadValue)((0,e.getAddress)(t),32)};case"bool":return function(e){return e?h:l};case"bytes":return function(e){return(0,t.keccak256)(e)};case"string":return function(e){return(0,i.id)(e)}}return null}function y(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}function b(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class v{primaryType;#he;get types(){return JSON.parse(this.#he)}#le;#de;constructor(e){this.#le=new Map,this.#de=new Map;const t=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach((n=>{s[n]=e[n].map((({name:t,type:r})=>{let{base:n,index:i}=b(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}})),t.set(n,new Set),r.set(n,[]),i.set(n,new Set)})),this.#he=JSON.stringify(s);for(const a in s){const i=new Set;for(const o of s[a]){(0,n.assertArgument)(!i.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(a)}`,"types",e),i.add(o.name);const s=b(o.type).base;(0,n.assertArgument)(s!==a,`circular type reference to ${JSON.stringify(s)}`,"types",e);g(s)||((0,n.assertArgument)(r.has(s),`unknown type ${JSON.stringify(s)}`,"types",e),r.get(s).push(a),t.get(a).add(s))}}const o=Array.from(r.keys()).filter((e=>0===r.get(e).length));(0,n.assertArgument)(0!==o.length,"missing primary type","types",e),(0,n.assertArgument)(1===o.length,`ambiguous primary types or unused types: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),(0,n.defineProperties)(this,{primaryType:o[0]}),function s(o,a){(0,n.assertArgument)(!a.has(o),`circular type reference to ${JSON.stringify(o)}`,"types",e),a.add(o);for(const e of t.get(o))if(r.has(e)){s(e,a);for(const t of a)i.get(t).add(e)}a.delete(o)}(this.primaryType,new Set);for(const[n,a]of i){const e=Array.from(a);e.sort(),this.#le.set(n,y(n,s[n])+e.map((e=>y(e,s[e]))).join(""))}}getEncoder(e){let t=this.#de.get(e);return t||(t=this.#fe(e),this.#de.set(e,t)),t}#fe(e){{const t=g(e);if(t)return t}const r=b(e).array;if(r){const e=r.prefix,i=this.getEncoder(e);return s=>{(0,n.assertArgument)(-1===r.count||r.count===s.length,`array length mismatch; expected length ${r.count}`,"value",s);let o=s.map(i);return this.#le.has(e)&&(o=o.map(t.keccak256)),(0,t.keccak256)((0,n.concat)(o))}}const s=this.types[e];if(s){const r=(0,i.id)(this.#le.get(e));return e=>{const i=s.map((({name:r,type:n})=>{const i=this.getEncoder(n)(e[r]);return this.#le.has(n)?(0,t.keccak256)(i):i}));return i.unshift(r),(0,n.concat)(i)}}(0,n.assertArgument)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#le.get(e);return(0,n.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,r){return(0,t.keccak256)(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(g(e))return r(e,t);const i=b(e).array;if(i)return(0,n.assertArgument)(-1===i.count||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map((e=>this._visit(i.prefix,e,r)));const s=this.types[e];if(s)return s.reduce(((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e)),{});(0,n.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new v(e)}static getPrimaryType(e){return v.from(e).primaryType}static hashStruct(e,t,r){return v.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const i=d[r];(0,n.assertArgument)(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort(((e,t)=>f.indexOf(e.name)-f.indexOf(t.name))),v.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,n.concat)(["0x1901",v.hashDomain(e),v.from(t).hash(r)])}static hash(e,r,n){return(0,t.keccak256)(v.encode(e,r,n))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const n in e)null==e[n]&&delete e[n];const s={};e.verifyingContract&&!(0,n.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=v.from(t);o.visit(r,((e,t)=>("address"!==e||(0,n.isHexString)(t,20)||(s[t]="0x"),t)));for(const n in s)s[n]=await i(n);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:r=o.visit(r,((e,t)=>"address"===e&&s[t]?s[t]:t))}}static getPayload(e,t,r){v.hashDomain(e);const i={},s=[];f.forEach((t=>{const r=e[t];null!=r&&(i[t]=m[t](r),s.push({name:t,type:d[t]}))}));const o=v.from(t);t=o.types;const a=Object.assign({},t);return(0,n.assertArgument)(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return(0,n.hexlify)((0,n.getBytes)(t));if(e.match(/^u?int/))return(0,n.getBigInt)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,n.assertArgument)("string"==typeof t,"invalid string","value",t),t}(0,n.assertArgument)(!1,"unsupported type","type",e)}))}}}return typedData.TypedDataEncoder=v,typedData.verifyTypedData=function(e,t,n,i){return(0,r.recoverAddress)(v.hash(e,t,n),i)},typedData}function requireHash$2(){return hasRequiredHash$2||(hasRequiredHash$2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.verifyTypedData=e.TypedDataEncoder=e.solidityPackedSha256=e.solidityPackedKeccak256=e.solidityPacked=e.verifyMessage=e.hashMessage=e.dnsEncode=e.namehash=e.isValidName=e.ensNormalize=e.id=void 0;var t=requireId();Object.defineProperty(e,"id",{enumerable:!0,get:function(){return t.id}});var r=requireNamehash();Object.defineProperty(e,"ensNormalize",{enumerable:!0,get:function(){return r.ensNormalize}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return r.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return r.namehash}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return r.dnsEncode}});var n=requireMessage();Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return n.hashMessage}}),Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return n.verifyMessage}});var i=requireSolidity();Object.defineProperty(e,"solidityPacked",{enumerable:!0,get:function(){return i.solidityPacked}}),Object.defineProperty(e,"solidityPackedKeccak256",{enumerable:!0,get:function(){return i.solidityPackedKeccak256}}),Object.defineProperty(e,"solidityPackedSha256",{enumerable:!0,get:function(){return i.solidityPackedSha256}});var s=requireTypedData();Object.defineProperty(e,"TypedDataEncoder",{enumerable:!0,get:function(){return s.TypedDataEncoder}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return s.verifyTypedData}})}(hash$3)),hash$3}function requireFragments(){if(hasRequiredFragments)return fragments;hasRequiredFragments=1,Object.defineProperty(fragments,"__esModule",{value:!0}),fragments.StructFragment=fragments.FunctionFragment=fragments.FallbackFragment=fragments.ConstructorFragment=fragments.EventFragment=fragments.ErrorFragment=fragments.NamedFragment=fragments.Fragment=fragments.ParamType=void 0;const t=requireUtils$6(),r=requireHash$2();function n(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const i=n("external public payable override".split(" ")),s="constant external internal payable private public pure view override",o=n(s.split(" ")),a="constructor error event fallback function receive struct",u=n(a.split(" ")),c="calldata memory storage payable indexed",h=n(c.split(" ")),l=n([a,c,"tuple returns",s].join(" ").split(" ")),d={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},f=new RegExp("^(\\s*)"),p=new RegExp("^([0-9]+)"),m=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),g=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),y=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class b{#N;#pe;get offset(){return this.#N}get length(){return this.#pe.length-this.#N}constructor(e){this.#N=0,this.#pe=e.slice()}clone(){return new b(this.#pe)}reset(){this.#N=0}#me(e=0,t=0){return new b(this.#pe.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#me(this.#N+1,e.match+1);return this.#N=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#N<e.match-1;){const e=this.peek().linkNext;t.push(this.#me(this.#N+1,e)),this.#N=e}return this.#N=e.match+1,t}peek(){if(this.#N>=this.#pe.length)throw new Error("out-of-bounds");return this.#pe[this.#N]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#N++,e}toString(){const e=[];for(let t=this.#N;t<this.#pe.length;t++){const r=this.#pe[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function v(e){const r=[],n=t=>{const r=o<e.length?JSON.stringify(e[o]):"$EOI";throw new Error(`invalid token ${r} at ${o}: ${t}`)};let i=[],s=[],o=0;for(;o<e.length;){let a=e.substring(o),u=a.match(f);u&&(o+=u[1].length,a=e.substring(o));const c={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};r.push(c);let h=d[a[0]]||"";if(h){if(c.type=h,c.text=a[0],o++,"OPEN_PAREN"===h)i.push(r.length-1),s.push(r.length-1);else if("CLOSE_PAREN"==h)0===i.length&&n("no matching open bracket"),c.match=i.pop(),r[c.match].match=r.length-1,c.depth--,c.linkBack=s.pop(),r[c.linkBack].linkNext=r.length-1;else if("COMMA"===h)c.linkBack=s.pop(),r[c.linkBack].linkNext=r.length-1,s.push(r.length-1);else if("OPEN_BRACKET"===h)c.type="BRACKET";else if("CLOSE_BRACKET"===h){let e=r.pop().text;if(r.length>0&&"NUMBER"===r[r.length-1].type){const n=r.pop().text;e=n+e,r[r.length-1].value=(0,t.getNumber)(n)}if(0===r.length||"BRACKET"!==r[r.length-1].type)throw new Error("missing opening bracket");r[r.length-1].text+=e}}else if(u=a.match(m),u){if(c.text=u[1],o+=c.text.length,l.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(y)){c.type="TYPE";continue}c.type="ID"}else{if(u=a.match(p),!u)throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${o}`);c.text=u[1],c.type="NUMBER",o+=c.text.length}}return new b(r.map((e=>Object.freeze(e))))}function w(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function A(e,t){if(t.peekKeyword(u)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function M(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function E(e){let t=M(e,o);return w(t,n("constant payable nonpayable".split(" "))),w(t,n("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function _(e,t){return e.popParams().map((e=>L.from(e,t)))}function S(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,t.getBigInt)(e.pop().text);throw new Error("invalid gas")}return null}function x(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const R=new RegExp(/^(.*)\[([0-9]*)\]$/);function k(e){const r=e.match(y);if((0,t.assertArgument)(r,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(r[2]){const n=parseInt(r[2]);(0,t.assertArgument)(0!==n&&n<=32,"invalid bytes length","type",e)}else if(r[3]){const n=parseInt(r[3]);(0,t.assertArgument)(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",e)}return e}const P={},B=Symbol.for("_ethers_internal"),T="_ParamTypeInternal",C="_ErrorInternal",O="_EventInternal",q="_ConstructorInternal",I="_FallbackInternal",N="_FunctionInternal",$="_StructInternal";class L{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,i,s,o,a,u){if((0,t.assertPrivate)(e,P,"ParamType"),Object.defineProperty(this,B,{value:T}),o&&(o=Object.freeze(o.slice())),"array"===i){if(null==a||null==u)throw new Error("")}else if(null!=a||null!=u)throw new Error("");if("tuple"===i){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");(0,t.defineProperties)(this,{name:r,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:u})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#ge(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,n)=>{i.#ge(e,t,r,(e=>{s[n]=e}))})),void n(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,n)=>{i[n].#ge(e,t,r,(e=>{s[n]=e}))})),void n(s)}const i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){const r=[],n=[e];return this.#ge(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,r){if(L.isParamType(e))return e;if("string"==typeof e)try{return L.from(v(e),r)}catch(u){(0,t.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof b){let t="",i="",s=null;M(e,n(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(i="tuple",s=e.popParams().map((e=>L.from(e))),t=`tuple(${s.map((e=>e.format())).join(",")})`):(t=k(e.popType("TYPE")),i=t);let o=null,a=null;for(;e.length&&e.peekType("BRACKET");){const r=e.pop();o=new L(P,"",t,i,null,s,a,o),a=r.value,t+=r.text,i="array",s=null}let u=null;if(M(e,h).has("indexed")){if(!r)throw new Error("");u=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new L(P,c,t,i,u,s,a,o)}const i=e.name;(0,t.assertArgument)(!i||"string"==typeof i&&i.match(g),"invalid name","obj.name",i);let s=e.indexed;null!=s&&((0,t.assertArgument)(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let o=e.type,a=o.match(R);if(a){const t=parseInt(a[2]||"-1"),r=L.from({type:a[1],components:e.components});return new L(P,i||"",o,"array",s,null,t,r)}if("tuple"===o||o.startsWith("tuple(")||o.startsWith("(")){const t=null!=e.components?e.components.map((e=>L.from(e))):null;return new L(P,i||"",o,"tuple",s,t,null,null)}return o=k(e.type),new L(P,i||"",o,o,s,null,null,null)}static isParamType(e){return e&&e[B]===T}}fragments.ParamType=L;class j{type;inputs;constructor(e,r,n){(0,t.assertPrivate)(e,P,"Fragment"),n=Object.freeze(n.slice()),(0,t.defineProperties)(this,{type:r,inputs:n})}static from(r){if("string"==typeof r){try{j.from(JSON.parse(r))}catch(e){}return j.from(v(r))}if(r instanceof b){switch(r.peekKeyword(u)){case"constructor":return z.from(r);case"error":return F.from(r);case"event":return H.from(r);case"fallback":case"receive":return G.from(r);case"function":return K.from(r);case"struct":return V.from(r)}}else if("object"==typeof r){switch(r.type){case"constructor":return z.from(r);case"error":return F.from(r);case"event":return H.from(r);case"fallback":case"receive":return G.from(r);case"function":return K.from(r);case"struct":return V.from(r)}(0,t.assert)(!1,`unsupported type: ${r.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,t.assertArgument)(!1,"unsupported frgament object","obj",r)}static isConstructor(e){return z.isFragment(e)}static isError(e){return F.isFragment(e)}static isEvent(e){return H.isFragment(e)}static isFunction(e){return K.isFragment(e)}static isStruct(e){return V.isFragment(e)}}fragments.Fragment=j;class U extends j{name;constructor(e,r,n,i){super(e,r,i),(0,t.assertArgument)("string"==typeof n&&n.match(g),"invalid identifier","name",n),i=Object.freeze(i.slice()),(0,t.defineProperties)(this,{name:n})}}function D(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}fragments.NamedFragment=U;class F extends U{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,B,{value:C})}get selector(){return(0,r.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+D(e,this.inputs)),t.join(" ")}static from(e){if(F.isFragment(e))return e;if("string"==typeof e)return F.from(v(e));if(e instanceof b){const t=A("error",e),r=_(e);return x(e),new F(P,t,r)}return new F(P,e.name,e.inputs?e.inputs.map(L.from):[])}static isFragment(e){return e&&e[B]===C}}fragments.ErrorFragment=F;class H extends U{anonymous;constructor(e,r,n,i){super(e,"event",r,n),Object.defineProperty(this,B,{value:O}),(0,t.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,r.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+D(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>L.from(e)));return new H(P,e,t,!1).topicHash}static from(e){if(H.isFragment(e))return e;if("string"==typeof e)try{return H.from(v(e))}catch(r){(0,t.assertArgument)(!1,"invalid event fragment","obj",e)}else if(e instanceof b){const t=A("event",e),r=_(e,!0),i=!!M(e,n(["anonymous"])).has("anonymous");return x(e),new H(P,t,r,i)}return new H(P,e.name,e.inputs?e.inputs.map((e=>L.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[B]===O}}fragments.EventFragment=H;class z extends j{payable;gas;constructor(e,r,n,i,s){super(e,r,n),Object.defineProperty(this,B,{value:q}),(0,t.defineProperties)(this,{payable:i,gas:s})}format(e){if((0,t.assert)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const r=[`constructor${D(e,this.inputs)}`];return this.payable&&r.push("payable"),null!=this.gas&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(z.isFragment(e))return e;if("string"==typeof e)try{return z.from(v(e))}catch(r){(0,t.assertArgument)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof b){M(e,n(["constructor"]));const t=_(e),r=!!M(e,i).has("payable"),s=S(e);return x(e),new z(P,"constructor",t,r,s)}return new z(P,"constructor",e.inputs?e.inputs.map(L.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[B]===q}}fragments.ConstructorFragment=z;class G extends j{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,B,{value:I}),(0,t.defineProperties)(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(G.isFragment(e))return e;if("string"==typeof e)try{return G.from(v(e))}catch(r){(0,t.assertArgument)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof b){const r=e.toString(),i=e.peekKeyword(n(["fallback","receive"]));(0,t.assertArgument)(i,"type must be fallback or receive","obj",r);if("receive"===e.popKeyword(n(["fallback","receive"]))){const r=_(e);return(0,t.assertArgument)(0===r.length,"receive cannot have arguments","obj.inputs",r),M(e,n(["payable"])),x(e),new G(P,[],!0)}let s=_(e);s.length?(0,t.assertArgument)(1===s.length&&"bytes"===s[0].type,"invalid fallback inputs","obj.inputs",s.map((e=>e.format("minimal"))).join(", ")):s=[L.from("bytes")];const o=E(e);if((0,t.assertArgument)("nonpayable"===o||"payable"===o,"fallback cannot be constants","obj.stateMutability",o),M(e,n(["returns"])).has("returns")){const r=_(e);(0,t.assertArgument)(1===r.length&&"bytes"===r[0].type,"invalid fallback outputs","obj.outputs",r.map((e=>e.format("minimal"))).join(", "))}return x(e),new G(P,s,"payable"===o)}if("receive"===e.type)return new G(P,[],!0);if("fallback"===e.type){const t=[L.from("bytes")],r="payable"===e.stateMutability;return new G(P,t,r)}(0,t.assertArgument)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[B]===I}}fragments.FallbackFragment=G;class K extends U{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,i,s,o){super(e,"function",r,i),Object.defineProperty(this,B,{value:N}),s=Object.freeze(s.slice());const a="view"===n||"pure"===n,u="payable"===n;(0,t.defineProperties)(this,{constant:a,gas:o,outputs:s,payable:u,stateMutability:n})}get selector(){return(0,r.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+D(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(D(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>L.from(e)));return new K(P,e,"view",t,[],null).selector}static from(e){if(K.isFragment(e))return e;if("string"==typeof e)try{return K.from(v(e))}catch(i){(0,t.assertArgument)(!1,"invalid function fragment","obj",e)}else if(e instanceof b){const t=A("function",e),r=_(e),i=E(e);let s=[];M(e,n(["returns"])).has("returns")&&(s=_(e));const o=S(e);return x(e),new K(P,t,i,r,s,o)}let r=e.stateMutability;return null==r&&(r="payable","boolean"==typeof e.constant?(r="view",e.constant||(r="payable","boolean"!=typeof e.payable||e.payable||(r="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(r="nonpayable")),new K(P,e.name,r,e.inputs?e.inputs.map(L.from):[],e.outputs?e.outputs.map(L.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[B]===N}}fragments.FunctionFragment=K;class V extends U{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,B,{value:$})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return V.from(v(e))}catch(r){(0,t.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof b){const t=A("struct",e),r=_(e);return x(e),new V(P,t,r)}return new V(P,e.name,e.inputs?e.inputs.map(L.from):[])}static isFragment(e){return e&&e[B]===$}}return fragments.StructFragment=V,fragments}function requireAbiCoder(){if(hasRequiredAbiCoder)return abiCoder;hasRequiredAbiCoder=1,Object.defineProperty(abiCoder,"__esModule",{value:!0}),abiCoder.AbiCoder=void 0;const e=requireUtils$6(),t=requireAbstractCoder(),r=requireAddress$1(),n=requireArray(),i=requireBoolean(),s=requireBytes(),o=requireFixedBytes(),a=require_null(),u=requireNumber(),c=requireString(),h=requireTuple(),l=requireFragments(),d=requireAddress$2(),f=requireUtils$6(),p=new Map;p.set(0,"GENERIC_PANIC"),p.set(1,"ASSERT_FALSE"),p.set(17,"OVERFLOW"),p.set(18,"DIVIDE_BY_ZERO"),p.set(33,"ENUM_RANGE_ERROR"),p.set(34,"BAD_STORAGE_DATA"),p.set(49,"STACK_UNDERFLOW"),p.set(50,"ARRAY_RANGE_ERROR"),p.set(65,"OUT_OF_MEMORY"),p.set(81,"UNINITIALIZED_FUNCTION_CALL");const m=new RegExp(/^bytes([0-9]*)$/),g=new RegExp(/^(u?int)([0-9]*)$/);let y=null,b=1024;class v{#ye(t){if(t.isArray())return new n.ArrayCoder(this.#ye(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new h.TupleCoder(t.components.map((e=>this.#ye(e))),t.name);switch(t.baseType){case"address":return new r.AddressCoder(t.name);case"bool":return new i.BooleanCoder(t.name);case"string":return new c.StringCoder(t.name);case"bytes":return new s.BytesCoder(t.name);case"":return new a.NullCoder(t.name)}let l=t.type.match(g);if(l){let r=parseInt(l[2]||"256");return(0,e.assertArgument)(0!==r&&r<=256&&r%8==0,"invalid "+l[1]+" bit length","param",t),new u.NumberCoder(r/8,"int"===l[1],t.name)}if(l=t.type.match(m),l){let r=parseInt(l[1]);return(0,e.assertArgument)(0!==r&&r<=32,"invalid bytes length","param",t),new o.FixedBytesCoder(r,t.name)}(0,e.assertArgument)(!1,"invalid type","type",t.type)}getDefaultValue(e){const t=e.map((e=>this.#ye(l.ParamType.from(e))));return new h.TupleCoder(t,"_").defaultValue()}encode(r,n){(0,e.assertArgumentCount)(n.length,r.length,"types/values length mismatch");const i=r.map((e=>this.#ye(l.ParamType.from(e)))),s=new h.TupleCoder(i,"_"),o=new t.Writer;return s.encode(o,n),o.data}decode(e,r,n){const i=e.map((e=>this.#ye(l.ParamType.from(e))));return new h.TupleCoder(i,"_").decode(new t.Reader(r,n,b))}static _setDefaultMaxInflation(t){(0,e.assertArgument)("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),b=t}static defaultAbiCoder(){return null==y&&(y=new v),y}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",s=null,o=null;if(r){i="execution reverted";const e=(0,f.getBytes)(r);if(r=(0,f.hexlify)(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,f.hexlify)(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(u){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,f.hexlify)(e.slice(0,4)))try{const t=Number(n.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${p.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(u){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?(0,d.getAddress)(t.to):null,data:t.data||"0x"};return t.from&&(a.from=(0,d.getAddress)(t.from)),(0,f.makeError)(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:a,invocation:null,revert:o})}(e,t,r,v.defaultAbiCoder())}}return abiCoder.AbiCoder=v,abiCoder}var bytes32={},hasRequiredBytes32;function requireBytes32(){if(hasRequiredBytes32)return bytes32;hasRequiredBytes32=1,Object.defineProperty(bytes32,"__esModule",{value:!0}),bytes32.decodeBytes32String=bytes32.encodeBytes32String=void 0;const e=requireUtils$6();return bytes32.encodeBytes32String=function(t){const r=(0,e.toUtf8Bytes)(t);if(r.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,e.zeroPadBytes)(r,32)},bytes32.decodeBytes32String=function(t){const r=(0,e.getBytes)(t,"bytes");if(32!==r.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==r[31])throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;0===r[n-1];)n--;return(0,e.toUtf8String)(r.slice(0,n))},bytes32}var _interface={},hasRequired_interface,hasRequiredAbi;function require_interface(){return hasRequired_interface||(hasRequired_interface=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Interface=t.Indexed=t.ErrorDescription=t.TransactionDescription=t.LogDescription=t.Result=t.checkResultErrors=void 0;const r=requireCrypto(),n=requireHash$2(),i=requireUtils$6(),s=requireAbiCoder(),o=requireAbstractCoder();Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return o.Result}});const a=requireFragments(),u=requireTyped();class c{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,s=e.format();(0,i.defineProperties)(this,{fragment:e,name:n,signature:s,topic:t,args:r})}}t.LogDescription=c;class h{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const s=e.name,o=e.format();(0,i.defineProperties)(this,{fragment:e,name:s,args:r,signature:o,selector:t,value:n})}}t.TransactionDescription=h;class l{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,s=e.format();(0,i.defineProperties)(this,{fragment:e,name:n,args:r,signature:s,selector:t})}}t.ErrorDescription=l;class d{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,i.defineProperties)(this,{hash:e,_isIndexed:!0})}}t.Indexed=d;const f={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},p={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&f[e.toString()]&&(t=f[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class m{fragments;deploy;fallback;receive;#be;#ve;#we;#Ae;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#we=new Map,this.#be=new Map,this.#ve=new Map;const r=[];for(const i of t)try{r.push(a.Fragment.from(i))}catch(o){}(0,i.defineProperties)(this,{fragments:Object.freeze(r)});let n=null,s=!1;this.#Ae=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy)return;return void(0,i.defineProperties)(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:((0,i.assertArgument)(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,s=n.payable));case"function":r=this.#we;break;case"event":r=this.#ve;break;case"error":r=this.#be;break;default:return}const o=e.format();r.has(o)||r.set(o,e)})),this.deploy||(0,i.defineProperties)(this,{deploy:a.ConstructorFragment.from("constructor()")}),(0,i.defineProperties)(this,{fallback:n,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return s.AbiCoder.defaultAbiCoder()}#Me(e,t,r){if((0,i.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#we.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#we)t.split("(")[0]===e&&n.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;u.Typed.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let t=n.length-1;t>=0;t--){const e=n[t].inputs.length;e===r||i&&e===r-1||n.splice(t,1)}for(let s=n.length-1;s>=0;s--){const e=n[s].inputs;for(let r=0;r<t.length;r++)if(u.Typed.isTyped(t[r])){if(r>=e.length){if("overrides"===t[r].type)continue;n.splice(s,1);break}if(t[r].type!==e[r].baseType){n.splice(s,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){const t=n.map((e=>JSON.stringify(e.format()))).join(", ");(0,i.assertArgument)(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}const n=this.#we.get(a.FunctionFragment.from(e).format());return n||null}getFunctionName(e){const t=this.#Me(e,null,!1);return(0,i.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#Me(e,null,!1)}getFunction(e,t){return this.#Me(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#we.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#we.get(n),r)}}#Ee(e,t,r){if((0,i.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#ve.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#ve)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(u.Typed.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){const t=n.map((e=>JSON.stringify(e.format()))).join(", ");(0,i.assertArgument)(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}const n=this.#ve.get(a.EventFragment.from(e).format());return n||null}getEventName(e){const t=this.#Ee(e,null,!1);return(0,i.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#Ee(e,null,!1)}getEvent(e,t){return this.#Ee(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#ve.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#ve.get(n),r)}}getError(e,t){if((0,i.isHexString)(e)){const t=e.toLowerCase();if(p[t])return a.ErrorFragment.from(p[t].signature);for(const e of this.#be.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#be)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?a.ErrorFragment.from("error Error(string)"):"Panic"===e?a.ErrorFragment.from("error Panic(uint256)"):null;if(t.length>1){const r=t.map((e=>JSON.stringify(e.format()))).join(", ");(0,i.assertArgument)(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=a.ErrorFragment.from(e).format()))return a.ErrorFragment.from("error Error(string)");if("Panic(uint256)"===e)return a.ErrorFragment.from("error Panic(uint256)");const r=this.#be.get(e);return r||null}forEachError(e){const t=Array.from(this.#be.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#be.get(n),r)}}_decodeParams(e,t){return this.#Ae.decode(e,t)}_encodeParams(e,t){return this.#Ae.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,i.assertArgument)(t,"unknown error","fragment",e),e=t}return(0,i.assertArgument)((0,i.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,i.dataSlice)(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,i.assertArgument)(t,"unknown error","fragment",e),e=t}return(0,i.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,i.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,i.assertArgument)((0,i.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,i.dataSlice)(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,i.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,i.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,i.assertArgument)(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=(0,i.getBytesCopy)(t);if(n.length%32==0)try{return this.#Ae.decode(e.outputs,n)}catch(s){r="could not decode result data"}(0,i.assert)(!1,r,"BAD_DATA",{value:(0,i.hexlify)(n),info:{method:e.name,signature:e.format()}})}makeError(t,r){const n=(0,i.getBytes)(t,"data"),o=s.AbiCoder.getBuiltinCallException("call",r,n);if(o.message.startsWith("execution reverted (unknown custom error)")){const t=(0,i.hexlify)(n.slice(0,4)),r=this.getError(t);if(r)try{const e=this.#Ae.decode(r.inputs,n.slice(4));o.revert={name:r.name,signature:r.format(),args:e},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch(e){o.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(o.invocation={method:a.name,signature:a.signature,args:a.args}),o}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,i.assertArgument)(t,"unknown function","fragment",e),e=t}return(0,i.hexlify)(this.#Ae.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,i.assertArgument)(t,"unknown event","eventFragment",e),e=t}(0,i.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const s=[];e.anonymous||s.push(e.topicHash);const o=(e,t)=>"string"===e.type?(0,n.id)(t):"bytes"===e.type?(0,r.keccak256)((0,i.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=(0,i.toBeHex)(t):e.type.match(/^bytes/)?t=(0,i.zeroPadBytes)(t,32):"address"===e.type&&this.#Ae.encode(["address"],[t]),(0,i.zeroPadValue)((0,i.hexlify)(t),32));for(t.forEach(((t,r)=>{const n=e.inputs[r];n.indexed?null==t?s.push(null):"array"===n.baseType||"tuple"===n.baseType?(0,i.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+n.name,t):Array.isArray(t)?s.push(t.map((e=>o(n,e)))):s.push(o(n,t)):(0,i.assertArgument)(null==t,"cannot filter non-indexed parameters; must be null","contract."+n.name,t)}));s.length&&null===s[s.length-1];)s.pop();return s}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,i.assertArgument)(t,"unknown event","eventFragment",e),e=t}const s=[],o=[],a=[];return e.anonymous||s.push(e.topicHash),(0,i.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const u=t[i];if(e.indexed)if("string"===e.type)s.push((0,n.id)(u));else if("bytes"===e.type)s.push((0,r.keccak256)(u));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");s.push(this.#Ae.encode([e.type],[u]))}else o.push(e),a.push(u)})),{data:this.#Ae.encode(o,a),topics:s}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);(0,i.assertArgument)(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;(0,i.assertArgument)((0,i.isHexString)(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],s=[],u=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(a.ParamType.from({type:"bytes32",name:e.name})),u.push(!0)):(n.push(e),u.push(!1)):(s.push(e),u.push(!1))}));const c=null!=r?this.#Ae.decode(n,(0,i.concat)(r)):null,h=this.#Ae.decode(s,t,!0),l=[],f=[];let p=0,m=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==c)r=new d(null);else if(u[t])r=new d(c[m++]);else try{r=c[m++]}catch(n){r=n}else try{r=h[p++]}catch(n){r=n}l.push(r),f.push(e.name||null)})),o.Result.fromItems(l,f)}parseTransaction(e){const t=(0,i.getBytes)(e.data,"tx.data"),r=(0,i.getBigInt)(null!=e.value?e.value:0,"tx.value"),n=this.getFunction((0,i.hexlify)(t.slice(0,4)));if(!n)return null;const s=this.#Ae.decode(n.inputs,t.slice(4));return new h(n,n.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new c(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=(0,i.hexlify)(e),r=this.getError((0,i.dataSlice)(t,0,4));if(!r)return null;const n=this.#Ae.decode(r.inputs,(0,i.dataSlice)(t,4));return new l(r,r.selector,n)}static from(e){return e instanceof m?e:"string"==typeof e?new m(JSON.parse(e)):"function"==typeof e.formatJson?new m(e.formatJson()):"function"==typeof e.format?new m(e.format("json")):new m(e)}}t.Interface=m}(_interface)),_interface}function requireAbi(){return hasRequiredAbi||(hasRequiredAbi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Typed=e.Result=e.TransactionDescription=e.LogDescription=e.ErrorDescription=e.Interface=e.Indexed=e.checkResultErrors=e.StructFragment=e.ParamType=e.NamedFragment=e.FunctionFragment=e.Fragment=e.FallbackFragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.encodeBytes32String=e.decodeBytes32String=e.AbiCoder=void 0;var t=requireAbiCoder();Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return t.AbiCoder}});var r=requireBytes32();Object.defineProperty(e,"decodeBytes32String",{enumerable:!0,get:function(){return r.decodeBytes32String}}),Object.defineProperty(e,"encodeBytes32String",{enumerable:!0,get:function(){return r.encodeBytes32String}});var n=requireFragments();Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(e,"FallbackFragment",{enumerable:!0,get:function(){return n.FallbackFragment}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(e,"NamedFragment",{enumerable:!0,get:function(){return n.NamedFragment}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),Object.defineProperty(e,"StructFragment",{enumerable:!0,get:function(){return n.StructFragment}});var i=require_interface();Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(e,"ErrorDescription",{enumerable:!0,get:function(){return i.ErrorDescription}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return i.Result}});var s=requireTyped();Object.defineProperty(e,"Typed",{enumerable:!0,get:function(){return s.Typed}})}(abi)),abi}var contract$1={},contract={},provider={},hasRequiredProvider;function requireProvider(){if(hasRequiredProvider)return provider;hasRequiredProvider=1,Object.defineProperty(provider,"__esModule",{value:!0}),provider.TransactionResponse=provider.TransactionReceipt=provider.Log=provider.Block=provider.copyRequest=provider.FeeData=void 0;const e=requireUtils$6(),t=requireTransaction(),r=BigInt(0);function n(e){return e??null}function i(e){return null==e?null:e.toString()}provider.FeeData=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,r,i){(0,e.defineProperties)(this,{gasPrice:n(t),maxFeePerGas:n(r),maxPriorityFeePerGas:n(i)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:i(e),maxFeePerGas:i(t),maxPriorityFeePerGas:i(r)}}},provider.copyRequest=function(r){const n={};r.to&&(n.to=r.to),r.from&&(n.from=r.from),r.data&&(n.data=(0,e.hexlify)(r.data));const i="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const t of i)t in r&&null!=r[t]&&(n[t]=(0,e.getBigInt)(r[t],`request.${t}`));const s="type,nonce".split(/,/);for(const t of s)t in r&&null!=r[t]&&(n[t]=(0,e.getNumber)(r[t],`request.${t}`));return r.accessList&&(n.accessList=(0,t.accessListify)(r.accessList)),"blockTag"in r&&(n.blockTag=r.blockTag),"enableCcipRead"in r&&(n.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(n.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(n.kzg=r.kzg),"blobs"in r&&r.blobs&&(n.blobs=r.blobs.map((t=>(0,e.isBytesLike)(t)?(0,e.hexlify)(t):Object.assign({},t)))),n};class s{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#_e;constructor(t,r){this.#_e=t.transactions.map((e=>"string"!=typeof e?new u(e,r):e)),(0,e.defineProperties)(this,{provider:r,hash:n(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:n(t.prevRandao),extraData:t.extraData,baseFeePerGas:n(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#_e.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const t=this.#_e.slice();return 0===t.length?[]:((0,e.assert)("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:s,hash:o,miner:a,prevRandao:u,nonce:c,number:h,parentHash:l,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:i(e),difficulty:i(t),extraData:r,gasLimit:i(n),gasUsed:i(s),blobGasUsed:i(this.blobGasUsed),excessBlobGas:i(this.excessBlobGas),hash:o,miner:a,prevRandao:u,nonce:c,number:h,parentHash:l,timestamp:m,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#_e.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#_e[e];else{const r=e.toLowerCase();for(const e of this.#_e){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(t){const r=this.prefetchedTransactions;if("number"==typeof t)return r[t];t=t.toLowerCase();for(const e of r)if(e.hash===t)return e;(0,e.assertArgument)(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}provider.Block=s;class o{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,r){this.provider=r;const n=Object.freeze(t.topics.slice());(0,e.defineProperties)(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:u}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return(0,e.assert)(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return(0,e.assert)(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return(0,e.assert)(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}provider.Log=o;class a{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Se;constructor(t,n){this.#Se=Object.freeze(t.logs.map((e=>new o(e,n))));let i=r;null!=t.effectiveGasPrice?i=t.effectiveGasPrice:null!=t.gasPrice&&(i=t.gasPrice),(0,e.defineProperties)(this,{provider:n,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:i,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#Se}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:s,blockHash:o,blockNumber:a,logsBloom:u,logs:c,status:h,root:l}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:i(this.cumulativeGasUsed),from:t,gasPrice:i(this.gasPrice),blobGasUsed:i(this.blobGasUsed),blobGasPrice:i(this.blobGasPrice),gasUsed:i(this.gasUsed),hash:n,index:s,logs:c,logsBloom:u,root:l,status:h,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return h(this)}reorderedEvent(t){return(0,e.assert)(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),c(this,t)}}provider.TransactionReceipt=a;class u{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#xe;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#xe=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:s,to:o,from:a,nonce:u,data:c,signature:h,accessList:l,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:l,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:i(this.chainId),data:c,from:a,gasLimit:i(this.gasLimit),gasPrice:i(this.gasPrice),hash:n,maxFeePerGas:i(this.maxFeePerGas),maxPriorityFeePerGas:i(this.maxPriorityFeePerGas),maxFeePerBlobGas:i(this.maxFeePerBlobGas),nonce:u,signature:h,to:o,index:r,type:s,value:i(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:r}=await(0,e.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,n){const i=t??1,s=n??0;let o=this.#xe,a=-1,u=-1===o;const c=async()=>{if(u)return null;const{blockNumber:t,nonce:n}=await(0,e.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(n<this.nonce)return void(o=t);if(u)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===a&&(a=o-3,a<this.#xe&&(a=this.#xe));a<=t;){if(u)return null;const n=await this.provider.getBlock(a,!0);if(null==n)return;for(const e of n)if(e===this.hash)return;for(let s=0;s<n.length;s++){const a=await n.getTransaction(s);if(a.from===this.from&&a.nonce===this.nonce){if(u)return null;const n=await this.provider.getTransactionReceipt(a.hash);if(null==n)return;if(t-n.blockNumber+1<i)return;let s="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?s="repriced":"0x"===a.data&&a.from===a.to&&a.value===r&&(s="cancelled"),(0,e.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===s||"cancelled"===s,reason:s,replacement:a.replaceableTransaction(o),hash:a.hash,receipt:n})}}a++}},h=t=>{if(null==t||0!==t.status)return t;(0,e.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},l=await this.provider.getTransactionReceipt(this.hash);if(0===i)return h(l);if(l){if(await l.confirmations()>=i)return h(l)}else if(await c(),0===i)return null;const d=new Promise(((t,r)=>{const n=[],a=()=>{n.forEach((e=>e()))};if(n.push((()=>{u=!0})),s>0){const t=setTimeout((()=>{a(),r((0,e.makeError)("wait for transaction timeout","TIMEOUT"))}),s);n.push((()=>{clearTimeout(t)}))}const l=async e=>{if(await e.confirmations()>=i){a();try{t(h(e))}catch(n){r(n)}}};if(n.push((()=>{this.provider.off(this.hash,l)})),this.provider.on(this.hash,l),o>=0){const t=async()=>{try{await c()}catch(n){if((0,e.isError)(n,"TRANSACTION_REPLACED"))return a(),void r(n)}u||this.provider.once("block",t)};n.push((()=>{this.provider.off("block",t)})),this.provider.once("block",t)}}));return await d}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,e.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h(this)}reorderedEvent(t){return(0,e.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,e.assert)(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(this,t)}replaceableTransaction(t){(0,e.assertArgument)(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const r=new u(this,this.provider);return r.#xe=t,r}}function c(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function h(e){return{orphan:"drop-transaction",tx:e}}return provider.TransactionResponse=u,provider}var wrappers={},hasRequiredWrappers,hasRequiredContract$1;function requireWrappers(){if(hasRequiredWrappers)return wrappers;hasRequiredWrappers=1,Object.defineProperty(wrappers,"__esModule",{value:!0}),wrappers.ContractEventPayload=wrappers.ContractUnknownEventPayload=wrappers.ContractTransactionResponse=wrappers.ContractTransactionReceipt=wrappers.UndecodedEventLog=wrappers.EventLog=void 0;const e=requireProvider(),t=requireUtils$6();class r extends e.Log{interface;fragment;args;constructor(e,r,n){super(e,e.provider);const i=r.decodeEventLog(n,e.data,e.topics);(0,t.defineProperties)(this,{args:i,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}wrappers.EventLog=r;class n extends e.Log{error;constructor(e,r){super(e,e.provider),(0,t.defineProperties)(this,{error:r})}}wrappers.UndecodedEventLog=n;class i extends e.TransactionReceipt{#Re;constructor(e,t,r){super(r,t),this.#Re=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#Re.getEvent(e.topics[0]):null;if(t)try{return new r(e,this.#Re,t)}catch(i){return new n(e,i)}return e}))}}wrappers.ContractTransactionReceipt=i;class s extends e.TransactionResponse{#Re;constructor(e,t,r){super(r,t),this.#Re=e}async wait(e,t){const r=await super.wait(e,t);return null==r?null:new i(this.#Re,this.provider,r)}}wrappers.ContractTransactionResponse=s;class o extends t.EventPayload{log;constructor(e,r,n,i){super(e,r,n),(0,t.defineProperties)(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}wrappers.ContractUnknownEventPayload=o;return wrappers.ContractEventPayload=class extends o{constructor(e,n,i,s,o){super(e,n,i,new r(o,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,t.defineProperties)(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},wrappers}function requireContract$1(){if(hasRequiredContract$1)return contract;hasRequiredContract$1=1,Object.defineProperty(contract,"__esModule",{value:!0}),contract.Contract=contract.BaseContract=contract.resolveArgs=contract.copyOverrides=void 0;const e=requireAbi(),t=requireAddress$2(),r=requireProvider(),n=requireUtils$6(),i=requireWrappers(),s=BigInt(0);function o(e){return e&&"function"==typeof e.call}function a(e){return e&&"function"==typeof e.estimateGas}function u(e){return e&&"function"==typeof e.resolveName}function c(e){return e&&"function"==typeof e.sendTransaction}function h(e){if(null!=e){if(u(e))return e;if(e.provider)return e.provider}}class l{#ke;fragment;constructor(e,r,i){if((0,n.defineProperties)(this,{fragment:r}),r.inputs.length<i.length)throw new Error("too many arguments");const s=d(e.runner,"resolveName"),o=u(s)?s:null;this.#ke=async function(){const n=await Promise.all(r.inputs.map(((e,r)=>null==i[r]?null:e.walkAsync(i[r],((e,r)=>"address"===e?Array.isArray(r)?Promise.all(r.map((e=>(0,t.resolveAddress)(e,o)))):(0,t.resolveAddress)(r,o):r)))));return e.interface.encodeFilterTopics(r,n)}()}getTopicFilter(){return this.#ke}}function d(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function f(e){return null==e?null:e.provider||null}async function p(t,i){const s=e.Typed.dereference(t,"overrides");(0,n.assertArgument)("object"==typeof s,"invalid overrides parameter","overrides",t);const o=(0,r.copyRequest)(s);return(0,n.assertArgument)(null==o.to||(i||[]).indexOf("to")>=0,"cannot override to","overrides.to",o.to),(0,n.assertArgument)(null==o.data||(i||[]).indexOf("data")>=0,"cannot override data","overrides.data",o.data),o.from&&(o.from=o.from),o}async function m(r,n,i){const s=d(r,"resolveName"),o=u(s)?s:null;return await Promise.all(n.map(((r,n)=>r.walkAsync(i[n],((r,n)=>(n=e.Typed.dereference(n,r),"address"===r?(0,t.resolveAddress)(n,o):n))))))}function g(e){const r=async function(r){const i=await p(r,["data"]);i.to=await e.getAddress(),i.from&&(i.from=await(0,t.resolveAddress)(i.from,h(e.runner)));const o=e.interface,a=(0,n.getBigInt)(i.value||s,"overrides.value")===s,u="0x"===(i.data||"0x");!o.fallback||o.fallback.payable||!o.receive||u||a||(0,n.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",r),(0,n.assertArgument)(o.fallback||u,"cannot send data to receive-only contract","overrides.data",i.data);const c=o.receive||o.fallback&&o.fallback.payable;return(0,n.assertArgument)(c||a,"cannot send value to non-payable fallback","overrides.value",i.value),(0,n.assertArgument)(o.fallback||u,"cannot send data to receive-only contract","overrides.data",i.data),i},u=async function(t){const s=e.runner;(0,n.assert)(c(s),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await s.sendTransaction(await r(t)),a=f(e.runner);return new i.ContractTransactionResponse(e.interface,a,o)},l=async e=>await u(e);return(0,n.defineProperties)(l,{_contract:e,estimateGas:async function(t){const i=d(e.runner,"estimateGas");return(0,n.assert)(a(i),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await i.estimateGas(await r(t))},populateTransaction:r,send:u,staticCall:async function(t){const i=d(e.runner,"call");(0,n.assert)(o(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await r(t);try{return await i.call(s)}catch(a){if((0,n.isCallException)(a)&&a.data)throw e.interface.makeError(a.data,s);throw a}}}),l}contract.copyOverrides=p,contract.resolveArgs=m;const y=Symbol.for("_ethersInternal_contract"),b=new WeakMap;function v(e){return b.get(e[y])}async function w(e,t){let r,i=null;if(Array.isArray(t)){const i=function(t){if((0,n.isHexString)(t,32))return t;const r=e.interface.getEvent(t);return(0,n.assertArgument)(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(i):i(e)))}else"*"===t?r=[null]:"string"==typeof t?(0,n.isHexString)(t,32)?r=[t]:(i=e.interface.getEvent(t),(0,n.assertArgument)(i,"unknown fragment","event",t),r=[i.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?r=await t.getTopicFilter():"fragment"in t?(i=t.fragment,r=[i.topicHash]):(0,n.assertArgument)(!1,"unknown event name","event",t);var s;r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:i,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function A(e,t){const{subs:r}=v(e);return r.get((await w(e,t)).tag)||null}async function M(e,t,r){const s=f(e.runner);(0,n.assert)(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:o,tag:a,topics:u}=await w(e,r),{addr:c,subs:h}=v(e);let l=h.get(a);if(!l){const t={address:c||e,topics:u},n=t=>{let n=o;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(s){}if(n){const s=n,a=o?e.interface.decodeEventLog(o,t.data,t.topics):[];_(e,r,a,(n=>new i.ContractEventPayload(e,n,r,s,t)))}else _(e,r,[],(n=>new i.ContractUnknownEventPayload(e,n,r,t)))};let d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(s.on(t,n))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),s.off(t,n)}},h.set(a,l)}return l}let E=Promise.resolve();async function _(e,t,r,n){try{await E}catch(s){}const i=async function(e,t,r,n){await E;const i=await A(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((({listener:t,once:i})=>{const o=Array.from(r);n&&o.push(n(i?null:t));try{t.call(e,...o)}catch(s){}return!i})),0===i.listeners.length&&(i.stop(),v(e).subs.delete(i.tag)),o>0}(e,t,r,n);return E=i,await i}const S=["then"];class x{target;interface;runner;filters;[y];fallback;constructor(r,s,o,a){(0,n.assertArgument)("string"==typeof r||(0,t.isAddressable)(r),"invalid value for Contract target","target",r),null==o&&(o=null);const c=e.Interface.from(s);let h;(0,n.defineProperties)(this,{target:r,runner:o,interface:c}),Object.defineProperty(this,y,{value:{}});let l=null,p=null;if(a){const e=f(o);p=new i.ContractTransactionResponse(this.interface,e,a)}let m=new Map;if("string"==typeof r)if((0,n.isHexString)(r))l=r,h=Promise.resolve(r);else{const e=d(o,"resolveName");if(!u(e))throw(0,n.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});h=e.resolveName(r).then((e=>{if(null==e)throw(0,n.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:r});return v(this).addr=e,e}))}else h=r.getAddress().then((e=>{if(null==e)throw new Error("TODO");return v(this).addr=e,e}));var w,A;w=this,A={addrPromise:h,addr:l,deployTx:p,subs:m},b.set(w[y],A);const M=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||S.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(i){if(!(0,n.isError)(i,"INVALID_ARGUMENT")||"key"!==i.argument)throw i}},has:(e,t)=>S.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return(0,n.defineProperties)(this,{filters:M}),(0,n.defineProperties)(this,{fallback:c.receive||c.fallback?g(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||S.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(i){if(!(0,n.isError)(i,"INVALID_ARGUMENT")||"key"!==i.argument)throw i}},has:(e,t)=>"symbol"==typeof t||t in e||S.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new x(this.target,this.interface,e)}attach(e){return new x(e,this.interface,this.runner)}async getAddress(){return await v(this).addrPromise}async getDeployedCode(){const e=f(this.runner);(0,n.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=f(this.runner);return(0,n.assert)(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(i){r(i)}};n()}))}deploymentTransaction(){return v(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());const r=function(e,r){const s=function(...t){const i=e.interface.getFunction(r,t);return(0,n.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:t}}),i},u=async function(...r){const i=s(...r);let o={};if(i.inputs.length+1===r.length&&(o=await p(r.pop()),o.from&&(o.from=await(0,t.resolveAddress)(o.from,h(e.runner)))),i.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await m(e.runner,i.inputs,r);return Object.assign({},o,await(0,n.resolveProperties)({to:e.getAddress(),data:e.interface.encodeFunctionData(i,a)}))},l=async function(...e){const t=await y(...e);return 1===t.length?t[0]:t},g=async function(...t){const r=e.runner;(0,n.assert)(c(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await u(...t)),o=f(e.runner);return new i.ContractTransactionResponse(e.interface,o,s)},y=async function(...t){const r=d(e.runner,"call");(0,n.assert)(o(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await u(...t);let a="0x";try{a=await r.call(i)}catch(h){if((0,n.isCallException)(h)&&h.data)throw e.interface.makeError(h.data,i);throw h}const c=s(...t);return e.interface.decodeFunctionResult(c,a)},b=async(...e)=>s(...e).constant?await l(...e):await g(...e);return(0,n.defineProperties)(b,{name:e.interface.getFunctionName(r),_contract:e,_key:r,getFragment:s,estimateGas:async function(...t){const r=d(e.runner,"estimateGas");return(0,n.assert)(a(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await u(...t))},populateTransaction:u,send:g,staticCall:l,staticCallResult:y}),Object.defineProperty(b,"fragment",{configurable:!1,enumerable:!0,get:()=>{const t=e.interface.getFunction(r);return(0,n.assert)(t,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),t}}),b}(this,e);return r}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const i=e.interface.getEvent(t,r);return(0,n.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},i=function(...t){return new l(e,r(...t),t)};return(0,n.defineProperties)(i,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return(0,n.assert)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),i}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,s){null==t&&(t=0),null==s&&(s="latest");const{addr:o,addrPromise:a}=v(this),u=o||await a,{fragment:c,topics:h}=await w(this,e),l={address:u,topics:h,fromBlock:t,toBlock:s},d=f(this.runner);return(0,n.assert)(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(l)).map((e=>{let t=c;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new i.EventLog(e,this.interface,t)}catch(n){return new i.UndecodedEventLog(e,n)}return new r.Log(e,d)}))}async on(e,t){const r=await M(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await M(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await _(this,e,t,null)}async listenerCount(e){if(e){const t=await A(this,e);return t?t.listeners.length:0}const{subs:t}=v(this);let r=0;for(const{listeners:n}of t.values())r+=n.length;return r}async listeners(e){if(e){const t=await A(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=v(this);let r=[];for(const{listeners:n}of t.values())r=r.concat(n.map((({listener:e})=>e)));return r}async off(e,t){const r=await A(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),v(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await A(this,e);if(!t)return this;t.stop(),v(this).subs.delete(t.tag)}else{const{subs:e}=v(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends x{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){null==r&&(r=null);return new this(e,t,r)}}contract.BaseContract=x;class R extends(function(){return x}()){}return contract.Contract=R,contract}var factory={},hasRequiredFactory,hasRequiredContract;function requireFactory(){if(hasRequiredFactory)return factory;hasRequiredFactory=1,Object.defineProperty(factory,"__esModule",{value:!0}),factory.ContractFactory=void 0;const e=requireAbi(),t=requireAddress$2(),r=requireUtils$6(),n=requireContract$1();class i{interface;bytecode;runner;constructor(t,n,i){const s=e.Interface.from(t);n instanceof Uint8Array||("object"==typeof n&&(n=n.object),n.startsWith("0x")||(n="0x"+n)),n=(0,r.hexlify)((0,r.getBytes)(n)),(0,r.defineProperties)(this,{bytecode:n,interface:s,runner:i||null})}attach(e){return new n.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const i=this.interface.deploy;if(i.inputs.length+1===e.length&&(t=await(0,n.copyOverrides)(e.pop())),i.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const s=await(0,n.resolveArgs)(this.runner,i.inputs,e),o=(0,r.concat)([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:o})}async deploy(...e){const i=await this.getDeployTransaction(...e);(0,r.assert)(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await this.runner.sendTransaction(i),o=(0,t.getCreateAddress)(s);return new n.BaseContract(o,this.interface,this.runner,s)}connect(e){return new i(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,r.assertArgument)(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));const n=e.abi;let i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,t)}}return factory.ContractFactory=i,factory}function requireContract(){return hasRequiredContract||(hasRequiredContract=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UndecodedEventLog=e.EventLog=e.ContractTransactionResponse=e.ContractTransactionReceipt=e.ContractUnknownEventPayload=e.ContractEventPayload=e.ContractFactory=e.Contract=e.BaseContract=void 0;var t=requireContract$1();Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return t.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}});var r=requireFactory();Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return r.ContractFactory}});var n=requireWrappers();Object.defineProperty(e,"ContractEventPayload",{enumerable:!0,get:function(){return n.ContractEventPayload}}),Object.defineProperty(e,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return n.ContractUnknownEventPayload}}),Object.defineProperty(e,"ContractTransactionReceipt",{enumerable:!0,get:function(){return n.ContractTransactionReceipt}}),Object.defineProperty(e,"ContractTransactionResponse",{enumerable:!0,get:function(){return n.ContractTransactionResponse}}),Object.defineProperty(e,"EventLog",{enumerable:!0,get:function(){return n.EventLog}}),Object.defineProperty(e,"UndecodedEventLog",{enumerable:!0,get:function(){return n.UndecodedEventLog}})}(contract$1)),contract$1}var providers={},abstractProvider={},ensResolver={},hasRequiredEnsResolver;function requireEnsResolver(){if(hasRequiredEnsResolver)return ensResolver;hasRequiredEnsResolver=1,Object.defineProperty(ensResolver,"__esModule",{value:!0}),ensResolver.EnsResolver=ensResolver.BasicMulticoinProviderPlugin=ensResolver.MulticoinProviderPlugin=void 0;const e=requireAddress$2(),t=requireConstants$1(),r=requireContract(),n=requireHash$2(),i=requireUtils$6();function s(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,i.assertArgument)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class o{name;constructor(e){(0,i.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}ensResolver.MulticoinProviderPlugin=o;ensResolver.BasicMulticoinProviderPlugin=class extends o{constructor(){super("org.ethers.plugins.provider.BasicMulticoin")}};const a=new RegExp("^(ipfs)://(.*)$","i"),u=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),a,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class c{provider;address;name;#Pe;#Be;constructor(e,t,n){(0,i.defineProperties)(this,{provider:e,address:t,name:n}),this.#Pe=null,this.#Be=new r.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#Pe&&(this.#Pe=(async()=>{try{return await this.#Be.supportsInterface("0x9061b923")}catch(e){if((0,i.isError)(e,"CALL_EXCEPTION"))return!1;throw this.#Pe=null,e}})()),await this.#Pe}async#Te(e,t){t=(t||[]).slice();const r=this.#Be.interface;t.unshift((0,n.namehash)(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),(0,i.assert)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,n.dnsEncode)(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const n=await this.#Be[e](...t);return s?r.decodeFunctionResult(s,n)[0]:n}catch(o){if(!(0,i.isError)(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(r){if(null==r&&(r=60),60===r)try{const e=await this.#Te("addr(bytes32)");return null==e||e===t.ZeroAddress?null:e}catch(u){if((0,i.isError)(u,"CALL_EXCEPTION"))return null;throw u}if(r>=0&&r<2147483648){let t=r+2147483648;const n=await this.#Te("addr(bytes32,uint)",[t]);if((0,i.isHexString)(n,20))return(0,e.getAddress)(n)}let n=null;for(const e of this.provider.plugins)if(e instanceof o&&e.supportsCoinType(r)){n=e;break}if(null==n)return null;const s=await this.#Te("addr(bytes32,uint)",[r]);if(null==s||"0x"===s)return null;const a=await n.decodeAddress(r,s);if(null!=a)return a;(0,i.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${r})`,info:{coinType:r,data:s}})}async getText(e){const t=await this.#Te("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#Te("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${(0,i.encodeBase58)("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,i.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const o=await this.getText("avatar");if(null==o)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:o});for(let c=0;c<u.length;c++){const h=o.match(u[c]);if(null==h)continue;const l=h[1].toLowerCase();switch(l){case"https":case"data":return e.push({type:"url",value:o}),{linkage:e,url:o};case"ipfs":{const t=s(o);return e.push({type:"ipfs",value:o}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const u="erc721"===l?"tokenURI(uint256)":"uri(uint256)";e.push({type:l,value:o});const c=await this.getAddress();if(null==c)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const d=(h[2]||"").split("/");if(2!==d.length)return e.push({type:`!${l}caip`,value:h[2]||""}),{url:null,linkage:e};const f=d[1],p=new r.Contract(d[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===l){const t=await p.ownerOf(f);if(c!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===l){const t=await p.balanceOf(c,f);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let m=await p[u](f);if(null==m||"0x"===m)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:m}),"erc1155"===l&&(m=m.replace("{id}",(0,i.toBeHex)(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=s(m)),e.push({type:"metadata-url",value:m});let g={};const y=await new i.FetchRequest(m).send();y.assertOk();try{g=y.bodyJson}catch(t){try{e.push({type:"!metadata",value:y.bodyText})}catch(n){const t=y.body;return t&&e.push({type:"!metadata",value:(0,i.hexlify)(t)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!g)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(g)});let b=g.image;if("string"!=typeof b)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(b.match(/^(https:\/\/|data:)/i));else{if(null==b.match(a))return e.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:b}),b=s(b)}return e.push({type:"url",value:b}),{linkage:e,url:b}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,i.assert)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#Ce(e,i){const s=await c.getEnsAddress(e);try{const o=new r.Contract(s,["function resolver(bytes32) view returns (address)"],e),a=await o.resolver((0,n.namehash)(i),{enableCcipRead:!0});return a===t.ZeroAddress?null:a}catch(o){throw o}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await c.#Ce(e,r);if(null!=n){const i=new c(e,n,t);return r===t||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}return ensResolver.EnsResolver=c,ensResolver}var format={},hasRequiredFormat;function requireFormat(){if(hasRequiredFormat)return format;hasRequiredFormat=1,Object.defineProperty(format,"__esModule",{value:!0}),format.formatTransactionResponse=format.formatTransactionReceipt=format.formatReceiptLog=format.formatBlock=format.formatLog=format.formatUint256=format.formatHash=format.formatData=format.formatBoolean=format.object=format.arrayOf=format.allowNull=void 0;const e=requireAddress$2(),t=requireCrypto(),r=requireTransaction(),n=requireUtils$6(),i=BigInt(0);function s(e,t){return function(r){return null==r?t:e(r)}}function o(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map((t=>e(t)))}}function a(e,t){return r=>{const i={};for(const o in e){let a=o;if(t&&o in t&&!(a in r))for(const e of t[o])if(e in r){a=e;break}try{const t=e[o](r[a]);void 0!==t&&(i[o]=t)}catch(s){const e=s instanceof Error?s.message:"not-an-error";(0,n.assert)(!1,`invalid value for value.${o} (${e})`,"BAD_DATA",{value:r})}}return i}}function u(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,n.assertArgument)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function c(e){return(0,n.assertArgument)((0,n.isHexString)(e,!0),"invalid data","value",e),e}function h(e){return(0,n.assertArgument)((0,n.isHexString)(e,32),"invalid hash","value",e),e}format.allowNull=s,format.arrayOf=o,format.object=a,format.formatBoolean=u,format.formatData=c,format.formatHash=h,format.formatUint256=function(e){if(!(0,n.isHexString)(e))throw new Error("invalid uint256");return(0,n.zeroPadValue)(e,32)};const l=a({address:e.getAddress,blockHash:h,blockNumber:n.getNumber,data:c,index:n.getNumber,removed:s(u,!1),topics:o(h),transactionHash:h,transactionIndex:n.getNumber},{index:["logIndex"]});format.formatLog=function(e){return l(e)};const d=a({hash:s(h),parentHash:h,parentBeaconBlockRoot:s(h,null),number:n.getNumber,timestamp:n.getNumber,nonce:s(c),difficulty:n.getBigInt,gasLimit:n.getBigInt,gasUsed:n.getBigInt,stateRoot:s(h,null),receiptsRoot:s(h,null),blobGasUsed:s(n.getBigInt,null),excessBlobGas:s(n.getBigInt,null),miner:s(e.getAddress),prevRandao:s(h,null),extraData:c,baseFeePerGas:s(n.getBigInt)},{prevRandao:["mixHash"]});format.formatBlock=function(e){const t=d(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:g(e))),t};const f=a({transactionIndex:n.getNumber,blockNumber:n.getNumber,transactionHash:h,address:e.getAddress,topics:o(h),data:c,index:n.getNumber,blockHash:h},{index:["logIndex"]});function p(e){return f(e)}format.formatReceiptLog=p;const m=a({to:s(e.getAddress,null),from:s(e.getAddress,null),contractAddress:s(e.getAddress,null),index:n.getNumber,root:s(n.hexlify),gasUsed:n.getBigInt,blobGasUsed:s(n.getBigInt,null),logsBloom:s(c),blockHash:h,hash:h,logs:o(p),blockNumber:n.getNumber,cumulativeGasUsed:n.getBigInt,effectiveGasPrice:s(n.getBigInt),blobGasPrice:s(n.getBigInt,null),status:s(n.getNumber),type:s(n.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function g(u){u.to&&(0,n.getBigInt)(u.to)===i&&(u.to="0x0000000000000000000000000000000000000000");const l=a({hash:h,index:s(n.getNumber,void 0),type:e=>"0x"===e||null==e?0:(0,n.getNumber)(e),accessList:s(r.accessListify,null),blobVersionedHashes:s(o(h,!0),null),blockHash:s(h,null),blockNumber:s(n.getNumber,null),transactionIndex:s(n.getNumber,null),from:e.getAddress,gasPrice:s(n.getBigInt),maxPriorityFeePerGas:s(n.getBigInt),maxFeePerGas:s(n.getBigInt),maxFeePerBlobGas:s(n.getBigInt,null),gasLimit:n.getBigInt,to:s(e.getAddress,null),value:n.getBigInt,nonce:n.getNumber,data:c,creates:s(e.getAddress,null),chainId:s(n.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(u);if(null==l.to&&null==l.creates&&(l.creates=(0,e.getCreateAddress)(l)),1!==u.type&&2!==u.type||null!=u.accessList||(l.accessList=[]),u.signature?l.signature=t.Signature.from(u.signature):l.signature=t.Signature.from(u),null==l.chainId){const e=l.signature.legacyChainId;null!=e&&(l.chainId=e)}return l.blockHash&&(0,n.getBigInt)(l.blockHash)===i&&(l.blockHash=null),l}return format.formatTransactionReceipt=function(e){return m(e)},format.formatTransactionResponse=g,format}var network={},pluginsNetwork={},hasRequiredPluginsNetwork,hasRequiredNetwork;function requirePluginsNetwork(){if(hasRequiredPluginsNetwork)return pluginsNetwork;hasRequiredPluginsNetwork=1,Object.defineProperty(pluginsNetwork,"__esModule",{value:!0}),pluginsNetwork.FetchUrlFeeDataNetworkPlugin=pluginsNetwork.FeeDataNetworkPlugin=pluginsNetwork.EnsPlugin=pluginsNetwork.GasCostPlugin=pluginsNetwork.NetworkPlugin=void 0;const e=requireProperties(),t=requireUtils$6();class r{name;constructor(t){(0,e.defineProperties)(this,{name:t})}clone(){return new r(this.name)}}pluginsNetwork.NetworkPlugin=r;class n extends r{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(r,n){null==r&&(r=0),super(`org.ethers.network.plugins.GasCost#${r||0}`);const i={effectiveBlock:r};function s(e,r){let s=(n||{})[e];null==s&&(s=r),(0,t.assertArgument)("number"==typeof s,`invalud value for ${e}`,"costs",n),i[e]=s}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),(0,e.defineProperties)(this,i)}clone(){return new n(this.effectiveBlock,this)}}pluginsNetwork.GasCostPlugin=n;class i extends r{address;targetNetwork;constructor(t,r){super("org.ethers.plugins.network.Ens"),(0,e.defineProperties)(this,{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:r??1})}clone(){return new i(this.address,this.targetNetwork)}}pluginsNetwork.EnsPlugin=i;class s extends r{#Oe;get feeDataFunc(){return this.#Oe}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#Oe=e}async getFeeData(e){return await this.#Oe(e)}clone(){return new s(this.#Oe)}}pluginsNetwork.FeeDataNetworkPlugin=s;return pluginsNetwork.FetchUrlFeeDataNetworkPlugin=class extends r{#u;#qe;get url(){return this.#u}get processFunc(){return this.#qe}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#u=e,this.#qe=t}clone(){return this}},pluginsNetwork}function requireNetwork(){if(hasRequiredNetwork)return network;hasRequiredNetwork=1,Object.defineProperty(network,"__esModule",{value:!0}),network.Network=void 0;const e=requireTransaction(),t=requireUtils$6(),r=requirePluginsNetwork(),n=new Map;class i{#Ie;#re;#Ne;constructor(e,r){this.#Ie=e,this.#re=(0,t.getBigInt)(r),this.#Ne=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Ie}set name(e){this.#Ie=e}get chainId(){return this.#re}set chainId(e){this.#re=(0,t.getBigInt)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,t.getBigInt)(e)}catch(r){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,t.getBigInt)(e)}catch(r){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,t.getBigInt)(e.chainId)}catch(r){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Ne.values())}attachPlugin(e){if(this.#Ne.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Ne.set(e.name,e.clone()),this}getPlugin(e){return this.#Ne.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new i(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(t){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new r.GasCostPlugin;let i=n.txBase;if(null==t.to&&(i+=n.txCreate),t.data)for(let e=2;e<t.data.length;e+=2)"00"===t.data.substring(e,e+2)?i+=n.txDataZero:i+=n.txDataNonzero;if(t.accessList){const r=(0,e.accessListify)(t.accessList);for(const e in r)i+=n.txAccessListAddress+n.txAccessListStorageKey*r[e].storageKeys.length}return i}static from(e){if(function(){if(a)return;function e(e,t,n){const s=function(){const s=new i(e,t);return null!=n.ensNetwork&&s.attachPlugin(new r.EnsPlugin(null,n.ensNetwork)),s.attachPlugin(new r.GasCostPlugin),(n.plugins||[]).forEach((e=>{s.attachPlugin(e)})),s};i.register(e,s),i.register(t,s),n.altNames&&n.altNames.forEach((e=>{i.register(e,s)}))}a=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[o("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[o("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return i.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const r=n.get(e);if(r)return r();if("bigint"==typeof e)return new i("unknown",e);(0,t.assertArgument)(!1,"unknown network","network",e)}if("function"==typeof e.clone){return e.clone()}if("object"==typeof e){(0,t.assertArgument)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const n=new i(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&n.attachPlugin(new r.EnsPlugin(e.ensAddress,e.ensNetwork)),n}(0,t.assertArgument)(!1,"invalid network","network",e)}static register(e,r){"number"==typeof e&&(e=BigInt(e));const i=n.get(e);i&&(0,t.assertArgument)(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",e),n.set(e,r)}}function s(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function o(e){return new r.FetchUrlFeeDataNetworkPlugin(e,(async(e,r,n)=>{let i;n.setHeader("User-Agent","ethers");try{const[t,r]=await Promise.all([n.send(),e()]);i=t;const o=i.bodyJson.standard;return{gasPrice:r.gasPrice,maxFeePerGas:s(o.maxFee,9),maxPriorityFeePerGas:s(o.maxPriorityFee,9)}}catch(o){(0,t.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:o})}}))}network.Network=i;let a=!1;return network}var subscriberPolling={},hasRequiredSubscriberPolling,hasRequiredAbstractProvider;function requireSubscriberPolling(){if(hasRequiredSubscriberPolling)return subscriberPolling;hasRequiredSubscriberPolling=1,Object.defineProperty(subscriberPolling,"__esModule",{value:!0}),subscriberPolling.PollingEventSubscriber=subscriberPolling.PollingTransactionSubscriber=subscriberPolling.PollingOrphanSubscriber=subscriberPolling.PollingBlockTagSubscriber=subscriberPolling.OnBlockSubscriber=subscriberPolling.PollingBlockSubscriber=subscriberPolling.getPollingSubscriber=void 0;const e=requireUtils$6();function t(e){return JSON.parse(JSON.stringify(e))}subscriberPolling.getPollingSubscriber=function(t,n){return"block"===n?new r(t):(0,e.isHexString)(n,32)?new i(t,n):void(0,e.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:n}})};class r{#$e;#Le;#je;#Ue;constructor(e){this.#$e=e,this.#Le=null,this.#je=4e3,this.#Ue=-2}get pollingInterval(){return this.#je}set pollingInterval(e){this.#je=e}async#De(){try{const e=await this.#$e.getBlockNumber();if(-2===this.#Ue)return void(this.#Ue=e);if(e!==this.#Ue){for(let t=this.#Ue+1;t<=e;t++){if(null==this.#Le)return;await this.#$e.emit("block",t)}this.#Ue=e}}catch(e){}null!=this.#Le&&(this.#Le=this.#$e._setTimeout(this.#De.bind(this),this.#je))}start(){this.#Le||(this.#Le=this.#$e._setTimeout(this.#De.bind(this),this.#je),this.#De())}stop(){this.#Le&&(this.#$e._clearTimeout(this.#Le),this.#Le=null)}pause(e){this.stop(),e&&(this.#Ue=-2)}resume(){this.start()}}subscriberPolling.PollingBlockSubscriber=r;class n{#$e;#De;#Fe;constructor(e){this.#$e=e,this.#Fe=!1,this.#De=e=>{this._poll(e,this.#$e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Fe||(this.#Fe=!0,this.#De(-2),this.#$e.on("block",this.#De))}stop(){this.#Fe&&(this.#Fe=!1,this.#$e.off("block",this.#De))}pause(e){this.stop()}resume(){this.start()}}subscriberPolling.OnBlockSubscriber=n;subscriberPolling.PollingBlockTagSubscriber=class extends n{#He;#ze;constructor(e,t){super(e),this.#He=t,this.#ze=-2}pause(e){e&&(this.#ze=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#He);null!=r&&(-2===this.#ze?this.#ze=r.number:r.number>this.#ze&&(t.emit(this.#He,r.number),this.#ze=r.number))}};subscriberPolling.PollingOrphanSubscriber=class extends n{#ke;constructor(e,r){super(e),this.#ke=t(r)}async _poll(e,t){throw new Error("@TODO")}};class i extends n{#Ge;constructor(e,t){super(e),this.#Ge=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Ge);r&&t.emit(this.#Ge,r)}}subscriberPolling.PollingTransactionSubscriber=i;return subscriberPolling.PollingEventSubscriber=class{#$e;#ke;#Le;#Fe;#Ue;constructor(e,r){this.#$e=e,this.#ke=t(r),this.#Le=this.#De.bind(this),this.#Fe=!1,this.#Ue=-2}async#De(e){if(-2===this.#Ue)return;const r=t(this.#ke);r.fromBlock=this.#Ue+1,r.toBlock=e;const n=await this.#$e.getLogs(r);if(0!==n.length)for(const t of n)this.#$e.emit(this.#ke,t),this.#Ue=t.blockNumber;else this.#Ue<e-60&&(this.#Ue=e-60)}start(){this.#Fe||(this.#Fe=!0,-2===this.#Ue&&this.#$e.getBlockNumber().then((e=>{this.#Ue=e})),this.#$e.on("block",this.#Le))}stop(){this.#Fe&&(this.#Fe=!1,this.#$e.off("block",this.#Le))}pause(e){this.stop(),e&&(this.#Ue=-2)}resume(){this.start()}},subscriberPolling}function requireAbstractProvider(){if(hasRequiredAbstractProvider)return abstractProvider;hasRequiredAbstractProvider=1,Object.defineProperty(abstractProvider,"__esModule",{value:!0}),abstractProvider.AbstractProvider=abstractProvider.UnmanagedSubscriber=void 0;const e=requireAddress$2(),t=requireConstants$1(),r=requireContract(),n=requireHash$2(),i=requireTransaction(),s=requireUtils$6(),o=requireEnsResolver(),a=requireFormat(),u=requireNetwork(),c=requireProvider(),h=requireSubscriberPolling(),l=BigInt(2);function d(e){return e&&"function"==typeof e.then}function f(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class p{name;constructor(e){(0,s.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function m(e){return(e=Array.from(new Set(e).values())).sort(),e}async function g(t,r){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"==typeof t)switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if((0,s.isHexString)(t,32)){const e=t.toLowerCase();return{type:"transaction",tag:f("tx",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:"orphan",tag:f("orphan",e),filter:(n=e,JSON.parse(JSON.stringify(n)))}}var n;if(t.address||t.topics){const n=t,i={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?m(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const t=[],o=[],a=n=>{(0,s.isHexString)(n)?t.push(n):o.push((async()=>{t.push(await(0,e.resolveAddress)(n,r))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),o.length&&await Promise.all(o),i.address=m(t.map((e=>e.toLowerCase())))}return{filter:i,tag:f("event",i),type:"event"}}(0,s.assertArgument)(!1,"unknown ProviderEvent","event",t)}function y(){return(new Date).getTime()}abstractProvider.UnmanagedSubscriber=p;const b={cacheTimeout:250,pollingInterval:4e3};function v(e,t){try{const r=w(e,t);if(r)return(0,s.toUtf8String)(r)}catch(r){}return null}function w(e,t){if("0x"===e)return null;try{const r=(0,s.getNumber)((0,s.dataSlice)(e,t,t+32)),n=(0,s.getNumber)((0,s.dataSlice)(e,r,r+32));return(0,s.dataSlice)(e,r+32,r+32+n)}catch(r){}return null}function A(e){const t=(0,s.toBeArray)(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function M(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}abstractProvider.AbstractProvider=class{#Ke;#Ne;#Ve;#We;#Je;#Ze;#Qe;#Ye;#Xe;#et;#tt;#V;constructor(e,t){if(this.#V=Object.assign({},b,t||{}),"any"===e)this.#Ze=!0,this.#Je=null;else if(e){const t=u.Network.from(e);this.#Ze=!1,this.#Je=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Ze=!1,this.#Je=null;this.#Ye=-1,this.#Qe=new Map,this.#Ke=new Map,this.#Ne=new Map,this.#Ve=null,this.#We=!1,this.#Xe=1,this.#et=new Map,this.#tt=!1}get pollingInterval(){return this.#V.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Ne.values())}attachPlugin(e){if(this.#Ne.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Ne.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Ne.get(e)||null}get disableCcipRead(){return this.#tt}set disableCcipRead(e){this.#tt=!!e}async#rt(e){const t=this.#V.cacheTimeout;if(t<0)return await this._perform(e);const r=f(e.method,e);let n=this.#Qe.get(r);return n||(n=this._perform(e),this.#Qe.set(r,n),setTimeout((()=>{this.#Qe.get(r)===n&&this.#Qe.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let u=0;u<r.length;u++){const t=r[u],c=t.replace("{sender}",n).replace("{data}",i),h=new s.FetchRequest(c);-1===t.indexOf("{data}")&&(h.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:u,urls:r});let l,d="unknown error";try{l=await h.send()}catch(a){o.push(a.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:{error:a}});continue}try{const e=l.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:e}),e.data;e.message&&(d=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:e})}catch(a){}(0,s.assert)(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:d}}),o.push(d)}(0,s.assert)(!1,`error encountered during CCIP fetch: ${o.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,t){return new c.Block((0,a.formatBlock)(e),this)}_wrapLog(e,t){return new c.Log((0,a.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new c.TransactionReceipt((0,a.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new c.TransactionResponse((0,a.formatTransactionResponse)(e),this)}_detectNetwork(){(0,s.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,s.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=(0,s.getNumber)(await this.#rt({method:"getBlockNumber"}),"%response");return this.#Ye>=0&&(this.#Ye=e),e}_getAddress(t){return(0,e.resolveAddress)(t,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,s.isHexString)(e)?(0,s.isHexString)(e,32)?e:(0,s.toQuantity)(e):("bigint"==typeof e&&(e=(0,s.getNumber)(e,"blockTag")),"number"==typeof e?e>=0?(0,s.toQuantity)(e):this.#Ye>=0?(0,s.toQuantity)(this.#Ye+e):this.getBlockNumber().then((t=>(0,s.toQuantity)(t+e))):void(0,s.assertArgument)(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?m(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!=typeof e)).length||null!=i&&"string"!=typeof i||null!=s&&"string"!=typeof s?Promise.all([Promise.all(o),i,s]).then((e=>n(e[0],e[1],e[2]))):n(o,i,s)}_getTransactionRequest(t){const r=(0,c.copyRequest)(t),n=[];if(["to","from"].forEach((t=>{if(null==r[t])return;const i=(0,e.resolveAddress)(r[t],this);d(i)?n.push(async function(){r[t]=await i}()):r[t]=i})),null!=r.blockTag){const e=this._getBlockTag(r.blockTag);d(e)?n.push(async function(){r.blockTag=await e}()):r.blockTag=e}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(null==this.#Je){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#Je===e&&(this.#Je=null),t}})();return this.#Je=e,(await e).clone()}const e=this.#Je,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#Ze?(this.emit("network",r,t),this.#Je===e&&(this.#Je=Promise.resolve(r))):(0,s.assert)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r,priorityFee:n}=await(0,s.resolveProperties)({_block:this.#nt("latest",!1),gasPrice:(async()=>{try{const e=await this.#rt({method:"getGasPrice"});return(0,s.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{const e=await this.#rt({method:"getPriorityFee"});return(0,s.getBigInt)(e,"%response")}catch(e){}return null})()});let i=null,o=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(o=null!=n?n:BigInt("1000000000"),i=a.baseFeePerGas*l+o),new c.FeeData(r,i,o)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new s.FetchRequest(r.url),n=await r.processFunc(t,this,e);return new c.FeeData(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return d(t)&&(t=await t),(0,s.getBigInt)(await this.#rt({method:"estimateGas",transaction:t}),"%response")}async#it(t,r,n){(0,s.assert)(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:r,enableCcipRead:!0})});const i=(0,c.copyRequest)(t);try{return(0,s.hexlify)(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(o){if(!this.disableCcipRead&&(0,s.isCallException)(o)&&o.data&&n>=0&&"latest"===r&&null!=i.to&&"0x556f1830"===(0,s.dataSlice)(o.data,0,4)){const t=o.data,u=await(0,e.resolveAddress)(i.to,this);let c;try{c=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,s.assert)((0,s.dataLength)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=(0,s.dataSlice)(e,0,32);(0,s.assert)((0,s.dataSlice)(r,0,12)===(0,s.dataSlice)(S,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,s.dataSlice)(r,12);try{const r=[],n=(0,s.getNumber)((0,s.dataSlice)(e,32,64)),i=(0,s.getNumber)((0,s.dataSlice)(e,n,n+32)),o=(0,s.dataSlice)(e,n+32);for(let e=0;e<i;e++){const t=v(o,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(o){(0,s.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=w(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(o){(0,s.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,s.assert)((0,s.dataSlice)(e,100,128)===(0,s.dataSlice)(S,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,s.dataSlice)(e,96,100);try{const r=w(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(o){(0,s.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}((0,s.dataSlice)(o.data,4))}catch(a){(0,s.assert)(!1,a.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:t}})}(0,s.assert)(c.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:t,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const h=await this.ccipReadFetch(i,c.calldata,c.urls);(0,s.assert)(null!=h,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:c.errorArgs}});const l={to:u,data:(0,s.concat)([c.selector,_([h,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#it(l,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(a){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:a}),a}}throw o}}async#st(e){const{value:t}=await(0,s.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await(0,s.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#st(this.#it(t,r,e.enableCcipRead?0:-1))}async#ot(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#st(this.#rt(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return(0,s.getBigInt)(await this.#ot({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,s.getNumber)(await this.#ot({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,s.hexlify)(await this.#ot({method:"getCode"},e,t))}async getStorage(e,t,r){const n=(0,s.getBigInt)(t,"position");return(0,s.hexlify)(await this.#ot({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await(0,s.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=i.Transaction.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,n).replaceableTransaction(t)}async#nt(e,t){if((0,s.isHexString)(e,32))return await this.#rt({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#rt({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await(0,s.resolveProperties)({network:this.getNetwork(),params:this.#nt(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await(0,s.resolveProperties)({network:this.getNetwork(),params:this.#rt({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await(0,s.resolveProperties)({network:this.getNetwork(),params:this.#rt({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#rt({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await(0,s.resolveProperties)({network:this.getNetwork(),result:this.#rt({method:"getTransactionResult",hash:e})});return null==t?null:(0,s.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);d(t)&&(t=await t);const{network:r,params:n}=await(0,s.resolveProperties)({network:this.getNetwork(),params:this.#rt({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){(0,s.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await o.EnsResolver.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(i){i=(0,e.getAddress)(i);const a=(0,n.namehash)(i.substring(2).toLowerCase()+".addr.reverse");try{const e=await o.EnsResolver.getEnsAddress(this),n=new r.Contract(e,["function resolver(bytes32) view returns (address)"],this),s=await n.resolver(a);if(null==s||s===t.ZeroAddress)return null;const u=new r.Contract(s,["function name(bytes32) view returns (string)"],this),c=await u.name(a);return await this.resolveName(c)!==i?null:c}catch(u){if((0,s.isError)(u,"BAD_DATA")&&"0x"===u.value)return null;if((0,s.isError)(u,"CALL_EXCEPTION"))return null;throw u}return null}async waitForTransaction(e,t,r){const n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let o=null;const a=async r=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n)return t(i),void(o&&(clearTimeout(o),o=null))}catch(i){}this.once("block",a)};null!=r&&(o=setTimeout((()=>{null!=o&&(o=null,this.off("block",a),i((0,s.makeError)("timeout","TIMEOUT",{reason:"timeout"})))}),r)),a(await this.getBlockNumber())}))}async waitForBlock(e){(0,s.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#et.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#et.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Xe++,n=()=>{this.#et.delete(r),e()};if(this.paused)this.#et.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#et.set(r,{timer:e,func:n,time:y()})}return r}_forEachSubscriber(e){for(const t of this.#Ke.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new p(e.type);case"block":{const e=new h.PollingBlockSubscriber(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new h.PollingBlockTagSubscriber(this,e.type);case"event":return new h.PollingEventSubscriber(this,e.filter);case"transaction":return new h.PollingTransactionSubscriber(this,e.hash);case"orphan":return new h.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#Ke.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#Ve&&t.pause(this.#Ve);break}}async#at(e,t){let r=await g(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await g({orphan:"drop-log",log:t[0]},this)),this.#Ke.get(r.tag)||null}async#ut(e){const t=await g(e,this),r=t.tag;let n=this.#Ke.get(r);if(!n){n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Ke.set(r,n)}return n}async on(e,t){const r=await this.#ut(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ve&&r.subscriber.pause(this.#Ve)),this}async once(e,t){const r=await this.#ut(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Ve&&r.subscriber.pause(this.#Ve)),this}async emit(e,...t){const r=await this.#at(e,t);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new s.EventPayload(this,n?null:r,e);try{r.call(this,...t,i)}catch(o){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Ke.delete(r.tag)),n>0}async listenerCount(e){if(e){const t=await this.#at(e);return t?t.listeners.length:0}let t=0;for(const{listeners:r}of this.#Ke.values())t+=r.length;return t}async listeners(e){if(e){const t=await this.#at(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:r}of this.#Ke.values())t=t.concat(r.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#at(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Ke.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#ut(e);r&&n.stop(),this.#Ke.delete(t)}else for(const[t,{started:r,subscriber:n}]of this.#Ke)r&&n.stop(),this.#Ke.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#We}destroy(){this.removeAllListeners();for(const e of this.#et.keys())this._clearTimeout(e);this.#We=!0}get paused(){return null!=this.#Ve}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#Ye=-1,null!=this.#Ve){if(this.#Ve==!!e)return;(0,s.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#Ve=!!e;for(const t of this.#et.values())t.timer&&clearTimeout(t.timer),t.time=y()-t.time}resume(){if(null!=this.#Ve){this._forEachSubscriber((e=>e.resume())),this.#Ve=null;for(const e of this.#et.values()){let t=e.time;t<0&&(t=0),e.time=y(),setTimeout(e.func,t)}}}};const E=new Uint8Array([]);function _(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(E),r+=32;for(let n=0;n<e.length;n++){const i=(0,s.getBytes)(e[n]);t[n]=A(r),t.push(A(i.length)),t.push(M(i)),r+=32+32*Math.ceil(i.length/32)}return(0,s.concat)(t)}const S="0x0000000000000000000000000000000000000000000000000000000000000000";return abstractProvider}var abstractSigner={},hasRequiredAbstractSigner;function requireAbstractSigner(){if(hasRequiredAbstractSigner)return abstractSigner;hasRequiredAbstractSigner=1,Object.defineProperty(abstractSigner,"__esModule",{value:!0}),abstractSigner.VoidSigner=abstractSigner.AbstractSigner=void 0;const e=requireAddress$2(),t=requireTransaction(),r=requireUtils$6(),n=requireProvider();function i(e,t){if(e.provider)return e.provider;(0,r.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function s(t,i){let s=(0,n.copyRequest)(i);if(null!=s.to&&(s.to=(0,e.resolveAddress)(s.to,t)),null!=s.from){const n=s.from;s.from=Promise.all([t.getAddress(),(0,e.resolveAddress)(n,t)]).then((([e,t])=>((0,r.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else s.from=t.getAddress();return await(0,r.resolveProperties)(s)}class o{provider;constructor(e){(0,r.defineProperties)(this,{provider:e||null})}async getNonce(e){return i(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await s(this,e)}async populateTransaction(e){const t=i(this,"populateTransaction"),n=await s(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const o=await this.provider.getNetwork();if(null!=n.chainId){const t=(0,r.getBigInt)(n.chainId);(0,r.assertArgument)(t===o.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=o.chainId;const a=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!a?0!==n.type&&1!==n.type||!a||(0,r.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):(0,r.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();(0,r.assert)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,r.assert)(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):(0,r.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await(0,r.resolveProperties)(n)}async estimateGas(e){return i(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return i(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=i(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const r=i(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=t.Transaction.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}}abstractSigner.AbstractSigner=o;class a extends o{address;constructor(e,t){super(t),(0,r.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new a(this.address,e)}#ct(e,t){(0,r.assert)(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#ct("transactions","signTransaction")}async signMessage(e){this.#ct("messages","signMessage")}async signTypedData(e,t,r){this.#ct("typed-data","signTypedData")}}return abstractSigner.VoidSigner=a,abstractSigner}var community={},hasRequiredCommunity;function requireCommunity(){if(hasRequiredCommunity)return community;hasRequiredCommunity=1,Object.defineProperty(community,"__esModule",{value:!0}),community.showThrottleMessage=void 0;const e=new Set;return community.showThrottleMessage=function(t){e.has(t)||e.add(t)},community}var defaultProvider={},providerAnkr={},providerJsonrpc={},subscriberFilterid={},hasRequiredSubscriberFilterid,hasRequiredProviderJsonrpc,hasRequiredProviderAnkr;function requireSubscriberFilterid(){if(hasRequiredSubscriberFilterid)return subscriberFilterid;hasRequiredSubscriberFilterid=1,Object.defineProperty(subscriberFilterid,"__esModule",{value:!0}),subscriberFilterid.FilterIdPendingSubscriber=subscriberFilterid.FilterIdEventSubscriber=subscriberFilterid.FilterIdSubscriber=void 0;const e=requireUtils$6(),t=requireSubscriberPolling();class r{#$e;#ht;#Le;#Fe;#lt;#dt;constructor(e){this.#$e=e,this.#ht=null,this.#Le=this.#De.bind(this),this.#Fe=!1,this.#lt=null,this.#dt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#De(t){try{null==this.#ht&&(this.#ht=this._subscribe(this.#$e));let t=null;try{t=await this.#ht}catch(r){if(!(0,e.isError)(r,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==r.operation)throw r}if(null==t)return this.#ht=null,void this.#$e._recoverSubscriber(this,this._recover(this.#$e));const n=await this.#$e.getNetwork();if(this.#lt||(this.#lt=n),this.#lt.chainId!==n.chainId)throw new Error("chaid changed");if(this.#dt)return;const i=await this.#$e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#$e,i)}catch(r){}this.#$e.once("block",this.#Le)}#ft(){const e=this.#ht;e&&(this.#ht=null,e.then((e=>{this.#$e.destroyed||this.#$e.send("eth_uninstallFilter",[e])})))}start(){this.#Fe||(this.#Fe=!0,this.#De(-2))}stop(){this.#Fe&&(this.#Fe=!1,this.#dt=!0,this.#ft(),this.#$e.off("block",this.#Le))}pause(e){e&&this.#ft(),this.#$e.off("block",this.#Le)}resume(){this.start()}}subscriberFilterid.FilterIdSubscriber=r;subscriberFilterid.FilterIdEventSubscriber=class extends r{#pt;constructor(e,t){var r;super(e),this.#pt=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new t.PollingEventSubscriber(e,this.#pt)}async _subscribe(e){return await e.send("eth_newFilter",[this.#pt])}async _emitResults(e,t){for(const r of t)e.emit(this.#pt,e._wrapLog(r,e._network))}};return subscriberFilterid.FilterIdPendingSubscriber=class extends r{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}},subscriberFilterid}function requireProviderJsonrpc(){if(hasRequiredProviderJsonrpc)return providerJsonrpc;hasRequiredProviderJsonrpc=1,Object.defineProperty(providerJsonrpc,"__esModule",{value:!0}),providerJsonrpc.JsonRpcProvider=providerJsonrpc.JsonRpcApiPollingProvider=providerJsonrpc.JsonRpcApiProvider=providerJsonrpc.JsonRpcSigner=void 0;const e=requireAbi(),t=requireAddress$2(),r=requireHash$2(),n=requireTransaction(),i=requireUtils$6(),s=requireAbstractProvider(),o=requireAbstractSigner(),a=requireNetwork(),u=requireSubscriberFilterid(),c=requireSubscriberPolling(),h="bigint,boolean,function,number,string,symbol".split(/,/g);function l(e){if(null==e||h.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(l);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function d(e){return new Promise((t=>{setTimeout(t,e)}))}function f(e){return e?e.toLowerCase():e}function p(e){return e&&"number"==typeof e.pollingInterval}const m={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class g extends o.AbstractSigner{address;constructor(e,r){super(e),r=(0,t.getAddress)(r),(0,i.defineProperties)(this,{address:r})}connect(e){(0,i.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const r=l(e),n=[];if(r.from){const s=r.from;n.push((async()=>{const n=await(0,t.resolveAddress)(s,this.provider);(0,i.assertArgument)(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=n})())}else r.from=this.address;if(null==r.gasLimit&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),null!=r.to){const e=r.to;n.push((async()=>{r.to=await(0,t.resolveAddress)(e,this.provider)})())}n.length&&await Promise.all(n);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const s=[1e3,100];let o=0;const a=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void e(n.replaceableTransaction(t))}catch(u){if((0,i.isError)(u,"CANCELLED")||(0,i.isError)(u,"BAD_DATA")||(0,i.isError)(u,"NETWORK_ERROR")||(0,i.isError)(u,"UNSUPPORTED_OPERATION"))return null==u.info&&(u.info={}),u.info.sendTransactionHash=r,void n(u);if((0,i.isError)(u,"INVALID_ARGUMENT")&&(o++,null==u.info&&(u.info={}),u.info.sendTransactionHash=r,o>10))return void n(u);this.provider.emit("error",(0,i.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout((()=>{a()}),s.pop()||4e3)};a()}))}async signTransaction(e){const r=l(e);if(r.from){const n=await(0,t.resolveAddress)(r.from,this.provider);(0,i.assertArgument)(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=n}else r.from=this.address;const n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"==typeof e?(0,i.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,i.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,n,s){const o=l(s),a=await r.TypedDataEncoder.resolveNames(e,n,o,(async e=>{const r=await(0,t.resolveAddress)(e);return(0,i.assertArgument)(null!=r,"TypedData does not support null address","value",e),r}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(r.TypedDataEncoder.getPayload(a.domain,n,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?(0,i.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,i.hexlify)(t)])}}providerJsonrpc.JsonRpcSigner=g;class y extends s.AbstractProvider{#V;#mt;#gt;#yt;#bt;#lt;#vt;#wt(){if(this.#yt)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#yt=setTimeout((()=>{this.#yt=null;const e=this.#gt;for(this.#gt=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#V.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#V.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:n,payload:s}of t){if(this.destroyed){n((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=r.filter((e=>e.id===s.id))[0];if(null!=t)"error"in t?n(this.getRpcError(s,t)):e(t.result);else{const e=(0,i.makeError)("missing response for request","BAD_DATA",{value:r,info:{payload:s}});this.emit("error",e),n(e)}}}catch(r){this.emit("debug",{action:"receiveRpcError",error:r});for(const{reject:e}of t)e(r)}})()}}),e)}constructor(e,t){super(e,t),this.#mt=1,this.#V=Object.assign({},m,t||{}),this.#gt=[],this.#yt=null,this.#lt=null,this.#vt=null;{let e=null;const t=new Promise((t=>{e=t}));this.#bt={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?((0,i.assertArgument)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#lt=a.Network.from(e))):r&&((0,i.assertArgument)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#lt=r)}_getOption(e){return this.#V[e]}get _network(){return(0,i.assert)(this.#lt,"network is not available yet","NETWORK_ERROR"),this.#lt}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,i.getBigInt)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#lt)return this.#lt}return this.#vt?await this.#vt:this.ready?(this.#vt=(async()=>{try{const e=a.Network.from((0,i.getBigInt)(await this.send("eth_chainId",[])));return this.#vt=null,e}catch(e){throw this.#vt=null,e}})(),await this.#vt):(this.#vt=(async()=>{const e={id:this.#mt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#vt=null}catch(r){throw this.#vt=null,this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return a.Network.from((0,i.getBigInt)(t.result));throw this.getRpcError(e,t)})(),await this.#vt)}_start(){null!=this.#bt&&null!=this.#bt.resolve&&(this.#bt.resolve(),this.#bt=null,(async()=>{for(;null==this.#lt&&!this.destroyed;)try{this.#lt=await this._detectNetwork()}catch(e){if(this.destroyed)break;this.emit("error",(0,i.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await d(1e3)}this.#wt()})())}async _waitUntilReady(){if(null!=this.#bt)return await this.#bt.promise}_getSubscriber(e){return"pending"===e.type?new u.FilterIdPendingSubscriber(this):"event"===e.type?this._getOption("polling")?new c.PollingEventSubscriber(this,e.filter):new u.FilterIdEventSubscriber(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new s.UnmanagedSubscriber("orphan"):super._getSubscriber(e)}get ready(){return null==this.#bt}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=(0,i.toQuantity)((0,i.getBigInt)(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=(0,i.hexlify)(e[r]))})),e.accessList&&(t.accessList=(0,n.accessListify)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[f(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[f(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[f(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[f(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(f):e.filter.address=f(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(t,r){const{method:n}=t,{error:s}=r;if("eth_estimateGas"===n&&s.message){const e=s.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return(0,i.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:s}})}if("eth_call"===n||"eth_estimateGas"===n){const r=v(s),i=e.AbiCoder.getBuiltinCallException("eth_call"===n?"call":"estimateGas",t.params[0],r?r.data:null);return i.info={error:s,payload:t},i}const o=JSON.stringify(function(e){const t=[];return w(e,t),t}(s));if("string"==typeof s.message&&s.message.match(/user denied|ethers-user-denied/i)){const e={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,i.makeError)("user rejected action","ACTION_REJECTED",{action:e[n]||"unknown",reason:"rejected",info:{payload:t,error:s}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const e=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,i.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,i.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,i.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:s}});if(o.match(/only replay-protected/i))return(0,i.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:e,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,i.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:s,payload:t}}):(0,i.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:t})}send(e,t){if(this.destroyed)return Promise.reject((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#mt++,n=new Promise(((n,i)=>{this.#gt.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#wt(),n}async getSigner(e){null==e&&(e=0);const r=this.send("eth_accounts",[]);if("number"==typeof e){const t=await r;if(e>=t.length)throw new Error("no such account");return new g(this,t[e])}const{accounts:n}=await(0,i.resolveProperties)({network:this.getNetwork(),accounts:r});e=(0,t.getAddress)(e);for(const i of n)if((0,t.getAddress)(i)===e)return new g(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new g(this,e)))}destroy(){this.#yt&&(clearTimeout(this.#yt),this.#yt=null);for(const{payload:e,reject:t}of this.#gt)t((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#gt=[],super.destroy()}}providerJsonrpc.JsonRpcApiProvider=y;class b extends y{#At;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=m.pollingInterval),this.#At=r}_getSubscriber(e){const t=super._getSubscriber(e);return p(t)&&(t.pollingInterval=this.#At),t}get pollingInterval(){return this.#At}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#At=e,this._forEachSubscriber((e=>{p(e)&&(e.pollingInterval=this.#At)}))}}providerJsonrpc.JsonRpcApiPollingProvider=b;function v(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&(0,i.isHexString)(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=v(e[t]);if(r)return r}return null}if("string"==typeof e)try{return v(JSON.parse(e))}catch(t){}return null}function w(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)w(e[r],t);if("string"==typeof e)try{return w(JSON.parse(e),t)}catch(r){}}}return providerJsonrpc.JsonRpcProvider=class extends b{#Mt;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),this.#Mt="string"==typeof e?new i.FetchRequest(e):e.clone()}_getConnection(){return this.#Mt.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}},providerJsonrpc}function requireProviderAnkr(){if(hasRequiredProviderAnkr)return providerAnkr;hasRequiredProviderAnkr=1,Object.defineProperty(providerAnkr,"__esModule",{value:!0}),providerAnkr.AnkrProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc(),i="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class s extends n.JsonRpcProvider{apiKey;constructor(t,n){null==t&&(t="mainnet");const o=r.Network.from(t);null==n&&(n=i);const a={polling:!0,staticNetwork:o};super(s.getRequest(o,n),o,a),(0,e.defineProperties)(this,{apiKey:n})}_getProvider(e){try{return new s(e,this.apiKey)}catch(t){}return super._getProvider(e)}static getRequest(r,n){null==n&&(n=i);const s=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/${n}`);return s.allowGzip=!0,n===i&&(s.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("AnkrProvider"),!0)),s}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===i}}return providerAnkr.AnkrProvider=s,providerAnkr}var providerAlchemy={},hasRequiredProviderAlchemy;function requireProviderAlchemy(){if(hasRequiredProviderAlchemy)return providerAlchemy;hasRequiredProviderAlchemy=1,Object.defineProperty(providerAlchemy,"__esModule",{value:!0}),providerAlchemy.AlchemyProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc(),i="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class s extends n.JsonRpcProvider{apiKey;constructor(t,n){null==t&&(t="mainnet");const o=r.Network.from(t);null==n&&(n=i);super(s.getRequest(o,n),o,{staticNetwork:o}),(0,e.defineProperties)(this,{apiKey:n})}_getProvider(e){try{return new s(e,this.apiKey)}catch(t){}return super._getProvider(e)}async _perform(t){if("getTransactionResult"===t.method){const{trace:n,tx:i}=await(0,e.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(null==n||null==i)return null;let s,o=!1;try{s=n[0].result.output,o="Reverted"===n[0].error}catch(r){}if(s)return(0,e.assert)(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:s,reason:null,transaction:i,invocation:null,revert:null}),s;(0,e.assert)(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(t)}isCommunityResource(){return this.apiKey===i}static getRequest(r,n){null==n&&(n=i);const s=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/v2/${n}`);return s.allowGzip=!0,n===i&&(s.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("alchemy"),!0)),s}}return providerAlchemy.AlchemyProvider=s,providerAlchemy}var providerChainstack={},hasRequiredProviderChainstack;function requireProviderChainstack(){if(hasRequiredProviderChainstack)return providerChainstack;hasRequiredProviderChainstack=1,Object.defineProperty(providerChainstack,"__esModule",{value:!0}),providerChainstack.ChainstackProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc();function i(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,e.assertArgument)(!1,"unsupported network","network",t)}class s extends n.JsonRpcProvider{apiKey;constructor(t,n){null==t&&(t="mainnet");const o=r.Network.from(t);null==n&&(n=i(o.name));super(s.getRequest(o,n),o,{staticNetwork:o}),(0,e.defineProperties)(this,{apiKey:n})}_getProvider(e){try{return new s(e,this.apiKey)}catch(t){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===i(this._network.name)}static getRequest(r,n){null==n&&(n=i(r.name));const s=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/${n}`);return s.allowGzip=!0,n===i(r.name)&&(s.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("ChainstackProvider"),!0)),s}}return providerChainstack.ChainstackProvider=s,providerChainstack}var providerCloudflare={},hasRequiredProviderCloudflare;function requireProviderCloudflare(){if(hasRequiredProviderCloudflare)return providerCloudflare;hasRequiredProviderCloudflare=1,Object.defineProperty(providerCloudflare,"__esModule",{value:!0}),providerCloudflare.CloudflareProvider=void 0;const e=requireUtils$6(),t=requireNetwork(),r=requireProviderJsonrpc();class n extends r.JsonRpcProvider{constructor(r){null==r&&(r="mainnet");const n=t.Network.from(r);(0,e.assertArgument)("mainnet"===n.name,"unsupported network","network",r),super("https://cloudflare-eth.com/",n,{staticNetwork:n})}}return providerCloudflare.CloudflareProvider=n,providerCloudflare}var providerEtherscan={},hasRequiredProviderEtherscan;function requireProviderEtherscan(){if(hasRequiredProviderEtherscan)return providerEtherscan;hasRequiredProviderEtherscan=1,Object.defineProperty(providerEtherscan,"__esModule",{value:!0}),providerEtherscan.EtherscanProvider=providerEtherscan.EtherscanPlugin=void 0;const t=requireAbi(),r=requireContract(),n=requireTransaction(),i=requireUtils$6(),s=requireAbstractProvider(),o=requireNetwork(),a=requirePluginsNetwork(),u=requireCommunity();const c="org.ethers.plugins.provider.Etherscan";class h extends a.NetworkPlugin{baseUrl;constructor(e){super(c),(0,i.defineProperties)(this,{baseUrl:e})}clone(){return new h(this.baseUrl)}}providerEtherscan.EtherscanPlugin=h;const l=["enableCcipRead"];let d=1;class f extends s.AbstractProvider{network;apiKey;#Et;constructor(e,t){const r=null!=t?t:null;super();const n=o.Network.from(e);this.#Et=n.getPlugin(c),(0,i.defineProperties)(this,{apiKey:r,network:n}),this.getBaseUrl()}getBaseUrl(){if(this.#Et)return this.#Et.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,i.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}async detectNetwork(){return this.network}async fetch(e,t,r){const n=d++,s=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:s,payload:o});const a=new i.FetchRequest(s);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(e,t,r)=>(this.isCommunityResource()&&(0,u.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),a.processFunc=async(t,r)=>{const s=r.hasBody()?JSON.parse((0,i.toUtf8String)(r.body)):{},o=("string"==typeof s.result?s.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?s&&0==s.status&&"NOTOK"==s.message&&o&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:s}),r.throwThrottleError(s.result,2e3)):o&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:s.result}),r.throwThrottleError(s.result,2e3)),r},o&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const c=await a.send();try{c.assertOk()}catch(l){this.emit("debug",{action:"receiveError",id:n,error:l,reason:"assertOk"}),(0,i.assert)(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),(0,i.assert)(!1,"missing response","SERVER_ERROR",{request:a,response:c}));const h=JSON.parse((0,i.toUtf8String)(c.body));return"proxy"===e?("2.0"!=h.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:h,reason:"invalid JSON-RPC"}),(0,i.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:h}})),h.error&&(this.emit("debug",{action:"receiveError",id:n,result:h,reason:"JSON-RPC error"}),(0,i.assert)(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:h}})),this.emit("debug",{action:"receiveRequest",id:n,result:h}),h.result):0!=h.status||"No records found"!==h.message&&"No transactions found"!==h.message?((1!=h.status||"string"==typeof h.message&&!h.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:n,result:h}),(0,i.assert)(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:h}})),this.emit("debug",{action:"receiveRequest",id:n,result:h}),h.result):(this.emit("debug",{action:"receiveRequest",id:n,result:h}),h.result)}_getTransactionPostData(e){const t={};for(let r in e){if(l.indexOf(r)>=0)continue;if(null==e[r])continue;let s=e[r];if(("type"!==r||0!==s)&&("blockTag"!==r||"latest"!==s)){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])s=(0,i.toQuantity)(s);else if("accessList"===r)s="["+(0,n.accessListify)(s).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]";else if("blobVersionedHashes"===r){if(0===s.length)continue;(0,i.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else s=(0,i.hexlify)(s);t[r]=s}}return t}_checkError(r,s,o){let a="";if((0,i.isError)(s,"SERVER_ERROR")){try{a=s.info.result.error.message}catch(e){}if(!a)try{a=s.info.message}catch(e){}}if("estimateGas"===r.method&&!a.match(/revert/i)&&a.match(/insufficient funds/i)&&(0,i.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.transaction}),("call"===r.method||"estimateGas"===r.method)&&a.match(/execution reverted/i)){let e="";try{e=s.info.result.error.data}catch(u){}const n=t.AbiCoder.getBuiltinCallException(r.method,r.transaction,e);throw n.info={request:r,error:s},n}if(a&&"broadcastTransaction"===r.method){const e=n.Transaction.from(r.signedTransaction);a.match(/replacement/i)&&a.match(/underpriced/i)&&(0,i.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e}),a.match(/insufficient funds/)&&(0,i.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e}),a.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,i.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:e})}throw s}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((t=>this._checkError(e,t,e.signedTransaction)));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});(0,i.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_call";try{return await this.fetch("proxy",r,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{const r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_estimateGas";try{return await this.fetch("proxy",r,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);var n;(n=t)&&"function"==typeof n.then&&(t=await t);try{const e=await this.fetch("contract",{action:"getabi",address:t}),n=JSON.parse(e);return new r.Contract(t,n,this)}catch(i){return null}}isCommunityResource(){return null==this.apiKey}}return providerEtherscan.EtherscanProvider=f,providerEtherscan}var providerInfura={},providerWebsocket={},wsBrowser={},hasRequiredWsBrowser;function requireWsBrowser(){if(hasRequiredWsBrowser)return wsBrowser;hasRequiredWsBrowser=1,Object.defineProperty(wsBrowser,"__esModule",{value:!0}),wsBrowser.WebSocket=void 0;const e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==commonjsGlobal)return commonjsGlobal;throw new Error("unable to locate global object")}().WebSocket;return wsBrowser.WebSocket=e,wsBrowser}var providerSocket={},hasRequiredProviderSocket,hasRequiredProviderWebsocket,hasRequiredProviderInfura;function requireProviderSocket(){if(hasRequiredProviderSocket)return providerSocket;hasRequiredProviderSocket=1,Object.defineProperty(providerSocket,"__esModule",{value:!0}),providerSocket.SocketProvider=providerSocket.SocketEventSubscriber=providerSocket.SocketPendingSubscriber=providerSocket.SocketBlockSubscriber=providerSocket.SocketSubscriber=void 0;const e=requireAbstractProvider(),t=requireUtils$6(),r=requireProviderJsonrpc();class n{#$e;#ke;get filter(){return JSON.parse(this.#ke)}#_t;#St;#xt;constructor(e,t){this.#$e=e,this.#ke=JSON.stringify(t),this.#_t=null,this.#St=null,this.#xt=null}start(){this.#_t=this.#$e.send("eth_subscribe",this.filter).then((e=>(this.#$e._register(e,this),e)))}stop(){this.#_t.then((e=>{this.#$e.destroyed||this.#$e.send("eth_unsubscribe",[e])})),this.#_t=null}pause(e){(0,t.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#St=!!e}resume(){this.#St=null}_handleMessage(e){if(null!=this.#_t&&null===this.#St){let t=this.#xt;t=null==t?this._emit(this.#$e,e):t.then((async()=>{await this._emit(this.#$e,e)})),this.#xt=t.then((()=>{this.#xt===t&&(this.#xt=null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}providerSocket.SocketSubscriber=n;class i extends n{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}providerSocket.SocketBlockSubscriber=i;class s extends n{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}providerSocket.SocketPendingSubscriber=s;class o extends n{#Rt;get logFilter(){return JSON.parse(this.#Rt)}constructor(e,t){super(e,["logs",t]),this.#Rt=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}providerSocket.SocketEventSubscriber=o;class a extends r.JsonRpcApiProvider{#kt;#Ke;#Pt;constructor(e,r){const n=Object.assign({},null!=r?r:{});(0,t.assertArgument)(null==n.batchMaxCount||1===n.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",r),n.batchMaxCount=1,null==n.staticNetwork&&(n.staticNetwork=!0),super(e,n),this.#kt=new Map,this.#Ke=new Map,this.#Pt=new Map}_getSubscriber(t){switch(t.type){case"close":return new e.UnmanagedSubscriber("close");case"block":return new i(this);case"pending":return new s(this);case"event":return new o(this,t.filter);case"orphan":if("drop-log"===t.filter.orphan)return new e.UnmanagedSubscriber("drop-log")}return super._getSubscriber(t)}_register(e,t){this.#Ke.set(e,t);const r=this.#Pt.get(e);if(r){for(const e of r)t._handleMessage(e);this.#Pt.delete(e)}}async _send(e){(0,t.assertArgument)(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const r=new Promise(((t,r)=>{this.#kt.set(e.id,{payload:e,resolve:t,reject:r})}));return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await r]}async _processMessage(e){const r=JSON.parse(e);if(r&&"object"==typeof r&&"id"in r){const e=this.#kt.get(r.id);if(null==e)return void this.emit("error",(0,t.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:r}));this.#kt.delete(r.id),e.resolve(r)}else{if(!r||"eth_subscription"!==r.method)return void this.emit("error",(0,t.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:r}));{const e=r.params.subscription,t=this.#Ke.get(e);if(t)t._handleMessage(r.params.result);else{let t=this.#Pt.get(e);null==t&&(t=[],this.#Pt.set(e,t)),t.push(r.params.result)}}}}async _write(e){throw new Error("sub-classes must override this")}}return providerSocket.SocketProvider=a,providerSocket}function requireProviderWebsocket(){if(hasRequiredProviderWebsocket)return providerWebsocket;hasRequiredProviderWebsocket=1,Object.defineProperty(providerWebsocket,"__esModule",{value:!0}),providerWebsocket.WebSocketProvider=void 0;const e=requireWsBrowser(),t=requireProviderSocket();class r extends t.SocketProvider{#Mt;#Bt;get websocket(){if(null==this.#Bt)throw new Error("websocket closed");return this.#Bt}constructor(t,r,n){super(r,n),"string"==typeof t?(this.#Mt=()=>new e.WebSocket(t),this.#Bt=this.#Mt()):"function"==typeof t?(this.#Mt=t,this.#Bt=t()):(this.#Mt=null,this.#Bt=t),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#Bt&&(this.#Bt.close(),this.#Bt=null),super.destroy()}}return providerWebsocket.WebSocketProvider=r,providerWebsocket}function requireProviderInfura(){if(hasRequiredProviderInfura)return providerInfura;hasRequiredProviderInfura=1,Object.defineProperty(providerInfura,"__esModule",{value:!0}),providerInfura.InfuraProvider=providerInfura.InfuraWebSocketProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc(),i=requireProviderWebsocket(),s="84842078b09946638c03157f83405213";class o extends i.WebSocketProvider{projectId;projectSecret;constructor(t,r){const n=new a(t,r),i=n._getConnection();(0,e.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),n._network),(0,e.defineProperties)(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===s}}providerInfura.InfuraWebSocketProvider=o;class a extends n.JsonRpcProvider{projectId;projectSecret;constructor(t,n,i){null==t&&(t="mainnet");const o=r.Network.from(t);null==n&&(n=s),null==i&&(i=null);super(a.getRequest(o,n,i),o,{staticNetwork:o}),(0,e.defineProperties)(this,{projectId:n,projectSecret:i})}_getProvider(e){try{return new a(e,this.projectId,this.projectSecret)}catch(t){}return super._getProvider(e)}isCommunityResource(){return this.projectId===s}static getWebSocketProvider(e,t){return new o(e,t)}static getRequest(r,n,i){null==n&&(n=s),null==i&&(i=null);const o=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/v3/${n}`);return o.allowGzip=!0,i&&o.setCredentials("",i),n===s&&(o.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("InfuraProvider"),!0)),o}}return providerInfura.InfuraProvider=a,providerInfura}var providerQuicknode={},hasRequiredProviderQuicknode;function requireProviderQuicknode(){if(hasRequiredProviderQuicknode)return providerQuicknode;hasRequiredProviderQuicknode=1,Object.defineProperty(providerQuicknode,"__esModule",{value:!0}),providerQuicknode.QuickNodeProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc(),i="919b412a057b5e9c9b6dce193c5a60242d6efadb";class s extends n.JsonRpcProvider{token;constructor(t,n){null==t&&(t="mainnet");const o=r.Network.from(t);null==n&&(n=i);super(s.getRequest(o,n),o,{staticNetwork:o}),(0,e.defineProperties)(this,{token:n})}_getProvider(e){try{return new s(e,this.token)}catch(t){}return super._getProvider(e)}isCommunityResource(){return this.token===i}static getRequest(r,n){null==n&&(n=i);const s=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/${n}`);return s.allowGzip=!0,n===i&&(s.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("QuickNodeProvider"),!0)),s}}return providerQuicknode.QuickNodeProvider=s,providerQuicknode}var providerFallback={},hasRequiredProviderFallback,hasRequiredDefaultProvider;function requireProviderFallback(){if(hasRequiredProviderFallback)return providerFallback;hasRequiredProviderFallback=1,Object.defineProperty(providerFallback,"__esModule",{value:!0}),providerFallback.FallbackProvider=void 0;const e=requireUtils$6(),t=requireAbstractProvider(),r=requireNetwork(),n=BigInt("1"),i=BigInt("2");function s(){return(new Date).getTime()}function o(e){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t))}const a={stallTimeout:400,priority:1,weight:1},u={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function c(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(c).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return c(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{"+t.map((t=>`${JSON.stringify(t)}:${c(e[t])}`)).join(",")+"}"}}throw new Error("Hmm...")}function h(e){if("error"in e){const t=e.error;return{tag:c(t),value:t}}const t=e.result;return{tag:c(t),value:t}}function l(e,t){const r=new Map;for(const{value:i,tag:s,weight:o}of t){const e=r.get(s)||{value:i,weight:0};e.weight+=o,r.set(s,e)}let n=null;for(const i of r.values())i.weight>=e&&(!n||i.weight>n.weight)&&(n=i);if(n)return n.value}function d(e,t){let r=0;const s=new Map;let o=null;const a=[];for(const{value:n,tag:i,weight:c}of t)if(n instanceof Error){const e=s.get(i)||{value:n,weight:0};e.weight+=c,s.set(i,e),(null==o||e.weight>o.weight)&&(o=e)}else a.push(BigInt(n)),r+=c;if(r<e)return o&&o.weight>=e?o.value:void 0;a.sort(((e,t)=>e<t?-1:t>e?1:0));const u=Math.floor(a.length/2);return a.length%2?a[u]:(a[u-1]+a[u]+n)/i}function f(e,t){const r=l(e,t);if(void 0!==r)return r;for(const n of t)if(n.value)return n.value}class p extends t.AbstractProvider{quorum;eventQuorum;eventWorkers;#Tt;#Ct;#Ot;constructor(r,n,i){super(n,i),this.#Tt=r.map((e=>e instanceof t.AbstractProvider?Object.assign({provider:e},a,u):Object.assign({},a,e,u))),this.#Ct=-2,this.#Ot=null,i&&null!=i.quorum?this.quorum=i.quorum:this.quorum=Math.ceil(this.#Tt.reduce(((e,t)=>e+=t.weight),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,e.assertArgument)(this.quorum<=this.#Tt.reduce(((e,t)=>e+t.weight),0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#Tt.map((e=>{const t=Object.assign({},e);for(const r in t)"_"===r[0]&&delete t[r];return t}))}async _detectNetwork(){return r.Network.from((0,e.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#qt(e){const t=Array.from(e).map((e=>e.config)),r=this.#Tt.slice();!function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}}(r),r.sort(((e,t)=>e.priority-t.priority));for(const n of r)if(!n._lastFatalError&&-1===t.indexOf(n))return n;return null}#It(e,t){const r=this.#qt(e);if(null==r)return null;const n={config:r,result:null,didBump:!1,perform:null,staller:null},i=s();return n.perform=(async()=>{try{r.requests++;const e=await this._translatePerform(r.provider,t);n.result={result:e}}catch(o){r.errorResponses++,n.result={error:o}}const e=s()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await(e=r.stallTimeout,new Promise((t=>{setTimeout(t,e)}))),n.staller=null})(),e.add(n),n}async#Nt(){let t=this.#Ot;if(!t){const r=[];this.#Tt.forEach((e=>{r.push((async()=>{await async function(e,t){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=(async()=>{try{const t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=s()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}(e,0),e._lastFatalError||(e._network=await e.provider.getNetwork())})())})),this.#Ot=t=(async()=>{await Promise.all(r);let t=null;for(const r of this.#Tt){if(r._lastFatalError)continue;const n=r._network;null==t?t=n.chainId:n.chainId!==t&&(0,e.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await t}async#$t(t,r){const n=[];for(const e of t)if(null!=e.result){const{tag:t,value:r}=h(e.result);n.push({tag:t,value:r,weight:e.config.weight})}if(!(n.reduce(((e,t)=>e+t.weight),0)<this.quorum)){switch(r.method){case"getBlockNumber":{-2===this.#Ct&&(this.#Ct=Math.ceil((0,e.getNumber)(d(this.quorum,this.#Tt.filter((e=>!e._lastFatalError)).map((t=>({value:t.blockNumber,tag:(0,e.getNumber)(t.blockNumber).toString(),weight:t.weight})))))));const t=function(t,r){if(1===t)return(0,e.getNumber)(d(t,r),"%internal");const n=new Map,i=(e,t)=>{const r=n.get(e)||{result:e,weight:0};r.weight+=t,n.set(e,r)};for(const{weight:a,value:u}of r){const t=(0,e.getNumber)(u);i(t-1,a),i(t,a),i(t+1,a)}let s,o=0;for(const{weight:e,result:a}of n.values())e>=t&&(e>o||null!=s&&e===o&&a>s)&&(o=e,s=a);return s}(this.quorum,n);if(void 0===t)return;return t>this.#Ct&&(this.#Ct=t),this.#Ct}case"getGasPrice":case"getPriorityFee":case"estimateGas":return d(this.quorum,n);case"getBlock":return"blockTag"in r&&"pending"===r.blockTag?f(this.quorum,n):l(this.quorum,n);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return l(this.quorum,n);case"broadcastTransaction":return f(this.quorum,n)}(0,e.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${o(r.method)})`})}}async#Lt(t,r){if(0===t.size)throw new Error("no runners?!");const n=[];let i=0;for(const e of t)e.perform&&n.push(e.perform),e.staller?n.push(e.staller):e.didBump||(e.didBump=!0,i++);const s=await this.#$t(t,r);if(void 0!==s){if(s instanceof Error)throw s;return s}for(let e=0;e<i;e++)this.#It(t,r);return(0,e.assert)(n.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:r,results:Array.from(t).map((e=>o(e.result)))}}),await Promise.race(n),await this.#Lt(t,r)}async _perform(t){if("broadcastTransaction"===t.method){const r=this.#Tt.map((e=>null)),n=this.#Tt.map((async({provider:e,weight:n},i)=>{try{const s=await e._perform(t);r[i]=Object.assign(h({result:s}),{weight:n})}catch(s){r[i]=Object.assign(h({error:s}),{weight:n})}}));for(;;){const t=r.filter((e=>null!=e));for(const{value:e}of t)if(!(e instanceof Error))return e;const i=l(this.quorum,r.filter((e=>null!=e)));if((0,e.isError)(i,"INSUFFICIENT_FUNDS"))throw i;const s=n.filter(((e,t)=>null==r[t]));if(0===s.length)break;await Promise.race(s)}const i=f(this.quorum,r);if((0,e.assert)(void 0!==i,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:r.map(o)}}),i instanceof Error)throw i;return i}await this.#Nt();const r=new Set;let n=0;for(;;){const e=this.#It(r,t);if(null==e)break;if(n+=e.config.weight,n>=this.quorum)break}const i=await this.#Lt(r,t);for(const e of r)e.perform&&null==e.result&&e.config.lateResponses++;return i}async destroy(){for(const{provider:e}of this.#Tt)e.destroy();super.destroy()}}return providerFallback.FallbackProvider=p,providerFallback}function requireDefaultProvider(){if(hasRequiredDefaultProvider)return defaultProvider;hasRequiredDefaultProvider=1,Object.defineProperty(defaultProvider,"__esModule",{value:!0}),defaultProvider.getDefaultProvider=void 0;const e=requireUtils$6(),t=requireProviderAnkr(),r=requireProviderAlchemy(),n=requireProviderChainstack(),i=requireProviderCloudflare(),s=requireProviderEtherscan(),o=requireProviderInfura(),a=requireProviderQuicknode(),u=requireProviderFallback(),c=requireProviderJsonrpc(),h=requireNetwork(),l=requireProviderWebsocket();const d="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");return defaultProvider.getDefaultProvider=function(f,p){null==p&&(p={});const m=e=>"-"!==p[e]&&("string"==typeof p.exclusive?e===p.exclusive:!Array.isArray(p.exclusive)||-1!==p.exclusive.indexOf(e));if("string"==typeof f&&f.match(/^https?:/))return new c.JsonRpcProvider(f);if("string"==typeof f&&f.match(/^wss?:/)||(g=f)&&"function"==typeof g.send&&"function"==typeof g.close)return new l.WebSocketProvider(f);var g;let y=null;try{y=h.Network.from(f)}catch(w){}const b=[];if(m("publicPolygon")&&y&&("matic"===y.name?b.push(new c.JsonRpcProvider("https://polygon-rpc.com/",y,{staticNetwork:y})):"matic-amoy"===y.name&&b.push(new c.JsonRpcProvider("https://rpc-amoy.polygon.technology/",y,{staticNetwork:y}))),m("alchemy"))try{b.push(new r.AlchemyProvider(f,p.alchemy))}catch(w){}if(m("ankr")&&null!=p.ankr)try{b.push(new t.AnkrProvider(f,p.ankr))}catch(w){}if(m("chainstack"))try{b.push(new n.ChainstackProvider(f,p.chainstack))}catch(w){}if(m("cloudflare"))try{b.push(new i.CloudflareProvider(f))}catch(w){}if(m("etherscan"))try{b.push(new s.EtherscanProvider(f,p.etherscan))}catch(w){}if(m("infura"))try{let e,t=p.infura;"object"==typeof t&&(e=t.projectSecret,t=t.projectId),b.push(new o.InfuraProvider(f,t,e))}catch(w){}if(m("quicknode"))try{let e=p.quicknode;b.push(new a.QuickNodeProvider(f,e))}catch(w){}if((0,e.assert)(b.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===b.length)return b[0];let v=Math.floor(b.length/2);return v>2&&(v=2),y&&-1!==d.indexOf(y.name)&&(v=1),p&&p.quorum&&(v=p.quorum),new u.FallbackProvider(b,void 0,{quorum:v})},defaultProvider}var signerNoncemanager={},hasRequiredSignerNoncemanager;function requireSignerNoncemanager(){if(hasRequiredSignerNoncemanager)return signerNoncemanager;hasRequiredSignerNoncemanager=1,Object.defineProperty(signerNoncemanager,"__esModule",{value:!0}),signerNoncemanager.NonceManager=void 0;const e=requireUtils$6(),t=requireAbstractSigner();class r extends t.AbstractSigner{signer;#jt;#Ut;constructor(t){super(t.provider),(0,e.defineProperties)(this,{signer:t}),this.#jt=null,this.#Ut=0}async getAddress(){return this.signer.getAddress()}connect(e){return new r(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#jt&&(this.#jt=super.getNonce("pending"));const e=this.#Ut;return await this.#jt+e}return super.getNonce(e)}increment(){this.#Ut++}reset(){this.#Ut=0,this.#jt=null}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}return signerNoncemanager.NonceManager=r,signerNoncemanager}var providerBrowser={},hasRequiredProviderBrowser;function requireProviderBrowser(){if(hasRequiredProviderBrowser)return providerBrowser;hasRequiredProviderBrowser=1,Object.defineProperty(providerBrowser,"__esModule",{value:!0}),providerBrowser.BrowserProvider=void 0;const t=requireUtils$6(),r=requireProviderJsonrpc();class n extends r.JsonRpcApiPollingProvider{#A;constructor(r,n,i){const s=Object.assign({},null!=i?i:{},{batchMaxCount:1});(0,t.assertArgument)(r&&r.request,"invalid EIP-1193 provider","ethereum",r),super(n,s),this.#A=async(t,n)=>{const i={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:i});try{const e=await r.request(i);return this.emit("debug",{action:"receiveEip1193Result",result:e}),e}catch(e){const r=new Error(e.message);throw r.code=e.code,r.data=e.data,r.payload=i,this.emit("debug",{action:"receiveEip1193Error",error:r}),r}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(r){(0,t.assertArgument)(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const e=await this.#A(r.method,r.params||[]);return[{id:r.id,result:e}]}catch(e){return[{id:r.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!(await this.hasSigner(e)))try{await this.#A("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}return providerBrowser.BrowserProvider=n,providerBrowser}var providerPocket={},hasRequiredProviderPocket;function requireProviderPocket(){if(hasRequiredProviderPocket)return providerPocket;hasRequiredProviderPocket=1,Object.defineProperty(providerPocket,"__esModule",{value:!0}),providerPocket.PocketProvider=void 0;const e=requireUtils$6(),t=requireCommunity(),r=requireNetwork(),n=requireProviderJsonrpc(),i="62e1ad51b37b8e00394bda3b";class s extends n.JsonRpcProvider{applicationId;applicationSecret;constructor(t,n,o){null==t&&(t="mainnet");const a=r.Network.from(t);null==n&&(n=i),null==o&&(o=null);const u={staticNetwork:a};super(s.getRequest(a,n,o),a,u),(0,e.defineProperties)(this,{applicationId:n,applicationSecret:o})}_getProvider(e){try{return new s(e,this.applicationId,this.applicationSecret)}catch(t){}return super._getProvider(e)}static getRequest(r,n,s){null==n&&(n=i);const o=new e.FetchRequest(`https://${function(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,e.assertArgument)(!1,"unsupported network","network",t)}(r.name)}/v1/lb/${n}`);return o.allowGzip=!0,s&&o.setCredentials("",s),n===i&&(o.retryFunc=async(e,r,n)=>((0,t.showThrottleMessage)("PocketProvider"),!0)),o}isCommunityResource(){return this.applicationId===i}}return providerPocket.PocketProvider=s,providerPocket}var providerIpcsocketBrowser={},hasRequiredProviderIpcsocketBrowser,hasRequiredProviders;function requireProviderIpcsocketBrowser(){if(hasRequiredProviderIpcsocketBrowser)return providerIpcsocketBrowser;hasRequiredProviderIpcsocketBrowser=1,Object.defineProperty(providerIpcsocketBrowser,"__esModule",{value:!0}),providerIpcsocketBrowser.IpcSocketProvider=void 0;return providerIpcsocketBrowser.IpcSocketProvider=void 0,providerIpcsocketBrowser}function requireProviders(){return hasRequiredProviders||(hasRequiredProviders=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SocketEventSubscriber=e.SocketPendingSubscriber=e.SocketBlockSubscriber=e.SocketSubscriber=e.WebSocketProvider=e.SocketProvider=e.IpcSocketProvider=e.QuickNodeProvider=e.PocketProvider=e.InfuraWebSocketProvider=e.InfuraProvider=e.EtherscanPlugin=e.EtherscanProvider=e.ChainstackProvider=e.CloudflareProvider=e.AnkrProvider=e.AlchemyProvider=e.BrowserProvider=e.JsonRpcSigner=e.JsonRpcProvider=e.JsonRpcApiProvider=e.FallbackProvider=e.copyRequest=e.TransactionResponse=e.TransactionReceipt=e.Log=e.FeeData=e.Block=e.FetchUrlFeeDataNetworkPlugin=e.FeeDataNetworkPlugin=e.EnsPlugin=e.GasCostPlugin=e.NetworkPlugin=e.NonceManager=e.Network=e.MulticoinProviderPlugin=e.EnsResolver=e.getDefaultProvider=e.showThrottleMessage=e.VoidSigner=e.AbstractSigner=e.UnmanagedSubscriber=e.AbstractProvider=void 0;var t=requireAbstractProvider();Object.defineProperty(e,"AbstractProvider",{enumerable:!0,get:function(){return t.AbstractProvider}}),Object.defineProperty(e,"UnmanagedSubscriber",{enumerable:!0,get:function(){return t.UnmanagedSubscriber}});var r=requireAbstractSigner();Object.defineProperty(e,"AbstractSigner",{enumerable:!0,get:function(){return r.AbstractSigner}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return r.VoidSigner}});var n=requireCommunity();Object.defineProperty(e,"showThrottleMessage",{enumerable:!0,get:function(){return n.showThrottleMessage}});var i=requireDefaultProvider();Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return i.getDefaultProvider}});var s=requireEnsResolver();Object.defineProperty(e,"EnsResolver",{enumerable:!0,get:function(){return s.EnsResolver}}),Object.defineProperty(e,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return s.MulticoinProviderPlugin}});var o=requireNetwork();Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return o.Network}});var a=requireSignerNoncemanager();Object.defineProperty(e,"NonceManager",{enumerable:!0,get:function(){return a.NonceManager}});var u=requirePluginsNetwork();Object.defineProperty(e,"NetworkPlugin",{enumerable:!0,get:function(){return u.NetworkPlugin}}),Object.defineProperty(e,"GasCostPlugin",{enumerable:!0,get:function(){return u.GasCostPlugin}}),Object.defineProperty(e,"EnsPlugin",{enumerable:!0,get:function(){return u.EnsPlugin}}),Object.defineProperty(e,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FeeDataNetworkPlugin}}),Object.defineProperty(e,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FetchUrlFeeDataNetworkPlugin}});var c=requireProvider();Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return c.Block}}),Object.defineProperty(e,"FeeData",{enumerable:!0,get:function(){return c.FeeData}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return c.Log}}),Object.defineProperty(e,"TransactionReceipt",{enumerable:!0,get:function(){return c.TransactionReceipt}}),Object.defineProperty(e,"TransactionResponse",{enumerable:!0,get:function(){return c.TransactionResponse}}),Object.defineProperty(e,"copyRequest",{enumerable:!0,get:function(){return c.copyRequest}});var h=requireProviderFallback();Object.defineProperty(e,"FallbackProvider",{enumerable:!0,get:function(){return h.FallbackProvider}});var l=requireProviderJsonrpc();Object.defineProperty(e,"JsonRpcApiProvider",{enumerable:!0,get:function(){return l.JsonRpcApiProvider}}),Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return l.JsonRpcProvider}}),Object.defineProperty(e,"JsonRpcSigner",{enumerable:!0,get:function(){return l.JsonRpcSigner}});var d=requireProviderBrowser();Object.defineProperty(e,"BrowserProvider",{enumerable:!0,get:function(){return d.BrowserProvider}});var f=requireProviderAlchemy();Object.defineProperty(e,"AlchemyProvider",{enumerable:!0,get:function(){return f.AlchemyProvider}});var p=requireProviderAnkr();Object.defineProperty(e,"AnkrProvider",{enumerable:!0,get:function(){return p.AnkrProvider}});var m=requireProviderCloudflare();Object.defineProperty(e,"CloudflareProvider",{enumerable:!0,get:function(){return m.CloudflareProvider}});var g=requireProviderChainstack();Object.defineProperty(e,"ChainstackProvider",{enumerable:!0,get:function(){return g.ChainstackProvider}});var y=requireProviderEtherscan();Object.defineProperty(e,"EtherscanProvider",{enumerable:!0,get:function(){return y.EtherscanProvider}}),Object.defineProperty(e,"EtherscanPlugin",{enumerable:!0,get:function(){return y.EtherscanPlugin}});var b=requireProviderInfura();Object.defineProperty(e,"InfuraProvider",{enumerable:!0,get:function(){return b.InfuraProvider}}),Object.defineProperty(e,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return b.InfuraWebSocketProvider}});var v=requireProviderPocket();Object.defineProperty(e,"PocketProvider",{enumerable:!0,get:function(){return v.PocketProvider}});var w=requireProviderQuicknode();Object.defineProperty(e,"QuickNodeProvider",{enumerable:!0,get:function(){return w.QuickNodeProvider}});const A=requireProviderIpcsocketBrowser();Object.defineProperty(e,"IpcSocketProvider",{enumerable:!0,get:function(){return A.IpcSocketProvider}});var M=requireProviderSocket();Object.defineProperty(e,"SocketProvider",{enumerable:!0,get:function(){return M.SocketProvider}});var E=requireProviderWebsocket();Object.defineProperty(e,"WebSocketProvider",{enumerable:!0,get:function(){return E.WebSocketProvider}});var _=requireProviderSocket();Object.defineProperty(e,"SocketSubscriber",{enumerable:!0,get:function(){return _.SocketSubscriber}}),Object.defineProperty(e,"SocketBlockSubscriber",{enumerable:!0,get:function(){return _.SocketBlockSubscriber}}),Object.defineProperty(e,"SocketPendingSubscriber",{enumerable:!0,get:function(){return _.SocketPendingSubscriber}}),Object.defineProperty(e,"SocketEventSubscriber",{enumerable:!0,get:function(){return _.SocketEventSubscriber}})}(providers)),providers}var wallet$1={},baseWallet={},hasRequiredBaseWallet;function requireBaseWallet(){if(hasRequiredBaseWallet)return baseWallet;hasRequiredBaseWallet=1,Object.defineProperty(baseWallet,"__esModule",{value:!0}),baseWallet.BaseWallet=void 0;const e=requireAddress$2(),t=requireHash$2(),r=requireProviders(),n=requireTransaction(),i=requireUtils$6();class s extends r.AbstractSigner{address;#Dt;constructor(e,t){super(t),(0,i.assertArgument)(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#Dt=e;const r=(0,n.computeAddress)(this.signingKey.publicKey);(0,i.defineProperties)(this,{address:r})}get signingKey(){return this.#Dt}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new s(this.#Dt,e)}async signTransaction(t){t=(0,r.copyRequest)(t);const{to:s,from:o}=await(0,i.resolveProperties)({to:t.to?(0,e.resolveAddress)(t.to,this.provider):void 0,from:t.from?(0,e.resolveAddress)(t.from,this.provider):void 0});null!=s&&(t.to=s),null!=o&&(t.from=o),null!=t.from&&((0,i.assertArgument)((0,e.getAddress)(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const a=n.Transaction.from(t);return a.signature=this.signingKey.sign(a.unsignedHash),a.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign((0,t.hashMessage)(e)).serialized}async signTypedData(e,r,n){const s=await t.TypedDataEncoder.resolveNames(e,r,n,(async e=>{(0,i.assert)(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return(0,i.assert)(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(t.TypedDataEncoder.hash(s.domain,r,s.value)).serialized}}return baseWallet.BaseWallet=s,baseWallet}var hdwallet={},langEn={},wordlistOwl={},decodeOwl={},hasRequiredDecodeOwl;function requireDecodeOwl(){if(hasRequiredDecodeOwl)return decodeOwl;hasRequiredDecodeOwl=1,Object.defineProperty(decodeOwl,"__esModule",{value:!0}),decodeOwl.decodeOwl=decodeOwl.decode=void 0;const e=requireUtils$6(),t=" !#$%&'()*+,-./<=>?@[]^_`{|}~",r=/^[a-z]*$/i;function n(e,t){let n=97;return e.reduce(((e,i)=>(i===t?n++:i.match(r)?e.push(String.fromCharCode(n)+i):(n=97,e.push(i)),e)),[])}function i(e,r){for(let n=28;n>=0;n--)e=e.split(t[n]).join(r.substring(2*n,2*n+2));const i=[],s=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,r,n)=>{if(r)for(let s=parseInt(r);s>=0;s--)i.push(";");else i.push(t.toLowerCase());return""}));if(s)throw new Error(`leftovers: ${JSON.stringify(s)}`);return n(n(i,";"),":")}return decodeOwl.decode=i,decodeOwl.decodeOwl=function(t){return(0,e.assertArgument)("0"===t[0],"unsupported auwl data","data",t),i(t.substring(59),t.substring(1,59))},decodeOwl}var wordlist={},hasRequiredWordlist,hasRequiredWordlistOwl,hasRequiredLangEn;function requireWordlist(){if(hasRequiredWordlist)return wordlist;hasRequiredWordlist=1,Object.defineProperty(wordlist,"__esModule",{value:!0}),wordlist.Wordlist=void 0;const e=requireUtils$6();return wordlist.Wordlist=class{locale;constructor(t){(0,e.defineProperties)(this,{locale:t})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}},wordlist}function requireWordlistOwl(){if(hasRequiredWordlistOwl)return wordlistOwl;hasRequiredWordlistOwl=1,Object.defineProperty(wordlistOwl,"__esModule",{value:!0}),wordlistOwl.WordlistOwl=void 0;const e=requireHash$2(),t=requireUtils$6(),r=requireDecodeOwl(),n=requireWordlist();class i extends n.Wordlist{#O;#Ft;constructor(e,t,r){super(e),this.#O=t,this.#Ft=r,this.#Ht=null}get _data(){return this.#O}_decodeWords(){return(0,r.decodeOwl)(this.#O)}#Ht;#zt(){if(null==this.#Ht){const t=this._decodeWords();if((0,e.id)(t.join("\n")+"\n")!==this.#Ft)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#Ht=t}return this.#Ht}getWord(e){const r=this.#zt();return(0,t.assertArgument)(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return this.#zt().indexOf(e)}}return wordlistOwl.WordlistOwl=i,wordlistOwl}function requireLangEn(){if(hasRequiredLangEn)return langEn;hasRequiredLangEn=1,Object.defineProperty(langEn,"__esModule",{value:!0}),langEn.LangEn=void 0;const e=requireWordlistOwl();let t=null;class r extends e.WordlistOwl{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==t&&(t=new r),t}}return langEn.LangEn=r,langEn}var mnemonic={},hasRequiredMnemonic;function requireMnemonic(){if(hasRequiredMnemonic)return mnemonic;hasRequiredMnemonic=1,Object.defineProperty(mnemonic,"__esModule",{value:!0}),mnemonic.Mnemonic=void 0;const e=requireCrypto(),t=requireUtils$6(),r=requireLangEn();function n(e){return(1<<e)-1<<8-e&255}function i(i,s){(0,t.assertNormalize)("NFKD"),null==s&&(s=r.LangEn.wordlist());const o=s.split(i);(0,t.assertArgument)(o.length%3==0&&o.length>=12&&o.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const a=new Uint8Array(Math.ceil(11*o.length/8));let u=0;for(let e=0;e<o.length;e++){let r=s.getWordIndex(o[e].normalize("NFKD"));(0,t.assertArgument)(r>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)r&1<<10-e&&(a[u>>3]|=1<<7-u%8),u++}const c=32*o.length/3,h=n(o.length/3),l=(0,t.getBytes)((0,e.sha256)(a.slice(0,c/8)))[0]&h;return(0,t.assertArgument)(l===(a[a.length-1]&h),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,t.hexlify)(a.slice(0,c/8))}function s(i,s){(0,t.assertArgument)(i.length%4==0&&i.length>=16&&i.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==s&&(s=r.LangEn.wordlist());const o=[0];let a=11;for(let e=0;e<i.length;e++)a>8?(o[o.length-1]<<=8,o[o.length-1]|=i[e],a-=8):(o[o.length-1]<<=a,o[o.length-1]|=i[e]>>8-a,o.push(i[e]&((1<<8-a)-1&255)),a+=3);const u=i.length/4,c=parseInt((0,e.sha256)(i).substring(2,4),16)&n(u);return o[o.length-1]<<=u,o[o.length-1]|=c>>8-u,s.join(o.map((e=>s.getWord(e))))}const o={};class a{phrase;password;wordlist;entropy;constructor(e,n,i,s,a){null==s&&(s=""),null==a&&(a=r.LangEn.wordlist()),(0,t.assertPrivate)(e,o,"Mnemonic"),(0,t.defineProperties)(this,{phrase:i,password:s,wordlist:a,entropy:n})}computeSeed(){const r=(0,t.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,e.pbkdf2)((0,t.toUtf8Bytes)(this.phrase,"NFKD"),r,2048,64,"sha512")}static fromPhrase(e,r,n){const u=i(e,n);return e=s((0,t.getBytes)(u),n),new a(o,u,e,r,n)}static fromEntropy(e,r,n){const i=(0,t.getBytes)(e,"entropy"),u=s(i,n);return new a(o,(0,t.hexlify)(i),u,r,n)}static entropyToPhrase(e,r){return s((0,t.getBytes)(e,"entropy"),r)}static phraseToEntropy(e,t){return i(e,t)}static isValidMnemonic(e,t){try{return i(e,t),!0}catch(r){}return!1}}return mnemonic.Mnemonic=a,mnemonic}var jsonKeystore={},lib_commonjs={},aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;
/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
var e,t,r,n=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},i=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(aes$1,"__esModule",{value:!0}),aes$1.AES=void 0;const s={16:10,24:12,32:14},o=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],a=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],u=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],c=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],h=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],l=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],d=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],f=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],p=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],m=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],g=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],y=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],b=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],v=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],w=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function A(e){const t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class M{get key(){return n(this,e,"f").slice()}constructor(u){if(e.set(this,void 0),t.set(this,void 0),r.set(this,void 0),!(this instanceof M))throw Error("AES must be instanitated with `new`");i(this,e,new Uint8Array(u),"f");const c=s[this.key.length];if(null==c)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");i(this,r,[],"f"),i(this,t,[],"f");for(let e=0;e<=c;e++)n(this,r,"f").push([0,0,0,0]),n(this,t,"f").push([0,0,0,0]);const h=4*(c+1),l=this.key.length/4,d=A(this.key);let f;for(let e=0;e<l;e++)f=e>>2,n(this,r,"f")[f][e%4]=d[e],n(this,t,"f")[c-f][e%4]=d[e];let p,m=0,g=l;for(;g<h;){if(p=d[l-1],d[0]^=a[p>>16&255]<<24^a[p>>8&255]<<16^a[255&p]<<8^a[p>>24&255]^o[m]<<24,m+=1,8!=l)for(let t=1;t<l;t++)d[t]^=d[t-1];else{for(let e=1;e<l/2;e++)d[e]^=d[e-1];p=d[l/2-1],d[l/2]^=a[255&p]^a[p>>8&255]<<8^a[p>>16&255]<<16^a[p>>24&255]<<24;for(let e=l/2+1;e<l;e++)d[e]^=d[e-1]}let e,i,s=0;for(;s<l&&g<h;)e=g>>2,i=g%4,n(this,r,"f")[e][i]=d[s],n(this,t,"f")[c-e][i]=d[s++],g++}for(let e=1;e<c;e++)for(let r=0;r<4;r++)p=n(this,t,"f")[e][r],n(this,t,"f")[e][r]=y[p>>24&255]^b[p>>16&255]^v[p>>8&255]^w[255&p]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=n(this,r,"f").length-1,i=[0,0,0,0];let s=A(e);for(let a=0;a<4;a++)s[a]^=n(this,r,"f")[0][a];for(let a=1;a<t;a++){for(let e=0;e<4;e++)i[e]=c[s[e]>>24&255]^h[s[(e+1)%4]>>16&255]^l[s[(e+2)%4]>>8&255]^d[255&s[(e+3)%4]]^n(this,r,"f")[a][e];s=i.slice()}const o=new Uint8Array(16);let u=0;for(let c=0;c<4;c++)u=n(this,r,"f")[t][c],o[4*c]=255&(a[s[c]>>24&255]^u>>24),o[4*c+1]=255&(a[s[(c+1)%4]>>16&255]^u>>16),o[4*c+2]=255&(a[s[(c+2)%4]>>8&255]^u>>8),o[4*c+3]=255&(a[255&s[(c+3)%4]]^u);return o}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const r=n(this,t,"f").length-1,i=[0,0,0,0];let s=A(e);for(let u=0;u<4;u++)s[u]^=n(this,t,"f")[0][u];for(let u=1;u<r;u++){for(let e=0;e<4;e++)i[e]=f[s[e]>>24&255]^p[s[(e+3)%4]>>16&255]^m[s[(e+2)%4]>>8&255]^g[255&s[(e+1)%4]]^n(this,t,"f")[u][e];s=i.slice()}const o=new Uint8Array(16);let a=0;for(let c=0;c<4;c++)a=n(this,t,"f")[r][c],o[4*c]=255&(u[s[c]>>24&255]^a>>24),o[4*c+1]=255&(u[s[(c+3)%4]>>16&255]^a>>16),o[4*c+2]=255&(u[s[(c+2)%4]>>8&255]^a>>8),o[4*c+3]=255&(u[255&s[(c+1)%4]]^a);return o}}return aes$1.AES=M,e=new WeakMap,t=new WeakMap,r=new WeakMap,aes$1}var mode={},hasRequiredMode;function requireMode(){if(hasRequiredMode)return mode;hasRequiredMode=1,Object.defineProperty(mode,"__esModule",{value:!0}),mode.ModeOfOperation=void 0;const e=requireAes$1();return mode.ModeOfOperation=class{constructor(t,r,n){if(n&&!(this instanceof n))throw new Error(`${t} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new e.AES(r)},name:{enumerable:!0,value:t}})}},mode}var modeCbc={},hasRequiredModeCbc;function requireModeCbc(){if(hasRequiredModeCbc)return modeCbc;hasRequiredModeCbc=1;var e,t,r=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},n=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(modeCbc,"__esModule",{value:!0}),modeCbc.CBC=void 0;const i=requireMode();class s extends i.ModeOfOperation{constructor(n,i){if(super("ECC",n,s),e.set(this,void 0),t.set(this,void 0),i){if(i.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");r(this,e,new Uint8Array(i),"f")}else r(this,e,new Uint8Array(16),"f");r(this,t,this.iv,"f")}get iv(){return new Uint8Array(n(this,e,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const i=new Uint8Array(e.length);for(let s=0;s<e.length;s+=16){for(let r=0;r<16;r++)n(this,t,"f")[r]^=e[s+r];r(this,t,this.aes.encrypt(n(this,t,"f")),"f"),i.set(n(this,t,"f"),s)}return i}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const r=new Uint8Array(e.length);for(let i=0;i<e.length;i+=16){const s=this.aes.decrypt(e.subarray(i,i+16));for(let o=0;o<16;o++)r[i+o]=s[o]^n(this,t,"f")[o],n(this,t,"f")[o]=e[i+o]}return r}}return modeCbc.CBC=s,e=new WeakMap,t=new WeakMap,modeCbc}var modeCfb={},hasRequiredModeCfb;function requireModeCfb(){if(hasRequiredModeCfb)return modeCfb;hasRequiredModeCfb=1;var e,t,r,n,i=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(modeCfb,"__esModule",{value:!0}),modeCfb.CFB=void 0;const o=requireMode();class a extends o.ModeOfOperation{constructor(n,s,o=8){if(super("CFB",n,a),e.add(this),t.set(this,void 0),r.set(this,void 0),!Number.isInteger(o)||o%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:o}}),s){if(s.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");i(this,t,new Uint8Array(s),"f")}else i(this,t,new Uint8Array(16),"f");i(this,r,this.iv,"f")}get iv(){return new Uint8Array(s(this,t,"f"))}encrypt(t){if(8*t.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");const i=this.segmentSize/8,o=new Uint8Array(t);for(let a=0;a<o.length;a+=i){const t=this.aes.encrypt(s(this,r,"f"));for(let e=0;e<i;e++)o[a+e]^=t[e];s(this,e,"m",n).call(this,o.subarray(a))}return o}decrypt(t){if(8*t.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");const i=this.segmentSize/8,o=new Uint8Array(t);for(let a=0;a<o.length;a+=i){const u=this.aes.encrypt(s(this,r,"f"));for(let e=0;e<i;e++)o[a+e]^=u[e];s(this,e,"m",n).call(this,t.subarray(a))}return o}}return modeCfb.CFB=a,t=new WeakMap,r=new WeakMap,e=new WeakSet,n=function(e){const t=this.segmentSize/8;s(this,r,"f").set(s(this,r,"f").subarray(t)),s(this,r,"f").set(e.subarray(0,t),16-t)},modeCfb}var modeCtr={},hasRequiredModeCtr;function requireModeCtr(){if(hasRequiredModeCtr)return modeCtr;hasRequiredModeCtr=1;var e,t,r,n=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(modeCtr,"__esModule",{value:!0}),modeCtr.CTR=void 0;const s=requireMode();class o extends s.ModeOfOperation{constructor(s,a){super("CTR",s,o),e.set(this,void 0),t.set(this,void 0),r.set(this,void 0),n(this,r,new Uint8Array(16),"f"),i(this,r,"f").fill(0),n(this,e,i(this,r,"f"),"f"),n(this,t,16,"f"),null==a&&(a=1),"number"==typeof a?this.setCounterValue(a):this.setCounterBytes(a)}get counter(){return new Uint8Array(i(this,r,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)i(this,r,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");i(this,r,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==i(this,r,"f")[e]){i(this,r,"f")[e]++;break}i(this,r,"f")[e]=0}}encrypt(s){var o,a;const u=new Uint8Array(s);for(let c=0;c<u.length;c++)16===i(this,t,"f")&&(n(this,e,this.aes.encrypt(i(this,r,"f")),"f"),n(this,t,0,"f"),this.increment()),u[c]^=i(this,e,"f")[(n(this,t,(a=i(this,t,"f"),o=a++,a),"f"),o)];return u}decrypt(e){return this.encrypt(e)}}return modeCtr.CTR=o,e=new WeakMap,t=new WeakMap,r=new WeakMap,modeCtr}var modeEcb={},hasRequiredModeEcb;function requireModeEcb(){if(hasRequiredModeEcb)return modeEcb;hasRequiredModeEcb=1,Object.defineProperty(modeEcb,"__esModule",{value:!0}),modeEcb.ECB=void 0;const e=requireMode();class t extends e.ModeOfOperation{constructor(e){super("ECB",e,t)}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16)t.set(this.aes.encrypt(e.subarray(r,r+16)),r);return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16)t.set(this.aes.decrypt(e.subarray(r,r+16)),r);return t}}return modeEcb.ECB=t,modeEcb}var modeOfb={},hasRequiredModeOfb;function requireModeOfb(){if(hasRequiredModeOfb)return modeOfb;hasRequiredModeOfb=1;var e,t,r,n=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(modeOfb,"__esModule",{value:!0}),modeOfb.OFB=void 0;const s=requireMode();class o extends s.ModeOfOperation{constructor(i,s){if(super("OFB",i,o),e.set(this,void 0),t.set(this,void 0),r.set(this,void 0),s){if(s.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");n(this,e,new Uint8Array(s),"f")}else n(this,e,new Uint8Array(16),"f");n(this,t,this.iv,"f"),n(this,r,16,"f")}get iv(){return new Uint8Array(i(this,e,"f"))}encrypt(e){var s,o;if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const a=new Uint8Array(e);for(let u=0;u<a.length;u++)16===i(this,r,"f")&&(n(this,t,this.aes.encrypt(i(this,t,"f")),"f"),n(this,r,0,"f")),a[u]^=i(this,t,"f")[(n(this,r,(o=i(this,r,"f"),s=o++,o),"f"),s)];return a}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(e)}}return modeOfb.OFB=o,e=new WeakMap,t=new WeakMap,r=new WeakMap,modeOfb}var padding={},hasRequiredPadding,hasRequiredLib_commonjs;function requirePadding(){if(hasRequiredPadding)return padding;return hasRequiredPadding=1,Object.defineProperty(padding,"__esModule",{value:!0}),padding.pkcs7Strip=padding.pkcs7Pad=void 0,padding.pkcs7Pad=function(e){const t=16-e.length%16,r=new Uint8Array(e.length+t);r.set(e);for(let n=e.length;n<r.length;n++)r[n]=t;return r},padding.pkcs7Strip=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))},padding}function requireLib_commonjs(){return hasRequiredLib_commonjs||(hasRequiredLib_commonjs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pkcs7Strip=e.pkcs7Pad=e.OFB=e.ECB=e.CTR=e.CFB=e.CBC=e.ModeOfOperation=e.AES=void 0;var t=requireAes$1();Object.defineProperty(e,"AES",{enumerable:!0,get:function(){return t.AES}});var r=requireMode();Object.defineProperty(e,"ModeOfOperation",{enumerable:!0,get:function(){return r.ModeOfOperation}});var n=requireModeCbc();Object.defineProperty(e,"CBC",{enumerable:!0,get:function(){return n.CBC}});var i=requireModeCfb();Object.defineProperty(e,"CFB",{enumerable:!0,get:function(){return i.CFB}});var s=requireModeCtr();Object.defineProperty(e,"CTR",{enumerable:!0,get:function(){return s.CTR}});var o=requireModeEcb();Object.defineProperty(e,"ECB",{enumerable:!0,get:function(){return o.ECB}});var a=requireModeOfb();Object.defineProperty(e,"OFB",{enumerable:!0,get:function(){return a.OFB}});var u=requirePadding();Object.defineProperty(e,"pkcs7Pad",{enumerable:!0,get:function(){return u.pkcs7Pad}}),Object.defineProperty(e,"pkcs7Strip",{enumerable:!0,get:function(){return u.pkcs7Strip}})}(lib_commonjs)),lib_commonjs}var utils$5={},hasRequiredUtils$4,hasRequiredJsonKeystore,hasRequiredHdwallet;function requireUtils$4(){if(hasRequiredUtils$4)return utils$5;hasRequiredUtils$4=1,Object.defineProperty(utils$5,"__esModule",{value:!0}),utils$5.spelunk=utils$5.getPassword=utils$5.zpad=utils$5.looseArrayify=void 0;const e=requireUtils$6();function t(t){return"string"!=typeof t||t.startsWith("0x")||(t="0x"+t),(0,e.getBytesCopy)(t)}return utils$5.looseArrayify=t,utils$5.zpad=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},utils$5.getPassword=function(t){return"string"==typeof t?(0,e.toUtf8Bytes)(t,"NFKC"):(0,e.getBytesCopy)(t)},utils$5.spelunk=function(r,n){const i=n.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,e.assertArgument)(null!=i,"invalid path","path",n);const s=i[1],o=i[3],a="!"===i[4];let u=r;for(const e of s.toLowerCase().split(".")){if(Array.isArray(u)){if(!e.match(/^[0-9]+$/))break;u=u[parseInt(e)]}else if("object"==typeof u){let t=null;for(const r in u)if(r.toLowerCase()===e){t=u[r];break}u=t}else u=null;if(null==u)break}if((0,e.assertArgument)(!a||null!=u,"missing required value","path",s),o&&null!=u){if("int"===o){if("string"==typeof u&&u.match(/^-?[0-9]+$/))return parseInt(u);if(Number.isSafeInteger(u))return u}if("number"===o&&"string"==typeof u&&u.match(/^-?[0-9.]*$/))return parseFloat(u);if("data"===o&&"string"==typeof u)return t(u);if("array"===o&&Array.isArray(u))return u;if(o===typeof u)return u;(0,e.assertArgument)(!1,`wrong type found for ${o} `,"path",s)}return u},utils$5}function requireJsonKeystore(){if(hasRequiredJsonKeystore)return jsonKeystore;hasRequiredJsonKeystore=1,Object.defineProperty(jsonKeystore,"__esModule",{value:!0}),jsonKeystore.encryptKeystoreJson=jsonKeystore.encryptKeystoreJsonSync=jsonKeystore.decryptKeystoreJson=jsonKeystore.decryptKeystoreJsonSync=jsonKeystore.isKeystoreJson=void 0;const e=requireLib_commonjs(),t=requireAddress$2(),r=requireCrypto(),n=requireTransaction(),i=requireUtils$6(),s=requireUtils$4(),o=require_version(),a="m/44'/60'/0'/0/0";function u(o,u){const c=(0,i.getBytes)(u),h=(0,s.spelunk)(o,"crypto.ciphertext:data!"),l=(0,i.hexlify)((0,r.keccak256)((0,i.concat)([c.slice(16,32),h]))).substring(2);(0,i.assertArgument)(l===(0,s.spelunk)(o,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const d=function(t,r,n){if("aes-128-ctr"===(0,s.spelunk)(t,"crypto.cipher:string")){const o=(0,s.spelunk)(t,"crypto.cipherparams.iv:data!"),a=new e.CTR(r,o);return(0,i.hexlify)(a.decrypt(n))}(0,i.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(o,c.slice(0,16),h),f=(0,n.computeAddress)(d);if(o.address){let e=o.address.toLowerCase();e.startsWith("0x")||(e="0x"+e),(0,i.assertArgument)((0,t.getAddress)(e)===f,"keystore address/privateKey mismatch","address",o.address)}const p={address:f,privateKey:d};if("0.1"===(0,s.spelunk)(o,"x-ethers.version:string")){const t=c.slice(32,64),r=(0,s.spelunk)(o,"x-ethers.mnemonicCiphertext:data!"),n=(0,s.spelunk)(o,"x-ethers.mnemonicCounter:data!"),u=new e.CTR(t,n);p.mnemonic={path:(0,s.spelunk)(o,"x-ethers.path:string")||a,locale:(0,s.spelunk)(o,"x-ethers.locale:string")||"en",entropy:(0,i.hexlify)((0,i.getBytes)(u.decrypt(r)))}}return p}function c(e){const t=(0,s.spelunk)(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){const r=(0,s.spelunk)(e,"crypto.kdfparams.salt:data!"),n=(0,s.spelunk)(e,"crypto.kdfparams.n:int!"),o=(0,s.spelunk)(e,"crypto.kdfparams.r:int!"),a=(0,s.spelunk)(e,"crypto.kdfparams.p:int!");(0,i.assertArgument)(n>0&&!(n&n-1),"invalid kdf.N","kdf.N",n),(0,i.assertArgument)(o>0&&a>0,"invalid kdf","kdf",t);const u=(0,s.spelunk)(e,"crypto.kdfparams.dklen:int!");return(0,i.assertArgument)(32===u,"invalid kdf.dklen","kdf.dflen",u),{name:"scrypt",salt:r,N:n,r:o,p:a,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=(0,s.spelunk)(e,"crypto.kdfparams.salt:data!"),r=(0,s.spelunk)(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();(0,i.assertArgument)("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);const o=(0,s.spelunk)(e,"crypto.kdfparams.c:int!"),a=(0,s.spelunk)(e,"crypto.kdfparams.dklen:int!");return(0,i.assertArgument)(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:o,dkLen:a,algorithm:n}}}(0,i.assertArgument)(!1,"unsupported key-derivation function","kdf",t)}function h(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function l(e){const t=null!=e.salt?(0,i.getBytes)(e.salt,"options.salt"):(0,r.randomBytes)(32);let n=1<<17,s=8,o=1;return e.scrypt&&(e.scrypt.N&&(n=e.scrypt.N),e.scrypt.r&&(s=e.scrypt.r),e.scrypt.p&&(o=e.scrypt.p)),(0,i.assertArgument)("number"==typeof n&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),(0,i.assertArgument)("number"==typeof s&&s>0&&Number.isSafeInteger(s),"invalid scrypt r parameter","options.r",s),(0,i.assertArgument)("number"==typeof o&&o>0&&Number.isSafeInteger(o),"invalid scrypt p parameter","options.p",o),{name:"scrypt",dkLen:32,salt:t,N:n,r:s,p:o}}function d(t,n,u,c){const h=(0,i.getBytes)(u.privateKey,"privateKey"),l=null!=c.iv?(0,i.getBytes)(c.iv,"options.iv"):(0,r.randomBytes)(16);(0,i.assertArgument)(16===l.length,"invalid options.iv length","options.iv",c.iv);const d=null!=c.uuid?(0,i.getBytes)(c.uuid,"options.uuid"):(0,r.randomBytes)(16);(0,i.assertArgument)(16===d.length,"invalid options.uuid length","options.uuid",c.iv);const f=t.slice(0,16),p=t.slice(16,32),m=new e.CTR(f,l),g=(0,i.getBytes)(m.encrypt(h)),y=(0,r.keccak256)((0,i.concat)([p,g])),b={address:u.address.substring(2).toLowerCase(),id:(0,i.uuidV4)(d),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,i.hexlify)(l).substring(2)},ciphertext:(0,i.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,i.hexlify)(n.salt).substring(2),n:n.N,dklen:32,p:n.p,r:n.r},mac:y.substring(2)}};if(u.mnemonic){const n=null!=c.client?c.client:`ethers/${o.version}`,h=u.mnemonic.path||a,l=u.mnemonic.locale||"en",d=t.slice(32,64),f=(0,i.getBytes)(u.mnemonic.entropy,"account.mnemonic.entropy"),p=(0,r.randomBytes)(16),m=new e.CTR(d,p),g=(0,i.getBytes)(m.encrypt(f)),y=new Date,v="UTC--"+(y.getUTCFullYear()+"-"+(0,s.zpad)(y.getUTCMonth()+1,2)+"-"+(0,s.zpad)(y.getUTCDate(),2)+"T"+(0,s.zpad)(y.getUTCHours(),2)+"-"+(0,s.zpad)(y.getUTCMinutes(),2)+"-"+(0,s.zpad)(y.getUTCSeconds(),2)+".0Z")+"--"+b.address;b["x-ethers"]={client:n,gethFilename:v,path:h,locale:l,mnemonicCounter:(0,i.hexlify)(p).substring(2),mnemonicCiphertext:(0,i.hexlify)(g).substring(2),version:"0.1"}}return JSON.stringify(b)}return jsonKeystore.isKeystoreJson=function(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(t){}return!1},jsonKeystore.decryptKeystoreJsonSync=function(e,t){const n=JSON.parse(e),o=(0,s.getPassword)(t),a=c(n);if("pbkdf2"===a.name){const{salt:e,count:t,dkLen:i,algorithm:s}=a;return u(n,(0,r.pbkdf2)(o,e,t,i,s))}(0,i.assert)("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:h,N:l,r:d,p:f,dkLen:p}=a;return u(n,(0,r.scryptSync)(o,h,l,d,f,p))},jsonKeystore.decryptKeystoreJson=async function(e,t,n){const o=JSON.parse(e),a=(0,s.getPassword)(t),l=c(o);if("pbkdf2"===l.name){n&&(n(0),await h(0));const{salt:e,count:t,dkLen:i,algorithm:s}=l,c=(0,r.pbkdf2)(a,e,t,i,s);return n&&(n(1),await h(0)),u(o,c)}(0,i.assert)("scrypt"===l.name,"cannot be reached","UNKNOWN_ERROR",{params:l});const{salt:d,N:f,r:p,p:m,dkLen:g}=l;return u(o,await(0,r.scrypt)(a,d,f,p,m,g,n))},jsonKeystore.encryptKeystoreJsonSync=function(e,t,n){null==n&&(n={});const o=(0,s.getPassword)(t),a=l(n),u=(0,r.scryptSync)(o,a.salt,a.N,a.r,a.p,64);return d((0,i.getBytes)(u),a,e,n)},jsonKeystore.encryptKeystoreJson=async function(e,t,n){null==n&&(n={});const o=(0,s.getPassword)(t),a=l(n),u=await(0,r.scrypt)(o,a.salt,a.N,a.r,a.p,64,n.progressCallback);return d((0,i.getBytes)(u),a,e,n)},jsonKeystore}function requireHdwallet(){return hasRequiredHdwallet||(hasRequiredHdwallet=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getIndexedAccountPath=e.getAccountPath=e.HDNodeVoidWallet=e.HDNodeWallet=e.defaultPath=void 0;const t=requireCrypto(),r=requireProviders(),n=requireTransaction(),i=requireUtils$6(),s=requireLangEn(),o=requireBaseWallet(),a=requireMnemonic(),u=requireJsonKeystore();e.defaultPath="m/44'/60'/0'/0/0";const c=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),h=2147483648,l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function d(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function f(e){const r=(0,i.getBytes)(e),n=(0,i.dataSlice)((0,t.sha256)((0,t.sha256)(r)),0,4),s=(0,i.concat)([r,n]);return(0,i.encodeBase58)(s)}const p={};function m(e,r,n,s){const o=new Uint8Array(37);e&h?((0,i.assert)(null!=s,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),o.set((0,i.getBytes)(s),1)):o.set((0,i.getBytes)(n));for(let t=24;t>=0;t-=8)o[33+(t>>3)]=e>>24-t&255;const a=(0,i.getBytes)((0,t.computeHmac)("sha512",r,o));return{IL:a.slice(0,32),IR:a.slice(32)}}function g(e,t){const r=t.split("/");(0,i.assertArgument)(r.length>0,"invalid path","path",t),"m"===r[0]&&((0,i.assertArgument)(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let s=0;s<r.length;s++){const e=r[s];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));(0,i.assertArgument)(t<h,"invalid path index",`path[${s}]`,e),n=n.deriveChild(h+t)}else if(e.match(/^[0-9]+$/)){const t=parseInt(e);(0,i.assertArgument)(t<h,"invalid path index",`path[${s}]`,e),n=n.deriveChild(t)}else(0,i.assertArgument)(!1,"invalid path component",`path[${s}]`,e)}return n}class y extends o.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,r,n,s,o,a,u,c,h){super(r,h),(0,i.assertPrivate)(e,p,"HDNodeWallet"),(0,i.defineProperties)(this,{publicKey:r.compressedPublicKey});const l=(0,i.dataSlice)((0,t.ripemd160)((0,t.sha256)(this.publicKey)),0,4);(0,i.defineProperties)(this,{parentFingerprint:n,fingerprint:l,chainCode:s,path:o,index:a,depth:u}),(0,i.defineProperties)(this,{mnemonic:c})}connect(e){return new y(p,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#Gt(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await(0,u.encryptKeystoreJson)(this.#Gt(),e,{progressCallback:t})}encryptSync(e){return(0,u.encryptKeystoreJsonSync)(this.#Gt(),e)}get extendedKey(){return(0,i.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),f((0,i.concat)(["0x0488ADE4",d(this.depth,1),this.parentFingerprint,d(this.index,4),this.chainCode,(0,i.concat)(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new b(p,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const r=(0,i.getNumber)(e,"index");(0,i.assertArgument)(r<=4294967295,"invalid index","index",r);let n=this.path;n&&(n+="/"+(2147483647&r),r&h&&(n+="'"));const{IR:s,IL:o}=m(r,this.chainCode,this.publicKey,this.privateKey),a=new t.SigningKey((0,i.toBeHex)(((0,i.toBigInt)(o)+BigInt(this.privateKey))%l,32));return new y(p,a,this.fingerprint,(0,i.hexlify)(s),n,r,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return g(this,e)}static#Kt(e,r){(0,i.assertArgument)((0,i.isBytesLike)(e),"invalid seed","seed","[REDACTED]");const n=(0,i.getBytes)(e,"seed");(0,i.assertArgument)(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");const s=(0,i.getBytes)((0,t.computeHmac)("sha512",c,n)),o=new t.SigningKey((0,i.hexlify)(s.slice(0,32)));return new y(p,o,"0x00000000",(0,i.hexlify)(s.slice(32)),"m",0,0,r,null)}static fromExtendedKey(e){const r=(0,i.toBeArray)((0,i.decodeBase58)(e));(0,i.assertArgument)(82===r.length||f(r.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const s=r[4],o=(0,i.hexlify)(r.slice(5,9)),a=parseInt((0,i.hexlify)(r.slice(9,13)).substring(2),16),u=(0,i.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,i.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=(0,i.hexlify)(c);return new b(p,(0,n.computeAddress)(e),e,o,u,null,a,s,null)}case"0x0488ade4":case"0x04358394 ":if(0!==c[0])break;return new y(p,new t.SigningKey(c.slice(1)),o,u,null,a,s,null,null)}(0,i.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(r,n,i){null==r&&(r=""),null==n&&(n=e.defaultPath),null==i&&(i=s.LangEn.wordlist());const o=a.Mnemonic.fromEntropy((0,t.randomBytes)(16),r,i);return y.#Kt(o.computeSeed(),o).derivePath(n)}static fromMnemonic(t,r){return r||(r=e.defaultPath),y.#Kt(t.computeSeed(),t).derivePath(r)}static fromPhrase(t,r,n,i){null==r&&(r=""),null==n&&(n=e.defaultPath),null==i&&(i=s.LangEn.wordlist());const o=a.Mnemonic.fromPhrase(t,r,i);return y.#Kt(o.computeSeed(),o).derivePath(n)}static fromSeed(e){return y.#Kt(e,null)}}e.HDNodeWallet=y;class b extends r.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,r,n,s,o,a,u,c,h){super(r,h),(0,i.assertPrivate)(e,p,"HDNodeVoidWallet"),(0,i.defineProperties)(this,{publicKey:n});const l=(0,i.dataSlice)((0,t.ripemd160)((0,t.sha256)(n)),0,4);(0,i.defineProperties)(this,{publicKey:n,fingerprint:l,parentFingerprint:s,chainCode:o,path:a,index:u,depth:c})}connect(e){return new b(p,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return(0,i.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),f((0,i.concat)(["0x0488B21E",d(this.depth,1),this.parentFingerprint,d(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const r=(0,i.getNumber)(e,"index");(0,i.assertArgument)(r<=4294967295,"invalid index","index",r);let s=this.path;s&&(s+="/"+(2147483647&r),r&h&&(s+="'"));const{IR:o,IL:a}=m(r,this.chainCode,this.publicKey,null),u=t.SigningKey.addPoints(a,this.publicKey,!0),c=(0,n.computeAddress)(u);return new b(p,c,u,this.fingerprint,(0,i.hexlify)(o),s,r,this.depth+1,this.provider)}derivePath(e){return g(this,e)}}e.HDNodeVoidWallet=b,e.getAccountPath=function(e){const t=(0,i.getNumber)(e,"index");return(0,i.assertArgument)(t>=0&&t<h,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`},e.getIndexedAccountPath=function(e){const t=(0,i.getNumber)(e,"index");return(0,i.assertArgument)(t>=0&&t<h,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}}(hdwallet)),hdwallet}var jsonCrowdsale={},hasRequiredJsonCrowdsale;function requireJsonCrowdsale(){if(hasRequiredJsonCrowdsale)return jsonCrowdsale;hasRequiredJsonCrowdsale=1,Object.defineProperty(jsonCrowdsale,"__esModule",{value:!0}),jsonCrowdsale.decryptCrowdsaleJson=jsonCrowdsale.isCrowdsaleJson=void 0;const e=requireLib_commonjs(),t=requireAddress$2(),r=requireCrypto(),n=requireHash$2(),i=requireUtils$6(),s=requireUtils$4();return jsonCrowdsale.isCrowdsaleJson=function(e){try{if(JSON.parse(e).encseed)return!0}catch(t){}return!1},jsonCrowdsale.decryptCrowdsaleJson=function(o,a){const u=JSON.parse(o),c=(0,s.getPassword)(a),h=(0,t.getAddress)((0,s.spelunk)(u,"ethaddr:string!")),l=(0,s.looseArrayify)((0,s.spelunk)(u,"encseed:string!"));(0,i.assertArgument)(l&&l.length%16==0,"invalid encseed","json",o);const d=(0,i.getBytes)((0,r.pbkdf2)(c,c,2e3,32,"sha256")).slice(0,16),f=l.slice(0,16),p=l.slice(16),m=new e.CBC(d,f),g=(0,e.pkcs7Strip)((0,i.getBytes)(m.decrypt(p)));let y="";for(let e=0;e<g.length;e++)y+=String.fromCharCode(g[e]);return{address:h,privateKey:(0,n.id)(y)}},jsonCrowdsale}var wallet={},hasRequiredWallet$1,hasRequiredWallet;function requireWallet$1(){if(hasRequiredWallet$1)return wallet;hasRequiredWallet$1=1,Object.defineProperty(wallet,"__esModule",{value:!0}),wallet.Wallet=void 0;const e=requireCrypto(),t=requireUtils$6(),r=requireBaseWallet(),n=requireHdwallet(),i=requireJsonCrowdsale(),s=requireJsonKeystore(),o=requireMnemonic();function a(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class u extends r.BaseWallet{constructor(t,r){"string"!=typeof t||t.startsWith("0x")||(t="0x"+t),super("string"==typeof t?new e.SigningKey(t):t,r)}connect(e){return new u(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await(0,s.encryptKeystoreJson)(r,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return(0,s.encryptKeystoreJsonSync)(t,e)}static#Vt(e){if((0,t.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=o.Mnemonic.fromEntropy(e.mnemonic.entropy),r=n.HDNodeWallet.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r}const r=new u(e.privateKey);return(0,t.assertArgument)(r.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),r}static async fromEncryptedJson(e,t,r){let n=null;return(0,s.isKeystoreJson)(e)?n=await(0,s.decryptKeystoreJson)(e,t,r):(0,i.isCrowdsaleJson)(e)&&(r&&(r(0),await a(0)),n=(0,i.decryptCrowdsaleJson)(e,t),r&&(r(1),await a(0))),u.#Vt(n)}static fromEncryptedJsonSync(e,r){let n=null;return(0,s.isKeystoreJson)(e)?n=(0,s.decryptKeystoreJsonSync)(e,r):(0,i.isCrowdsaleJson)(e)?n=(0,i.decryptCrowdsaleJson)(e,r):(0,t.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),u.#Vt(n)}static createRandom(e){const t=n.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=n.HDNodeWallet.fromPhrase(e);return t?r.connect(t):r}}return wallet.Wallet=u,wallet}function requireWallet(){return hasRequiredWallet||(hasRequiredWallet=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=e.Mnemonic=e.encryptKeystoreJsonSync=e.encryptKeystoreJson=e.decryptKeystoreJson=e.decryptKeystoreJsonSync=e.isKeystoreJson=e.decryptCrowdsaleJson=e.isCrowdsaleJson=e.HDNodeVoidWallet=e.HDNodeWallet=e.getIndexedAccountPath=e.getAccountPath=e.defaultPath=e.BaseWallet=void 0;var t=requireBaseWallet();Object.defineProperty(e,"BaseWallet",{enumerable:!0,get:function(){return t.BaseWallet}});var r=requireHdwallet();Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return r.defaultPath}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return r.getAccountPath}}),Object.defineProperty(e,"getIndexedAccountPath",{enumerable:!0,get:function(){return r.getIndexedAccountPath}}),Object.defineProperty(e,"HDNodeWallet",{enumerable:!0,get:function(){return r.HDNodeWallet}}),Object.defineProperty(e,"HDNodeVoidWallet",{enumerable:!0,get:function(){return r.HDNodeVoidWallet}});var n=requireJsonCrowdsale();Object.defineProperty(e,"isCrowdsaleJson",{enumerable:!0,get:function(){return n.isCrowdsaleJson}}),Object.defineProperty(e,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return n.decryptCrowdsaleJson}});var i=requireJsonKeystore();Object.defineProperty(e,"isKeystoreJson",{enumerable:!0,get:function(){return i.isKeystoreJson}}),Object.defineProperty(e,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return i.decryptKeystoreJsonSync}}),Object.defineProperty(e,"decryptKeystoreJson",{enumerable:!0,get:function(){return i.decryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJson",{enumerable:!0,get:function(){return i.encryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return i.encryptKeystoreJsonSync}});var s=requireMnemonic();Object.defineProperty(e,"Mnemonic",{enumerable:!0,get:function(){return s.Mnemonic}});var o=requireWallet$1();Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return o.Wallet}})}(wallet$1)),wallet$1}var wordlists={},wordlistOwla={},decodeOwla={},bitReader={},hasRequiredBitReader,hasRequiredDecodeOwla,hasRequiredWordlistOwla;function requireBitReader(){if(hasRequiredBitReader)return bitReader;hasRequiredBitReader=1,Object.defineProperty(bitReader,"__esModule",{value:!0}),bitReader.decodeBits=void 0;return bitReader.decodeBits=function(e,t){const r=(1<<e)-1,n=[];let i=0,s=0,o=0;for(let a=0;a<t.length;a++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[a]),s+=6;s>=e;){const t=i>>s-e;i&=(1<<s-e)-1,s-=e,0===t?o+=r:(n.push(t+o),o=0)}return n},bitReader}function requireDecodeOwla(){if(hasRequiredDecodeOwla)return decodeOwla;hasRequiredDecodeOwla=1,Object.defineProperty(decodeOwla,"__esModule",{value:!0}),decodeOwla.decodeOwlA=void 0;const e=requireUtils$6(),t=requireBitReader(),r=requireDecodeOwl();return decodeOwla.decodeOwlA=function(n,i){let s=(0,r.decodeOwl)(n).join(",");return i.split(/,/g).forEach((r=>{const n=r.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,e.assertArgument)(null!==n,"internal error parsing accents","accents",i);let o=0;const a=(0,t.decodeBits)(parseInt(n[3]),n[4]),u=parseInt(n[2]),c=new RegExp(`([${n[1]}])`,"g");s=s.replace(c,((e,t)=>(0===--a[o]&&(t=String.fromCharCode(t.charCodeAt(0),u),o++),t)))})),s.split(",")},decodeOwla}function requireWordlistOwla(){if(hasRequiredWordlistOwla)return wordlistOwla;hasRequiredWordlistOwla=1,Object.defineProperty(wordlistOwla,"__esModule",{value:!0}),wordlistOwla.WordlistOwlA=void 0;const e=requireWordlistOwl(),t=requireDecodeOwla();class r extends e.WordlistOwl{#Wt;constructor(e,t,r,n){super(e,t,n),this.#Wt=r}get _accent(){return this.#Wt}_decodeWords(){return(0,t.decodeOwlA)(this._data,this._accent)}}return wordlistOwla.WordlistOwlA=r,wordlistOwla}var wordlistsBrowser={},hasRequiredWordlistsBrowser,hasRequiredWordlists,hasRequiredEthers;function requireWordlistsBrowser(){if(hasRequiredWordlistsBrowser)return wordlistsBrowser;hasRequiredWordlistsBrowser=1,Object.defineProperty(wordlistsBrowser,"__esModule",{value:!0}),wordlistsBrowser.wordlists=void 0;const e=requireLangEn();return wordlistsBrowser.wordlists={en:e.LangEn.wordlist()},wordlistsBrowser}function requireWordlists(){return hasRequiredWordlists||(hasRequiredWordlists=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wordlists=e.WordlistOwlA=e.WordlistOwl=e.LangEn=e.Wordlist=void 0;var t=requireWordlist();Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return t.Wordlist}});var r=requireLangEn();Object.defineProperty(e,"LangEn",{enumerable:!0,get:function(){return r.LangEn}});var n=requireWordlistOwl();Object.defineProperty(e,"WordlistOwl",{enumerable:!0,get:function(){return n.WordlistOwl}});var i=requireWordlistOwla();Object.defineProperty(e,"WordlistOwlA",{enumerable:!0,get:function(){return i.WordlistOwlA}});var s=requireWordlistsBrowser();Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return s.wordlists}})}(wordlists)),wordlists}function requireEthers(){return hasRequiredEthers||(hasRequiredEthers=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.keccak256=e.randomBytes=e.computeHmac=e.UndecodedEventLog=e.EventLog=e.ContractUnknownEventPayload=e.ContractTransactionResponse=e.ContractTransactionReceipt=e.ContractEventPayload=e.ContractFactory=e.Contract=e.BaseContract=e.MessagePrefix=e.EtherSymbol=e.ZeroHash=e.N=e.MaxInt256=e.MinInt256=e.MaxUint256=e.WeiPerEther=e.ZeroAddress=e.resolveAddress=e.isAddress=e.isAddressable=e.getCreate2Address=e.getCreateAddress=e.getIcapAddress=e.getAddress=e.Typed=e.TransactionDescription=e.Result=e.LogDescription=e.Interface=e.Indexed=e.ErrorDescription=e.checkResultErrors=e.StructFragment=e.ParamType=e.NamedFragment=e.FunctionFragment=e.FallbackFragment=e.Fragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.AbiCoder=e.encodeBytes32String=e.decodeBytes32String=e.version=void 0,e.EnsPlugin=e.Network=e.EnsResolver=e.WebSocketProvider=e.SocketProvider=e.IpcSocketProvider=e.QuickNodeProvider=e.PocketProvider=e.InfuraWebSocketProvider=e.InfuraProvider=e.EtherscanProvider=e.CloudflareProvider=e.ChainstackProvider=e.AnkrProvider=e.AlchemyProvider=e.BrowserProvider=e.JsonRpcSigner=e.JsonRpcProvider=e.JsonRpcApiProvider=e.FallbackProvider=e.AbstractProvider=e.VoidSigner=e.NonceManager=e.AbstractSigner=e.TransactionResponse=e.TransactionReceipt=e.Log=e.FeeData=e.Block=e.getDefaultProvider=e.verifyTypedData=e.TypedDataEncoder=e.solidityPackedSha256=e.solidityPackedKeccak256=e.solidityPacked=e.verifyMessage=e.hashMessage=e.dnsEncode=e.namehash=e.isValidName=e.ensNormalize=e.id=e.SigningKey=e.Signature=e.lock=e.scryptSync=e.scrypt=e.pbkdf2=e.sha512=e.sha256=void 0,e.getUint=e.getNumber=e.getBigInt=e.FixedNumber=e.FetchCancelSignal=e.FetchResponse=e.FetchRequest=e.EventPayload=e.isError=e.isCallException=e.makeError=e.assertPrivate=e.assertNormalize=e.assertArgumentCount=e.assertArgument=e.assert=e.resolveProperties=e.defineProperties=e.zeroPadValue=e.zeroPadBytes=e.stripZerosLeft=e.isBytesLike=e.isHexString=e.hexlify=e.getBytesCopy=e.getBytes=e.dataSlice=e.dataLength=e.concat=e.encodeBase64=e.decodeBase64=e.encodeBase58=e.decodeBase58=e.Transaction=e.recoverAddress=e.computeAddress=e.accessListify=e.showThrottleMessage=e.copyRequest=e.UnmanagedSubscriber=e.SocketSubscriber=e.SocketPendingSubscriber=e.SocketEventSubscriber=e.SocketBlockSubscriber=e.MulticoinProviderPlugin=e.NetworkPlugin=e.GasCostPlugin=e.FetchUrlFeeDataNetworkPlugin=e.FeeDataNetworkPlugin=e.EtherscanPlugin=void 0,e.wordlists=e.WordlistOwlA=e.WordlistOwl=e.LangEn=e.Wordlist=e.encryptKeystoreJsonSync=e.encryptKeystoreJson=e.decryptKeystoreJson=e.decryptKeystoreJsonSync=e.decryptCrowdsaleJson=e.isKeystoreJson=e.isCrowdsaleJson=e.getIndexedAccountPath=e.getAccountPath=e.defaultPath=e.Wallet=e.HDNodeVoidWallet=e.HDNodeWallet=e.BaseWallet=e.Mnemonic=e.uuidV4=e.encodeRlp=e.decodeRlp=e.Utf8ErrorFuncs=e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.mask=e.toTwos=e.fromTwos=e.toQuantity=e.toNumber=e.toBeHex=e.toBigInt=e.toBeArray=void 0;var t=require_version();Object.defineProperty(e,"version",{enumerable:!0,get:function(){return t.version}});var r=requireAbi();Object.defineProperty(e,"decodeBytes32String",{enumerable:!0,get:function(){return r.decodeBytes32String}}),Object.defineProperty(e,"encodeBytes32String",{enumerable:!0,get:function(){return r.encodeBytes32String}}),Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return r.AbiCoder}}),Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return r.ConstructorFragment}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return r.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return r.EventFragment}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return r.Fragment}}),Object.defineProperty(e,"FallbackFragment",{enumerable:!0,get:function(){return r.FallbackFragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return r.FunctionFragment}}),Object.defineProperty(e,"NamedFragment",{enumerable:!0,get:function(){return r.NamedFragment}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return r.ParamType}}),Object.defineProperty(e,"StructFragment",{enumerable:!0,get:function(){return r.StructFragment}}),Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return r.checkResultErrors}}),Object.defineProperty(e,"ErrorDescription",{enumerable:!0,get:function(){return r.ErrorDescription}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return r.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return r.Interface}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return r.LogDescription}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return r.Result}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return r.TransactionDescription}}),Object.defineProperty(e,"Typed",{enumerable:!0,get:function(){return r.Typed}});var n=requireAddress$2();Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return n.getAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return n.getIcapAddress}}),Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return n.getCreateAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return n.getCreate2Address}}),Object.defineProperty(e,"isAddressable",{enumerable:!0,get:function(){return n.isAddressable}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return n.isAddress}}),Object.defineProperty(e,"resolveAddress",{enumerable:!0,get:function(){return n.resolveAddress}});var i=requireConstants$1();Object.defineProperty(e,"ZeroAddress",{enumerable:!0,get:function(){return i.ZeroAddress}}),Object.defineProperty(e,"WeiPerEther",{enumerable:!0,get:function(){return i.WeiPerEther}}),Object.defineProperty(e,"MaxUint256",{enumerable:!0,get:function(){return i.MaxUint256}}),Object.defineProperty(e,"MinInt256",{enumerable:!0,get:function(){return i.MinInt256}}),Object.defineProperty(e,"MaxInt256",{enumerable:!0,get:function(){return i.MaxInt256}}),Object.defineProperty(e,"N",{enumerable:!0,get:function(){return i.N}}),Object.defineProperty(e,"ZeroHash",{enumerable:!0,get:function(){return i.ZeroHash}}),Object.defineProperty(e,"EtherSymbol",{enumerable:!0,get:function(){return i.EtherSymbol}}),Object.defineProperty(e,"MessagePrefix",{enumerable:!0,get:function(){return i.MessagePrefix}});var s=requireContract();Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return s.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return s.Contract}}),Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return s.ContractFactory}}),Object.defineProperty(e,"ContractEventPayload",{enumerable:!0,get:function(){return s.ContractEventPayload}}),Object.defineProperty(e,"ContractTransactionReceipt",{enumerable:!0,get:function(){return s.ContractTransactionReceipt}}),Object.defineProperty(e,"ContractTransactionResponse",{enumerable:!0,get:function(){return s.ContractTransactionResponse}}),Object.defineProperty(e,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return s.ContractUnknownEventPayload}}),Object.defineProperty(e,"EventLog",{enumerable:!0,get:function(){return s.EventLog}}),Object.defineProperty(e,"UndecodedEventLog",{enumerable:!0,get:function(){return s.UndecodedEventLog}});var o=requireCrypto();Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return o.computeHmac}}),Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return o.randomBytes}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return o.keccak256}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return o.ripemd160}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return o.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return o.sha512}}),Object.defineProperty(e,"pbkdf2",{enumerable:!0,get:function(){return o.pbkdf2}}),Object.defineProperty(e,"scrypt",{enumerable:!0,get:function(){return o.scrypt}}),Object.defineProperty(e,"scryptSync",{enumerable:!0,get:function(){return o.scryptSync}}),Object.defineProperty(e,"lock",{enumerable:!0,get:function(){return o.lock}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return o.Signature}}),Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return o.SigningKey}});var a=requireHash$2();Object.defineProperty(e,"id",{enumerable:!0,get:function(){return a.id}}),Object.defineProperty(e,"ensNormalize",{enumerable:!0,get:function(){return a.ensNormalize}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return a.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return a.namehash}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return a.dnsEncode}}),Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return a.hashMessage}}),Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return a.verifyMessage}}),Object.defineProperty(e,"solidityPacked",{enumerable:!0,get:function(){return a.solidityPacked}}),Object.defineProperty(e,"solidityPackedKeccak256",{enumerable:!0,get:function(){return a.solidityPackedKeccak256}}),Object.defineProperty(e,"solidityPackedSha256",{enumerable:!0,get:function(){return a.solidityPackedSha256}}),Object.defineProperty(e,"TypedDataEncoder",{enumerable:!0,get:function(){return a.TypedDataEncoder}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return a.verifyTypedData}});var u=requireProviders();Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return u.getDefaultProvider}}),Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return u.Block}}),Object.defineProperty(e,"FeeData",{enumerable:!0,get:function(){return u.FeeData}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return u.Log}}),Object.defineProperty(e,"TransactionReceipt",{enumerable:!0,get:function(){return u.TransactionReceipt}}),Object.defineProperty(e,"TransactionResponse",{enumerable:!0,get:function(){return u.TransactionResponse}}),Object.defineProperty(e,"AbstractSigner",{enumerable:!0,get:function(){return u.AbstractSigner}}),Object.defineProperty(e,"NonceManager",{enumerable:!0,get:function(){return u.NonceManager}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return u.VoidSigner}}),Object.defineProperty(e,"AbstractProvider",{enumerable:!0,get:function(){return u.AbstractProvider}}),Object.defineProperty(e,"FallbackProvider",{enumerable:!0,get:function(){return u.FallbackProvider}}),Object.defineProperty(e,"JsonRpcApiProvider",{enumerable:!0,get:function(){return u.JsonRpcApiProvider}}),Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return u.JsonRpcProvider}}),Object.defineProperty(e,"JsonRpcSigner",{enumerable:!0,get:function(){return u.JsonRpcSigner}}),Object.defineProperty(e,"BrowserProvider",{enumerable:!0,get:function(){return u.BrowserProvider}}),Object.defineProperty(e,"AlchemyProvider",{enumerable:!0,get:function(){return u.AlchemyProvider}}),Object.defineProperty(e,"AnkrProvider",{enumerable:!0,get:function(){return u.AnkrProvider}}),Object.defineProperty(e,"ChainstackProvider",{enumerable:!0,get:function(){return u.ChainstackProvider}}),Object.defineProperty(e,"CloudflareProvider",{enumerable:!0,get:function(){return u.CloudflareProvider}}),Object.defineProperty(e,"EtherscanProvider",{enumerable:!0,get:function(){return u.EtherscanProvider}}),Object.defineProperty(e,"InfuraProvider",{enumerable:!0,get:function(){return u.InfuraProvider}}),Object.defineProperty(e,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return u.InfuraWebSocketProvider}}),Object.defineProperty(e,"PocketProvider",{enumerable:!0,get:function(){return u.PocketProvider}}),Object.defineProperty(e,"QuickNodeProvider",{enumerable:!0,get:function(){return u.QuickNodeProvider}}),Object.defineProperty(e,"IpcSocketProvider",{enumerable:!0,get:function(){return u.IpcSocketProvider}}),Object.defineProperty(e,"SocketProvider",{enumerable:!0,get:function(){return u.SocketProvider}}),Object.defineProperty(e,"WebSocketProvider",{enumerable:!0,get:function(){return u.WebSocketProvider}}),Object.defineProperty(e,"EnsResolver",{enumerable:!0,get:function(){return u.EnsResolver}}),Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return u.Network}}),Object.defineProperty(e,"EnsPlugin",{enumerable:!0,get:function(){return u.EnsPlugin}}),Object.defineProperty(e,"EtherscanPlugin",{enumerable:!0,get:function(){return u.EtherscanPlugin}}),Object.defineProperty(e,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FeeDataNetworkPlugin}}),Object.defineProperty(e,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return u.FetchUrlFeeDataNetworkPlugin}}),Object.defineProperty(e,"GasCostPlugin",{enumerable:!0,get:function(){return u.GasCostPlugin}}),Object.defineProperty(e,"NetworkPlugin",{enumerable:!0,get:function(){return u.NetworkPlugin}}),Object.defineProperty(e,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return u.MulticoinProviderPlugin}}),Object.defineProperty(e,"SocketBlockSubscriber",{enumerable:!0,get:function(){return u.SocketBlockSubscriber}}),Object.defineProperty(e,"SocketEventSubscriber",{enumerable:!0,get:function(){return u.SocketEventSubscriber}}),Object.defineProperty(e,"SocketPendingSubscriber",{enumerable:!0,get:function(){return u.SocketPendingSubscriber}}),Object.defineProperty(e,"SocketSubscriber",{enumerable:!0,get:function(){return u.SocketSubscriber}}),Object.defineProperty(e,"UnmanagedSubscriber",{enumerable:!0,get:function(){return u.UnmanagedSubscriber}}),Object.defineProperty(e,"copyRequest",{enumerable:!0,get:function(){return u.copyRequest}}),Object.defineProperty(e,"showThrottleMessage",{enumerable:!0,get:function(){return u.showThrottleMessage}});var c=requireTransaction();Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return c.accessListify}}),Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return c.computeAddress}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return c.recoverAddress}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return c.Transaction}});var h=requireUtils$6();Object.defineProperty(e,"decodeBase58",{enumerable:!0,get:function(){return h.decodeBase58}}),Object.defineProperty(e,"encodeBase58",{enumerable:!0,get:function(){return h.encodeBase58}}),Object.defineProperty(e,"decodeBase64",{enumerable:!0,get:function(){return h.decodeBase64}}),Object.defineProperty(e,"encodeBase64",{enumerable:!0,get:function(){return h.encodeBase64}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return h.concat}}),Object.defineProperty(e,"dataLength",{enumerable:!0,get:function(){return h.dataLength}}),Object.defineProperty(e,"dataSlice",{enumerable:!0,get:function(){return h.dataSlice}}),Object.defineProperty(e,"getBytes",{enumerable:!0,get:function(){return h.getBytes}}),Object.defineProperty(e,"getBytesCopy",{enumerable:!0,get:function(){return h.getBytesCopy}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return h.hexlify}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return h.isHexString}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return h.isBytesLike}}),Object.defineProperty(e,"stripZerosLeft",{enumerable:!0,get:function(){return h.stripZerosLeft}}),Object.defineProperty(e,"zeroPadBytes",{enumerable:!0,get:function(){return h.zeroPadBytes}}),Object.defineProperty(e,"zeroPadValue",{enumerable:!0,get:function(){return h.zeroPadValue}}),Object.defineProperty(e,"defineProperties",{enumerable:!0,get:function(){return h.defineProperties}}),Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return h.resolveProperties}}),Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return h.assert}}),Object.defineProperty(e,"assertArgument",{enumerable:!0,get:function(){return h.assertArgument}}),Object.defineProperty(e,"assertArgumentCount",{enumerable:!0,get:function(){return h.assertArgumentCount}}),Object.defineProperty(e,"assertNormalize",{enumerable:!0,get:function(){return h.assertNormalize}}),Object.defineProperty(e,"assertPrivate",{enumerable:!0,get:function(){return h.assertPrivate}}),Object.defineProperty(e,"makeError",{enumerable:!0,get:function(){return h.makeError}}),Object.defineProperty(e,"isCallException",{enumerable:!0,get:function(){return h.isCallException}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return h.isError}}),Object.defineProperty(e,"EventPayload",{enumerable:!0,get:function(){return h.EventPayload}}),Object.defineProperty(e,"FetchRequest",{enumerable:!0,get:function(){return h.FetchRequest}}),Object.defineProperty(e,"FetchResponse",{enumerable:!0,get:function(){return h.FetchResponse}}),Object.defineProperty(e,"FetchCancelSignal",{enumerable:!0,get:function(){return h.FetchCancelSignal}}),Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return h.FixedNumber}}),Object.defineProperty(e,"getBigInt",{enumerable:!0,get:function(){return h.getBigInt}}),Object.defineProperty(e,"getNumber",{enumerable:!0,get:function(){return h.getNumber}}),Object.defineProperty(e,"getUint",{enumerable:!0,get:function(){return h.getUint}}),Object.defineProperty(e,"toBeArray",{enumerable:!0,get:function(){return h.toBeArray}}),Object.defineProperty(e,"toBigInt",{enumerable:!0,get:function(){return h.toBigInt}}),Object.defineProperty(e,"toBeHex",{enumerable:!0,get:function(){return h.toBeHex}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return h.toNumber}}),Object.defineProperty(e,"toQuantity",{enumerable:!0,get:function(){return h.toQuantity}}),Object.defineProperty(e,"fromTwos",{enumerable:!0,get:function(){return h.fromTwos}}),Object.defineProperty(e,"toTwos",{enumerable:!0,get:function(){return h.toTwos}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return h.mask}}),Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return h.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return h.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return h.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return h.parseUnits}}),Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return h.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return h.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return h.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return h.Utf8ErrorFuncs}}),Object.defineProperty(e,"decodeRlp",{enumerable:!0,get:function(){return h.decodeRlp}}),Object.defineProperty(e,"encodeRlp",{enumerable:!0,get:function(){return h.encodeRlp}}),Object.defineProperty(e,"uuidV4",{enumerable:!0,get:function(){return h.uuidV4}});var l=requireWallet();Object.defineProperty(e,"Mnemonic",{enumerable:!0,get:function(){return l.Mnemonic}}),Object.defineProperty(e,"BaseWallet",{enumerable:!0,get:function(){return l.BaseWallet}}),Object.defineProperty(e,"HDNodeWallet",{enumerable:!0,get:function(){return l.HDNodeWallet}}),Object.defineProperty(e,"HDNodeVoidWallet",{enumerable:!0,get:function(){return l.HDNodeVoidWallet}}),Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return l.Wallet}}),Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(e,"getIndexedAccountPath",{enumerable:!0,get:function(){return l.getIndexedAccountPath}}),Object.defineProperty(e,"isCrowdsaleJson",{enumerable:!0,get:function(){return l.isCrowdsaleJson}}),Object.defineProperty(e,"isKeystoreJson",{enumerable:!0,get:function(){return l.isKeystoreJson}}),Object.defineProperty(e,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return l.decryptCrowdsaleJson}}),Object.defineProperty(e,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return l.decryptKeystoreJsonSync}}),Object.defineProperty(e,"decryptKeystoreJson",{enumerable:!0,get:function(){return l.decryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJson",{enumerable:!0,get:function(){return l.encryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return l.encryptKeystoreJsonSync}});var d=requireWordlists();Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return d.Wordlist}}),Object.defineProperty(e,"LangEn",{enumerable:!0,get:function(){return d.LangEn}}),Object.defineProperty(e,"WordlistOwl",{enumerable:!0,get:function(){return d.WordlistOwl}}),Object.defineProperty(e,"WordlistOwlA",{enumerable:!0,get:function(){return d.WordlistOwlA}}),Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return d.wordlists}})}(ethers)),ethers}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ethers=void 0;const t=require$$0$1,r=t.__importStar(requireEthers());e.ethers=r,t.__exportStar(requireEthers(),e)}(lib_commonjs$1),Object.defineProperty(ethersCompat,"__esModule",{value:!0}),ethersCompat.getAddress=ethersCompat.hashMessage=ethersCompat.verifyMessage=void 0;const ethers_1$1=lib_commonjs$1;let ethersVerifyMessage=null,ethersHashMessage=null,ethersGetAddress=null;try{ethersVerifyMessage=ethers_1$1.ethers.utils.verifyMessage,ethersHashMessage=ethers_1$1.ethers.utils.hashMessage,ethersGetAddress=ethers_1$1.ethers.utils.getAddress}catch(_a2){ethersVerifyMessage=ethers_1$1.ethers.verifyMessage,ethersHashMessage=ethers_1$1.ethers.hashMessage,ethersGetAddress=ethers_1$1.ethers.getAddress}ethersCompat.verifyMessage=ethersVerifyMessage,ethersCompat.hashMessage=ethersHashMessage,ethersCompat.getAddress=ethersGetAddress;var types$1={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SiweErrorType=e.SiweError=e.VerifyOptsKeys=e.VerifyParamsKeys=void 0,e.VerifyParamsKeys=["signature","scheme","domain","nonce","time"],e.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];var t;e.SiweError=class{constructor(e,t,r){this.type=e,this.expected=t,this.received=r}},(t=e.SiweErrorType||(e.SiweErrorType={})).EXPIRED_MESSAGE="Expired message.",t.INVALID_DOMAIN="Invalid domain.",t.SCHEME_MISMATCH="Scheme does not match provided scheme for verification.",t.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",t.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",t.INVALID_ADDRESS="Invalid address.",t.INVALID_URI="URI does not conform to RFC 3986.",t.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",t.NOT_YET_VALID_MESSAGE="Message is not valid yet.",t.INVALID_SIGNATURE="Signature does not match address of the message.",t.INVALID_TIME_FORMAT="Invalid time format.",t.INVALID_MESSAGE_VERSION="Invalid message version.",t.UNABLE_TO_PARSE="Unable to parse the message."}(types$1);var utils$4={},random={},system={},browser$c={};Object.defineProperty(browser$c,"__esModule",{value:!0}),browser$c.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=QUOTA)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,QUOTA)));return t}}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}browser$c.BrowserRandomSource=BrowserRandomSource;var node$1={},wipe$1={};function wipe(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Object.defineProperty(wipe$1,"__esModule",{value:!0}),wipe$1.wipe=wipe;var cryptoBrowserify={},browser$b={exports:{}},safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1,hasRequiredBrowser$b;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(e,t){var r=requireDist$1(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),s.prototype=Object.create(n.prototype),i(n,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var e=65536,t=4294967295;var r=requireSafeBuffer$1().Buffer,n=commonjsGlobal.crypto||commonjsGlobal.msCrypto;return n&&n.getRandomValues?browser$b.exports=function(i,s){if(i>t)throw new RangeError("requested too many random bytes");var o=r.allocUnsafe(i);if(i>0)if(i>e)for(var a=0;a<i;a+=e)n.getRandomValues(o.slice(a,a+e));else n.getRandomValues(o);if("function"==typeof s)return process$1.nextTick((function(){s(null,o)}));return o}:browser$b.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,"function"==typeof Object.create?inherits_browser.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents,streamBrowser$1,hasRequiredStreamBrowser$1;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var e,t="object"==typeof Reflect?Reflect:null,r=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}events.exports=i,events.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}p(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,r)}(e,i,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s,u;if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),u=s[t]),void 0===u)u=s[t]=r,++e._eventsCount;else if("function"==typeof u?u=s[t]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),(i=a(e))>0&&u.length>i&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,console&&console.warn}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,h=f(u,c);for(n=0;n<c;++n)r(h[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return l(this,e,!0)},i.prototype.rawListeners=function(e){return l(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},events.exports}function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1?streamBrowser$1:(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter)}var util$1={},types={},shams$1,hasRequiredShams$1,shams,hasRequiredShams,esObjectAtoms,hasRequiredEsObjectAtoms,esErrors,hasRequiredEsErrors,_eval,hasRequired_eval,range,hasRequiredRange,ref,hasRequiredRef,syntax,hasRequiredSyntax,type,hasRequiredType,uri$1,hasRequiredUri,abs,hasRequiredAbs,floor,hasRequiredFloor,max,hasRequiredMax,min,hasRequiredMin,pow,hasRequiredPow,gOPD,hasRequiredGOPD,gopd,hasRequiredGopd,esDefineProperty,hasRequiredEsDefineProperty,hasSymbols,hasRequiredHasSymbols,implementation,hasRequiredImplementation,functionBind,hasRequiredFunctionBind,functionCall,hasRequiredFunctionCall,functionApply,hasRequiredFunctionApply,reflectApply,hasRequiredReflectApply,actualApply,hasRequiredActualApply,callBindApplyHelpers,hasRequiredCallBindApplyHelpers,get$1,hasRequiredGet,hasown,hasRequiredHasown,getIntrinsic,hasRequiredGetIntrinsic,callBound,hasRequiredCallBound,isArguments,hasRequiredIsArguments,isGeneratorFunction,hasRequiredIsGeneratorFunction,isCallable,hasRequiredIsCallable,forEach_1,hasRequiredForEach,possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames,availableTypedArrays,hasRequiredAvailableTypedArrays;function requireShams$1(){return hasRequiredShams$1?shams$1:(hasRequiredShams$1=1,shams$1=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0})}function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var e=requireShams$1();return shams=function(){return e()&&!!Symbol.toStringTag}}function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms?esObjectAtoms:(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object)}function requireEsErrors(){return hasRequiredEsErrors?esErrors:(hasRequiredEsErrors=1,esErrors=Error)}function require_eval(){return hasRequired_eval?_eval:(hasRequired_eval=1,_eval=EvalError)}function requireRange(){return hasRequiredRange?range:(hasRequiredRange=1,range=RangeError)}function requireRef(){return hasRequiredRef?ref:(hasRequiredRef=1,ref=ReferenceError)}function requireSyntax(){return hasRequiredSyntax?syntax:(hasRequiredSyntax=1,syntax=SyntaxError)}function requireType(){return hasRequiredType?type:(hasRequiredType=1,type=TypeError)}function requireUri(){return hasRequiredUri?uri$1:(hasRequiredUri=1,uri$1=URIError)}function requireAbs(){return hasRequiredAbs?abs:(hasRequiredAbs=1,abs=Math.abs)}function requireFloor(){return hasRequiredFloor?floor:(hasRequiredFloor=1,floor=Math.floor)}function requireMax(){return hasRequiredMax?max:(hasRequiredMax=1,max=Math.max)}function requireMin(){return hasRequiredMin?min:(hasRequiredMin=1,min=Math.min)}function requirePow(){return hasRequiredPow?pow:(hasRequiredPow=1,pow=Math.pow)}function requireGOPD(){return hasRequiredGOPD?gOPD:(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor)}function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var t=requireGOPD();if(t)try{t([],"length")}catch(e){t=null}return gopd=t}function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}return esDefineProperty=t}function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var e="undefined"!=typeof Symbol&&Symbol,t=requireShams$1();return hasSymbols=function(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&t())))}}function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var e=Object.prototype.toString,t=Math.max,r=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};return implementation=function(n){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,o=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),a=t(0,i.length-o.length),u=[],c=0;c<a;c++)u[c]="$"+c;if(s=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var e=i.apply(this,r(o,arguments));return Object(e)===e?e:this}return i.apply(n,r(o,arguments))})),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s},implementation}function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var e=requireImplementation();return functionBind=Function.prototype.bind||e}function requireFunctionCall(){return hasRequiredFunctionCall?functionCall:(hasRequiredFunctionCall=1,functionCall=Function.prototype.call)}function requireFunctionApply(){return hasRequiredFunctionApply?functionApply:(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply)}function requireReflectApply(){return hasRequiredReflectApply?reflectApply:(hasRequiredReflectApply=1,reflectApply="undefined"!=typeof Reflect&&Reflect&&Reflect.apply)}function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var e=requireFunctionBind(),t=requireFunctionApply(),r=requireFunctionCall(),n=requireReflectApply();return actualApply=n||e.call(r,t)}function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var e=requireFunctionBind(),t=requireType(),r=requireFunctionCall(),n=requireActualApply();return callBindApplyHelpers=function(i){if(i.length<1||"function"!=typeof i[0])throw new t("a function is required");return n(e,r,i)}}function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var t,r=requireCallBindApplyHelpers(),n=requireGopd();try{t=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var i=!!t&&n&&n(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return get$1=i&&"function"==typeof i.get?r([i.get]):"function"==typeof o&&function(e){return o(null==e?e:s(e))}}function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=requireFunctionBind();return hasown=r.call(e,t)}function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;var t;hasRequiredGetIntrinsic=1;var r=requireEsObjectAtoms(),n=requireEsErrors(),i=require_eval(),s=requireRange(),o=requireRef(),a=requireSyntax(),u=requireType(),c=requireUri(),h=requireAbs(),l=requireFloor(),d=requireMax(),f=requireMin(),p=requirePow(),m=Function,g=function(t){try{return m('"use strict"; return ('+t+").constructor;")()}catch(e){}},y=requireGopd(),b=requireEsDefineProperty(),v=function(){throw new u},w=y?function(){try{return v}catch(e){try{return y(arguments,"callee").get}catch(t){return v}}}():v,A=requireHasSymbols()(),M=requireGet(),E="function"==typeof Reflect&&Reflect.getPrototypeOf||r.getPrototypeOf||M,_=requireFunctionApply(),S=requireFunctionCall(),x={},R="undefined"!=typeof Uint8Array&&E?E(Uint8Array):t,k={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?t:ArrayBuffer,"%ArrayIteratorPrototype%":A&&E?E([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":"undefined"==typeof Atomics?t:Atomics,"%BigInt%":"undefined"==typeof BigInt?t:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?t:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?t:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?t:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?t:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":x,"%Int8Array%":"undefined"==typeof Int8Array?t:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?t:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&E?E(E([][Symbol.iterator]())):t,"%JSON%":"object"==typeof JSON?JSON:t,"%Map%":"undefined"==typeof Map?t:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&E?E((new Map)[Symbol.iterator]()):t,"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?t:Promise,"%Proxy%":"undefined"==typeof Proxy?t:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?t:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?t:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&E?E((new Set)[Symbol.iterator]()):t,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&E?E(""[Symbol.iterator]()):t,"%Symbol%":A?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":w,"%TypedArray%":R,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?t:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?t:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?t:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?t:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?t:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?t:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?t:WeakSet,"%Function.prototype.call%":S,"%Function.prototype.apply%":_,"%Object.defineProperty%":b,"%Math.abs%":h,"%Math.floor%":l,"%Math.max%":d,"%Math.min%":f,"%Math.pow%":p};if(E)try{null.error}catch(e){var P=E(E(e));k["%Error.prototype%"]=P}var B=function e(t){var r;if("%AsyncFunction%"===t)r=g("async function () {}");else if("%GeneratorFunction%"===t)r=g("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=g("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&E&&(r=E(i.prototype))}return k[t]=r,r},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=requireFunctionBind(),O=requireHasown(),q=C.call(S,Array.prototype.concat),I=C.call(_,Array.prototype.splice),N=C.call(S,String.prototype.replace),$=C.call(S,String.prototype.slice),L=C.call(S,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,D=function(e,t){var r,n=e;if(O(T,n)&&(n="%"+(r=T[n])[0]+"%"),O(k,n)){var i=k[n];if(i===x&&(i=B(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new a("intrinsic "+e+" does not exist!")};return getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=$(e,0,1),r=$(e,-1);if("%"===t&&"%"!==r)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var n=[];return N(e,j,(function(e,t,r,i){n[n.length]=r?N(i,U,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=D("%"+n+"%",t),s=i.name,o=i.value,c=!1,h=i.alias;h&&(n=h[0],I(r,q([0,1],h)));for(var l=1,d=!0;l<r.length;l+=1){var f=r[l],p=$(f,0,1),m=$(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new a("property names with quotes must have matching quotes");if("constructor"!==f&&d||(c=!0),O(k,s="%"+(n+="."+f)+"%"))o=k[s];else if(null!=o){if(!(f in o)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&l+1>=r.length){var g=y(o,f);o=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[f]}else d=O(o,f),o=o[f];d&&!c&&(k[s]=o)}}return o},getIntrinsic}function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var e=requireGetIntrinsic(),t=requireCallBindApplyHelpers(),r=t([e("%String.prototype.indexOf%")]);return callBound=function(n,i){var s=e(n,!!i);return"function"==typeof s&&r(n,".prototype.")>-1?t([s]):s}}function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var e=requireShams()(),t=requireCallBound()("Object.prototype.toString"),r=function(r){return!(e&&r&&"object"==typeof r&&Symbol.toStringTag in r)&&"[object Arguments]"===t(r)},n=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==t(e)&&"callee"in e&&"[object Function]"===t(e.callee)},i=function(){return r(arguments)}();return r.isLegacyArguments=n,isArguments=i?r:n}function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var t,r=Object.prototype.toString,n=Function.prototype.toString,i=/^\s*(?:function)?\*/,s=requireShams()(),o=Object.getPrototypeOf;return isGeneratorFunction=function(a){if("function"!=typeof a)return!1;if(i.test(n.call(a)))return!0;if(!s)return"[object GeneratorFunction]"===r.call(a);if(!o)return!1;if(void 0===t){var u=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();t=!!u&&o(u)}return o(a)===t}}function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(f){f!==r&&(i=null)}else i=null;var s=/^\s*class\b/,o=function(t){try{var r=n.call(t);return s.test(r)}catch(e){return!1}},a=function(t){try{return!o(t)&&(n.call(t),!0)}catch(e){return!1}},u=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,h=!(0 in[,]),l=function(){return!1};if("object"==typeof document){var d=document.all;u.call(d)===u.call(document.all)&&(l=function(t){if((h||!t)&&(void 0===t||"object"==typeof t))try{var r=u.call(t);return("[object HTMLAllCollection]"===r||"[object HTML document.all class]"===r||"[object HTMLCollection]"===r||"[object Object]"===r)&&null==t("")}catch(e){}return!1})}return isCallable=i?function(n){if(l(n))return!0;if(!n)return!1;if("function"!=typeof n&&"object"!=typeof n)return!1;try{i(n,null,t)}catch(e){if(e!==r)return!1}return!o(n)&&a(n)}:function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(o(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}}function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=requireIsCallable(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty;return forEach_1=function(n,i,s){if(!e(i))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=s),"[object Array]"===t.call(n)?function(e,t,n){for(var i=0,s=e.length;i<s;i++)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(n,i,o):"string"==typeof n?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(n,i,o):function(e,t,n){for(var i in e)r.call(e,i)&&(null==n?t(e[i],i,e):t.call(n,e[i],i,e))}(n,i,o)},forEach_1}function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames?possibleTypedArrayNames:(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"])}function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var e=requirePossibleTypedArrayNames(),t="undefined"==typeof globalThis?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var r=[],n=0;n<e.length;n++)"function"==typeof t[e[n]]&&(r[r.length]=e[n]);return r}}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty,hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors,setFunctionLength,hasRequiredSetFunctionLength,applyBind,hasRequiredApplyBind,hasRequiredCallBind,whichTypedArray,hasRequiredWhichTypedArray,isTypedArray,hasRequiredIsTypedArray,hasRequiredTypes,isBufferBrowser,hasRequiredIsBufferBrowser,hasRequiredUtil$1,buffer_list,hasRequiredBuffer_list,destroy_1$1,hasRequiredDestroy$1;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var e=requireEsDefineProperty(),t=requireSyntax(),r=requireType(),n=requireGopd();return defineDataProperty=function(i,s,o){if(!i||"object"!=typeof i&&"function"!=typeof i)throw new r("`obj` must be an object or a function`");if("string"!=typeof s&&"symbol"!=typeof s)throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],l=!!n&&n(i,s);if(e)e(i,s,{configurable:null===c&&l?l.configurable:!c,enumerable:null===a&&l?l.enumerable:!a,value:o,writable:null===u&&l?l.writable:!u});else{if(!h&&(a||u||c))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");i[s]=o}},defineDataProperty}function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var t=requireEsDefineProperty(),r=function(){return!!t};return r.hasArrayLengthDefineBug=function(){if(!t)return null;try{return 1!==t([],"length",{value:1}).length}catch(e){return!0}},hasPropertyDescriptors_1=r}function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var e=requireGetIntrinsic(),t=requireDefineDataProperty(),r=requireHasPropertyDescriptors()(),n=requireGopd(),i=requireType(),s=e("%Math.floor%");return setFunctionLength=function(e,o){if("function"!=typeof e)throw new i("`fn` is not a function");if("number"!=typeof o||o<0||o>4294967295||s(o)!==o)throw new i("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in e&&n){var h=n(e,"length");h&&!h.configurable&&(u=!1),h&&!h.writable&&(c=!1)}return(u||c||!a)&&(r?t(e,"length",o,!0,!0):t(e,"length",o)),e},setFunctionLength}function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var e=requireFunctionBind(),t=requireFunctionApply(),r=requireActualApply();return applyBind=function(){return r(e,t,arguments)},applyBind}function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,e=callBind,t=requireSetFunctionLength(),r=requireEsDefineProperty(),n=requireCallBindApplyHelpers(),i=requireApplyBind(),e.exports=function(e){var r=n(arguments),i=e.length-(arguments.length-1);return t(r,1+(i>0?i:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i),callBind.exports;var e,t,r,n,i}function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var t=requireForEach(),r=requireAvailableTypedArrays(),n=requireCallBind(),i=requireCallBound(),s=requireGopd(),o=i("Object.prototype.toString"),a=requireShams()(),u="undefined"==typeof globalThis?commonjsGlobal:globalThis,c=r(),h=i("String.prototype.slice"),l=Object.getPrototypeOf,d=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f={__proto__:null};t(c,a&&s&&l?function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=l(t),i=s(r,Symbol.toStringTag);if(!i){var o=l(r);i=s(o,Symbol.toStringTag)}f["$"+e]=n(i.get)}}:function(e){var t=new u[e],r=t.slice||t.set;r&&(f["$"+e]=n(r))});return whichTypedArray=function(r){if(!r||"object"!=typeof r)return!1;if(!a){var n=h(o(r),8,-1);return d(c,n)>-1?n:"Object"===n&&function(r){var n=!1;return t(f,(function(t,i){if(!n)try{t(r),n=h(i,1)}catch(e){}})),n}(r)}return s?function(r){var n=!1;return t(f,(function(t,i){if(!n)try{"$"+t(r)===i&&(n=h(i,1))}catch(e){}})),n}(r):null}}function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var e=requireWhichTypedArray();return isTypedArray=function(t){return!!e(t)}}function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(t){var r=requireIsArguments(),n=requireIsGeneratorFunction(),i=requireWhichTypedArray(),s=requireIsTypedArray();function o(e){return e.call.bind(e)}var a="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=o(Object.prototype.toString),h=o(Number.prototype.valueOf),l=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(a)var f=o(BigInt.prototype.valueOf);if(u)var p=o(Symbol.prototype.valueOf);function m(t,r){if("object"!=typeof t)return!1;try{return r(t),!0}catch(e){return!1}}function g(e){return"[object Map]"===c(e)}function y(e){return"[object Set]"===c(e)}function b(e){return"[object WeakMap]"===c(e)}function v(e){return"[object WeakSet]"===c(e)}function w(e){return"[object ArrayBuffer]"===c(e)}function A(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function M(e){return"[object DataView]"===c(e)}function E(e){return"undefined"!=typeof DataView&&(M.working?M(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=n,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=A,M.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&M(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var _="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===c(e)}function x(e){return void 0!==_&&(void 0===S.working&&(S.working=S(new _)),S.working?S(e):e instanceof _)}function R(e){return m(e,h)}function k(e){return m(e,l)}function P(e){return m(e,d)}function B(e){return a&&m(e,f)}function T(e){return u&&m(e,p)}t.isSharedArrayBuffer=x,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=R,t.isStringObject=k,t.isBooleanObject=P,t.isBigIntObject=B,t.isSymbolObject=T,t.isBoxedPrimitive=function(e){return R(e)||k(e)||P(e)||B(e)||T(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(A(e)||x(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))}(types)),types}function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser?isBufferBrowser:(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8})}function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,s=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}})),u=i[n];n<s;u=i[++n])p(u)||!v(u)?a+=" "+u:a+=" "+o(u);return a},e.deprecate=function(t,r){if(void 0!==process$1&&!0===process$1.noDeprecation)return t;if(void 0===process$1)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process$1.throwDeprecation)throw new Error(r);process$1.traceDeprecation,n=!0}return t.apply(this,arguments)}};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}function o(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),c(n,t,n.depth)}function a(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function u(e,t){return e}function c(t,r,n){if(t.customInspect&&r&&M(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=c(t,i,n)),i}var s=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(s)return s;var o=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),A(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(r);if(0===o.length){if(M(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return h(r)}var v,E="",S=!1,x=["{","}"];(d(r)&&(S=!0,x=["[","]"]),M(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(E=" "+RegExp.prototype.toString.call(r)),w(r)&&(E=" "+Date.prototype.toUTCString.call(r)),A(r)&&(E=" "+h(r)),0!==o.length||S&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),v=S?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)_(t,String(o))?s.push(l(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(l(e,t,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return l(t,r,n,a,e,S)})),t.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(v,E,x)):x[0]+E+x[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),_(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=p(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function p(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return v(e)&&"[object RegExp]"===E(e)}function v(e){return"object"==typeof e&&null!==e}function w(e){return v(e)&&"[object Date]"===E(e)}function A(e){return v(e)&&("[object Error]"===E(e)||e instanceof Error)}function M(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(i.test(t)){process$1.pid;n[t]=function(){e.format.apply(e,arguments)}}else n[t]=function(){};return n[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=requireTypes(),e.isArray=d,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=m,e.isString=g,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=y,e.isRegExp=b,e.types.isRegExp=b,e.isObject=v,e.isDate=w,e.types.isDate=w,e.isError=A,e.types.isNativeError=A,e.isFunction=M,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=requireIsBufferBrowser();function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){},e.inherits=requireInherits_browser(),e._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var S="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(S&&e[S]){var r;if("function"!=typeof(r=e[S]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,S,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(o){r(o)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),S&&Object.defineProperty(r,S,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=S,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){process$1.nextTick(s.bind(null,null,e))}),(function(e){process$1.nextTick(x.bind(null,e,s))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}(util$1)),util$1}function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}hasRequiredBuffer_list=1;var s=requireDist$1().Buffer,o=requireUtil$1().inspect,a=o&&o.custom||"inspect";return buffer_list=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var r,i,u;return r=e,(i=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:a,value:function(e,r){return o(this,t(t({},r),{},{depth:0,customInspect:!1}))}}])&&n(r.prototype,i),u&&n(r,u),Object.defineProperty(r,"prototype",{writable:!1}),e}()}function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;function e(e,n){r(e,n),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}return hasRequiredDestroy$1=1,destroy_1$1={destroy:function(n,i){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(i?i(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(r,this,n)):process$1.nextTick(r,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(r){!i&&r?s._writableState?s._writableState.errorEmitted?process$1.nextTick(t,s):(s._writableState.errorEmitted=!0,process$1.nextTick(e,s,r)):process$1.nextTick(e,s,r):i?(process$1.nextTick(t,s),i(r)):process$1.nextTick(t,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}var errorsBrowser={},hasRequiredErrorsBrowser,state,hasRequiredState,browser$a,hasRequiredBrowser$a,_stream_writable$1,hasRequired_stream_writable$1,_stream_duplex$1,hasRequired_stream_duplex$1;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;var e={};function t(t,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function r(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}return t("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),t("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,s,o,a;if("string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(r(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;return state={getHighWaterMark:function(t,r,n,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(r,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new e(i?n:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}}function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;function e(e){try{if(!commonjsGlobal.localStorage)return!1}catch(r){return!1}var t=commonjsGlobal.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return hasRequiredBrowser$a=1,browser$a=function(t,r){if(e("noDeprecation"))return t;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation"),n=!0}return t.apply(this,arguments)}},browser$a}function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;hasRequired_stream_writable$1=1,_stream_writable$1=A,A.WritableState=w;var r={deprecate:requireBrowser$a()},n=requireStreamBrowser$1(),i=requireDist$1().Buffer,s=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,a=requireDestroy$1(),u=requireState().getHighWaterMark,c=requireErrorsBrowser().codes,h=c.ERR_INVALID_ARG_TYPE,l=c.ERR_METHOD_NOT_IMPLEMENTED,d=c.ERR_MULTIPLE_CALLBACK,f=c.ERR_STREAM_CANNOT_PIPE,p=c.ERR_STREAM_DESTROYED,m=c.ERR_STREAM_NULL_VALUES,g=c.ERR_STREAM_WRITE_AFTER_END,y=c.ERR_UNKNOWN_ENCODING,b=a.errorOrDestroy;function v(){}function w(r,n,i){t=t||require_stream_duplex$1(),r=r||{},"boolean"!=typeof i&&(i=n instanceof t),this.objectMode=!!r.objectMode,i&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=u(this,r,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===r.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new d;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process$1.nextTick(i,n),process$1.nextTick(R,e,t),e._writableState.errorEmitted=!0,b(e,n)):(i(n),e._writableState.errorEmitted=!0,b(e,n),R(e,t))}(e,r,n,t,i);else{var s=S(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?process$1.nextTick(E,e,r,s,i):E(e,r,s,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function A(e){var r=this instanceof(t=t||require_stream_duplex$1());if(!r&&!o.call(A,this))return new A(e);this._writableState=new w(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function M(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function _(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,s=new Array(i),o=r.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,M(t,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,l=n.callback;if(M(t,r,!1,r.objectMode?1:c.length,c,h,l),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&b(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=S(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process$1.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return requireInherits_browser()(A,n),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===A&&(e&&e._writableState instanceof w)}})):o=function(e){return e instanceof this},A.prototype.pipe=function(){b(this,new f)},A.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,u=!o.objectMode&&(n=e,i.isBuffer(n)||n instanceof s);return u&&!i.isBuffer(e)&&(e=function(e){return i.from(e)}(e)),"function"==typeof t&&(r=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=v),o.ending?function(e,t){var r=new g;b(e,r),process$1.nextTick(t,r)}(this,r):(u||function(e,t,r,n){var i;return null===r?i=new m:"string"==typeof r||t.objectMode||(i=new h("chunk",["string","Buffer"],r)),!i||(b(e,i),process$1.nextTick(n,i),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,s,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=i.from(t,r));return t}(t,n,s);n!==a&&(r=!0,s="buffer",n=a)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:s,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,u,n,s,o);return c}(this,o,u,e,t,r)),a},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,r){r(new l("_write()"))},A.prototype._writev=null,A.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?process$1.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=a.destroy,A.prototype._undestroy=a.undestroy,A.prototype._destroy=function(e,t){t(e)},_stream_writable$1}function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};_stream_duplex$1=o;var t=require_stream_readable$1(),r=require_stream_writable$1();requireInherits_browser()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(e){if(!(this instanceof o))return new o(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||process$1.nextTick(u,this)}function u(e){e.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder,endOfStream,hasRequiredEndOfStream,async_iterator,hasRequiredAsync_iterator,fromBrowser,hasRequiredFromBrowser,_stream_readable$1,hasRequired_stream_readable$1,_stream_transform$1,hasRequired_stream_transform$1,_stream_passthrough$1,hasRequired_stream_passthrough$1,pipeline_1,hasRequiredPipeline,streamBrowserify,hasRequiredStreamBrowserify,hashBase,hasRequiredHashBase,md5_js,hasRequiredMd5_js,ripemd160,hasRequiredRipemd160;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=requireSafeBuffer$1().Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(r);if("string"!=typeof n&&(e.isEncoding===t||!t(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,n=4;break;case"utf8":this.fillLast=i,n=4;break;case"base64":this.text=a,this.end=u,n=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(n)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function i(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function o(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function a(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}return string_decoder.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},r.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var s=n(t[i]);if(s>=0)return s>0&&(e.lastNeed=s-1),s;if(--i<r||-2===s)return 0;if(s=n(t[i]),s>=0)return s>0&&(e.lastNeed=s-2),s;if(--i<r||-2===s)return 0;if(s=n(t[i]),s>=0)return s>0&&(2===s?s=0:e.lastNeed=s-3),s;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},string_decoder}function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return endOfStream=function r(n,i,s){if("function"==typeof i)return r(n,null,i);i||(i={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||t);var o=i.readable||!1!==i.readable&&n.readable,a=i.writable||!1!==i.writable&&n.writable,u=function(){n.writable||h()},c=n._writableState&&n._writableState.finished,h=function(){a=!1,c=!0,o||s.call(n)},l=n._readableState&&n._readableState.endEmitted,d=function(){o=!1,l=!0,a||s.call(n)},f=function(e){s.call(n,e)},p=function(){var t;return o&&!l?(n._readableState&&n._readableState.ended||(t=new e),s.call(n,t)):a&&!c?(n._writableState&&n._writableState.ended||(t=new e),s.call(n,t)):void 0},m=function(){n.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(n)?a&&!n._writableState&&(n.on("end",u),n.on("close",u)):(n.on("complete",h),n.on("abort",p),n.req?m():n.on("request",m)),n.on("end",d),n.on("finish",h),!1!==i.error&&n.on("error",f),n.on("close",p),function(){n.removeListener("complete",h),n.removeListener("abort",p),n.removeListener("request",m),n.req&&n.req.removeListener("finish",h),n.removeListener("end",u),n.removeListener("close",u),n.removeListener("finish",h),n.removeListener("end",d),n.removeListener("error",f),n.removeListener("close",p)}},endOfStream}function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;var e;function t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}hasRequiredAsync_iterator=1;var r=requireEndOfStream(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function h(e,t){return{value:e,done:t}}function l(e){var t=e[n];if(null!==t){var r=e[c].read();null!==r&&(e[a]=null,e[n]=null,e[i]=null,t(h(r,!1)))}}function d(e){process$1.nextTick(l,e)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t(e={get stream(){return this[c]},next:function(){var e=this,t=this[s];if(null!==t)return Promise.reject(t);if(this[o])return Promise.resolve(h(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){process$1.nextTick((function(){e[s]?r(e[s]):t(h(void 0,!0))}))}));var r,n=this[a];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[o]?r(h(void 0,!0)):t[u](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(h(i,!1));r=new Promise(this[u])}return this[a]=r,r}},Symbol.asyncIterator,(function(){return this})),t(e,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),e),f);return async_iterator=function(e){var l,f=Object.create(p,(t(l={},c,{value:e,writable:!0}),t(l,n,{value:null,writable:!0}),t(l,i,{value:null,writable:!0}),t(l,s,{value:null,writable:!0}),t(l,o,{value:e._readableState.endEmitted,writable:!0}),t(l,u,{value:function(e,t){var r=f[c].read();r?(f[a]=null,f[n]=null,f[i]=null,e(h(r,!1))):(f[n]=e,f[i]=t)},writable:!0}),l));return f[a]=null,r(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=f[i];return null!==t&&(f[a]=null,f[n]=null,f[i]=null,t(e)),void(f[s]=e)}var r=f[n];null!==r&&(f[a]=null,f[n]=null,f[i]=null,r(h(void 0,!0))),f[o]=!0})),e.on("readable",d.bind(null,f)),f}}function requireFromBrowser(){return hasRequiredFromBrowser?fromBrowser:(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")})}function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;var e;hasRequired_stream_readable$1=1,_stream_readable$1=A,A.ReadableState=w,requireEvents().EventEmitter;var t=function(e,t){return e.listeners(t).length},r=requireStreamBrowser$1(),n=requireDist$1().Buffer,i=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,o=requireUtil$1();s=o&&o.debuglog?o.debuglog("stream"):function(){};var a,u,c,h=requireBuffer_list(),l=requireDestroy$1(),d=requireState().getHighWaterMark,f=requireErrorsBrowser().codes,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_STREAM_PUSH_AFTER_EOF,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;requireInherits_browser()(A,r);var b=l.errorOrDestroy,v=["error","close","destroy","pause","resume"];function w(t,r,n){e=e||require_stream_duplex$1(),t=t||{},"boolean"!=typeof n&&(n=r instanceof e),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=d(this,t,"readableHighWaterMark",n),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=requireString_decoder().StringDecoder),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function A(t){if(e=e||require_stream_duplex$1(),!(this instanceof A))return new A(t);var n=this instanceof e;this._readableState=new w(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function M(e,t,r,o,a){s("readableAddChunk",t);var u,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(s("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,c);else if(a||(u=function(e,t){var r;s=t,n.isBuffer(s)||s instanceof i||"string"==typeof t||void 0===t||e.objectMode||(r=new p("chunk",["string","Buffer","Uint8Array"],t));var s;return r}(c,t)),u)b(e,u);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===n.prototype||(t=function(e){return n.from(e)}(t)),o)c.endEmitted?b(e,new y):E(e,c,t,!0);else if(c.ended)b(e,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?E(e,c,t,!1):k(e,c)):E(e,c,t,!1)}else o||(c.reading=!1,k(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),k(e,t)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=n.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},A.prototype.unshift=function(e){return M(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){a||(a=requireString_decoder().StringDecoder);var t=new a(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var _=1073741824;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;s("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,process$1.nextTick(R,e))}function R(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function k(e,t){t.readingMore||(t.readingMore=!0,process$1.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(s("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function T(e){s("readable nexttick read 0"),e.read(0)}function C(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function q(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function I(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process$1.nextTick(N,t,e))}function N(e,t){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function $(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return A.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):x(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?q(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},A.prototype._read=function(e){b(this,new g("_read()"))},A.prototype.pipe=function(e,r){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,r);var o=(!r||!1!==r.end)&&e!==process$1.stdout&&e!==process$1.stderr?u:m;function a(t,r){s("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,s("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",m),n.removeListener("data",l),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){s("onend"),e.end()}i.endEmitted?process$1.nextTick(o):n.once("end",o),e.on("unpipe",a);var c=function(e){return function(){var r=e._readableState;s("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&t(e,"data")&&(r.flowing=!0,O(e))}}(n);e.on("drain",c);var h=!1;function l(t){s("ondata");var r=e.write(t);s("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==$(i.pipes,e))&&!h&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(r){s("onerror",r),m(),e.removeListener("error",d),0===t(e,"error")&&b(e,r)}function f(){e.removeListener("finish",p),m()}function p(){s("onfinish"),e.removeListener("close",f),m()}function m(){s("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",n),i.flowing||(s("pipe resume"),n.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=$(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},A.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s("on readable",i.length,i.reading),i.length?x(this):i.reading||process$1.nextTick(T,this))),n},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&process$1.nextTick(B,this),n},A.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process$1.nextTick(B,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process$1.nextTick(C,e,t))}(this,e)),e.paused=!1,this},A.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(s("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){s("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=requireAsync_iterator()),u(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=q,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,t){return void 0===c&&(c=requireFromBrowser()),c(A,e,t)}),_stream_readable$1}function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=a;var e=requireErrorsBrowser().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=require_stream_duplex$1();function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);s.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new i;if(e._transformState.transforming)throw new n;return e.push(null)}return requireInherits_browser()(a,s),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},a.prototype._transform=function(e,r,n){n(new t("_transform()"))},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},a.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,(function(e){t(e)}))},_stream_transform$1}function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=t;var e=require_stream_transform$1();function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return requireInherits_browser()(t,e),t.prototype._transform=function(e,t,r){r(null,e)},_stream_passthrough$1}function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;var e;hasRequiredPipeline=1;var t=requireErrorsBrowser().codes,r=t.ERR_MISSING_ARGS,n=t.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function s(e){e()}function o(e,t){return e.pipe(t)}return pipeline_1=function(){for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];var c,h=function(e){return e.length?"function"!=typeof e[e.length-1]?i:e.pop():i}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new r("streams");var l=a.map((function(t,r){var i=r<a.length-1;return function(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;t.on("close",(function(){o=!0})),void 0===e&&(e=requireEndOfStream()),e(t,{readable:r,writable:i},(function(e){if(e)return s(e);o=!0,s()}));var a=!1;return function(e){if(!o&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new n("pipe"))}}(t,i,r>0,(function(e){c||(c=e),e&&l.forEach(s),i||(l.forEach(s),h(c))}))}));return a.reduce(o)},pipeline_1}function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=t;var e=requireEvents().EventEmitter;function t(){e.call(this)}return requireInherits_browser()(t,e),t.Readable=require_stream_readable$1(),t.Writable=require_stream_writable$1(),t.Duplex=require_stream_duplex$1(),t.Transform=require_stream_transform$1(),t.PassThrough=require_stream_passthrough$1(),t.finished=requireEndOfStream(),t.pipeline=requirePipeline(),t.Stream=t,t.prototype.pipe=function(t,r){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",s),t._isStdio||r&&!1===r.end||(n.on("end",a),n.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(h(),0===e.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",i),t.removeListener("drain",s),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",c),t.on("error",c),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t},streamBrowserify}function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var e=requireSafeBuffer$1().Buffer,t=requireStreamBrowserify().Transform;function r(r){t.call(this),this._block=e.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}requireInherits_browser()(r,t),r.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},r.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};var n="undefined"!=typeof Uint8Array,i="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);return r.prototype.update=function(t,r){if(this._finalized)throw new Error("Digest already called");t=function(t,r){if(t instanceof e)return t;if("string"==typeof t)return e.from(t,r);if(i&&ArrayBuffer.isView(t)){if(0===t.byteLength)return e.alloc(0);var s=e.from(t.buffer,t.byteOffset,t.byteLength);if(s.byteLength===t.byteLength)return s}if(n&&t instanceof Uint8Array)return e.from(t);if(e.isBuffer(t)&&t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return e.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(t,r);for(var s=this._block,o=0;this._blockOffset+t.length-o>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)s[a++]=t[o++];this._update(),this._blockOffset=0}for(;o<t.length;)s[this._blockOffset++]=t[o++];for(var u=0,c=8*t.length;c>0;++u)this._length[u]+=c,(c=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*c);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=r}function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var e=requireInherits_browser(),t=requireHashBase(),r=requireSafeBuffer$1().Buffer,n=new Array(16);function i(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function o(e,t,r,n,i,o,a){return s(e+(t&r|~t&n)+i+o|0,a)+t|0}function a(e,t,r,n,i,o,a){return s(e+(t&n|r&~n)+i+o|0,a)+t|0}function u(e,t,r,n,i,o,a){return s(e+(t^r^n)+i+o|0,a)+t|0}function c(e,t,r,n,i,o,a){return s(e+(r^(t|~n))+i+o|0,a)+t|0}return e(i,t),i.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,i=this._b,s=this._c,h=this._d;r=o(r,i,s,h,e[0],3614090360,7),h=o(h,r,i,s,e[1],3905402710,12),s=o(s,h,r,i,e[2],606105819,17),i=o(i,s,h,r,e[3],3250441966,22),r=o(r,i,s,h,e[4],4118548399,7),h=o(h,r,i,s,e[5],1200080426,12),s=o(s,h,r,i,e[6],2821735955,17),i=o(i,s,h,r,e[7],4249261313,22),r=o(r,i,s,h,e[8],1770035416,7),h=o(h,r,i,s,e[9],2336552879,12),s=o(s,h,r,i,e[10],4294925233,17),i=o(i,s,h,r,e[11],2304563134,22),r=o(r,i,s,h,e[12],1804603682,7),h=o(h,r,i,s,e[13],4254626195,12),s=o(s,h,r,i,e[14],2792965006,17),r=a(r,i=o(i,s,h,r,e[15],1236535329,22),s,h,e[1],4129170786,5),h=a(h,r,i,s,e[6],3225465664,9),s=a(s,h,r,i,e[11],643717713,14),i=a(i,s,h,r,e[0],3921069994,20),r=a(r,i,s,h,e[5],3593408605,5),h=a(h,r,i,s,e[10],38016083,9),s=a(s,h,r,i,e[15],3634488961,14),i=a(i,s,h,r,e[4],3889429448,20),r=a(r,i,s,h,e[9],568446438,5),h=a(h,r,i,s,e[14],3275163606,9),s=a(s,h,r,i,e[3],4107603335,14),i=a(i,s,h,r,e[8],1163531501,20),r=a(r,i,s,h,e[13],2850285829,5),h=a(h,r,i,s,e[2],4243563512,9),s=a(s,h,r,i,e[7],1735328473,14),r=u(r,i=a(i,s,h,r,e[12],2368359562,20),s,h,e[5],4294588738,4),h=u(h,r,i,s,e[8],2272392833,11),s=u(s,h,r,i,e[11],1839030562,16),i=u(i,s,h,r,e[14],4259657740,23),r=u(r,i,s,h,e[1],2763975236,4),h=u(h,r,i,s,e[4],1272893353,11),s=u(s,h,r,i,e[7],4139469664,16),i=u(i,s,h,r,e[10],3200236656,23),r=u(r,i,s,h,e[13],681279174,4),h=u(h,r,i,s,e[0],3936430074,11),s=u(s,h,r,i,e[3],3572445317,16),i=u(i,s,h,r,e[6],76029189,23),r=u(r,i,s,h,e[9],3654602809,4),h=u(h,r,i,s,e[12],3873151461,11),s=u(s,h,r,i,e[15],530742520,16),r=c(r,i=u(i,s,h,r,e[2],3299628645,23),s,h,e[0],4096336452,6),h=c(h,r,i,s,e[7],1126891415,10),s=c(s,h,r,i,e[14],2878612391,15),i=c(i,s,h,r,e[5],4237533241,21),r=c(r,i,s,h,e[12],1700485571,6),h=c(h,r,i,s,e[3],2399980690,10),s=c(s,h,r,i,e[10],4293915773,15),i=c(i,s,h,r,e[1],2240044497,21),r=c(r,i,s,h,e[8],1873313359,6),h=c(h,r,i,s,e[15],4264355552,10),s=c(s,h,r,i,e[6],2734768916,15),i=c(i,s,h,r,e[13],1309151649,21),r=c(r,i,s,h,e[4],4149444226,6),h=c(h,r,i,s,e[11],3174756917,10),s=c(s,h,r,i,e[2],718787259,15),i=c(i,s,h,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+s|0,this._d=this._d+h|0},i.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},md5_js=i}function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var e=requireDist$1().Buffer,t=requireInherits_browser(),r=requireHashBase(),n=new Array(16),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],c=[1352829926,1548603684,1836072691,2053994217,0];function h(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function l(e,t){return e<<t|e>>>32-t}function d(e,t,r,n,i,s,o,a){return l(e+(t^r^n)+s+o|0,a)+i|0}function f(e,t,r,n,i,s,o,a){return l(e+(t&r|~t&n)+s+o|0,a)+i|0}function p(e,t,r,n,i,s,o,a){return l(e+((t|~r)^n)+s+o|0,a)+i|0}function m(e,t,r,n,i,s,o,a){return l(e+(t&n|r&~n)+s+o|0,a)+i|0}function g(e,t,r,n,i,s,o,a){return l(e+(t^(r|~n))+s+o|0,a)+i|0}return t(h,r),h.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,h=0|this._b,y=0|this._c,b=0|this._d,v=0|this._e,w=0|this._a,A=0|this._b,M=0|this._c,E=0|this._d,_=0|this._e,S=0;S<80;S+=1){var x,R;S<16?(x=d(r,h,y,b,v,e[i[S]],u[0],o[S]),R=g(w,A,M,E,_,e[s[S]],c[0],a[S])):S<32?(x=f(r,h,y,b,v,e[i[S]],u[1],o[S]),R=m(w,A,M,E,_,e[s[S]],c[1],a[S])):S<48?(x=p(r,h,y,b,v,e[i[S]],u[2],o[S]),R=p(w,A,M,E,_,e[s[S]],c[2],a[S])):S<64?(x=m(r,h,y,b,v,e[i[S]],u[3],o[S]),R=f(w,A,M,E,_,e[s[S]],c[3],a[S])):(x=g(r,h,y,b,v,e[i[S]],u[4],o[S]),R=d(w,A,M,E,_,e[s[S]],c[4],a[S])),r=v,v=b,b=l(y,10),y=h,h=x,w=_,_=E,E=l(M,10),M=A,A=R}var k=this._b+y+E|0;this._b=this._c+b+_|0,this._c=this._d+v+w|0,this._d=this._e+r+A|0,this._e=this._a+h+M|0,this._a=k},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=e.alloc?e.alloc(20):new e(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},ripemd160=h}var sha_js={exports:{}},hash$2,hasRequiredHash$1,sha$1,hasRequiredSha$1,sha1,hasRequiredSha1,sha256$3,hasRequiredSha256,sha224$1,hasRequiredSha224,sha512$1,hasRequiredSha512,sha384$1,hasRequiredSha384,hasRequiredSha_js,cipherBase,hasRequiredCipherBase,browser$9,hasRequiredBrowser$9,legacy,hasRequiredLegacy,md5,hasRequiredMd5,browser$8,hasRequiredBrowser$8;function requireHash$1(){if(hasRequiredHash$1)return hash$2;hasRequiredHash$1=1;var e=requireSafeBuffer$1().Buffer;function t(t,r){this._block=e.alloc(t),this._finalSize=r,this._blockSize=t,this._len=0}return t.prototype.update=function(t,r){"string"==typeof t&&(r=r||"utf8",t=e.from(t,r));for(var n=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var u=o%i,c=Math.min(s-a,i-u),h=0;h<c;h++)n[u+h]=t[a+h];a+=c,(o+=c)%i==0&&this._update(n)}return this._len+=s,this},t.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$2=t}function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var e=requireInherits_browser(),t=requireHash$1(),r=requireSafeBuffer$1().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function s(){this.init(),this._w=i,t.call(this,64,56)}function o(e){return e<<30|e>>>2}function a(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}return e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,s=0|this._b,u=0|this._c,c=0|this._d,h=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((t=i)<<5|t>>>27)+a(f,s,u,c)+h+r[d]+n[f];h=c,c=u,u=o(s),s=i,i=p}this._a=i+this._a|0,this._b=s+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=h+this._e|0},s.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},sha$1=s}function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var e=requireInherits_browser(),t=requireHash$1(),r=requireSafeBuffer$1().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],i=new Array(80);function s(){this.init(),this._w=i,t.call(this,64,56)}function o(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}return e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,s=0|this._b,c=0|this._c,h=0|this._d,l=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=o(i)+u(p,s,c,h)+l+r[f]+n[p]|0;l=h,h=c,c=a(s),s=i,i=m}this._a=i+this._a|0,this._b=s+this._b|0,this._c=c+this._c|0,this._d=h+this._d|0,this._e=l+this._e|0},s.prototype._hash=function(){var e=r.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},sha1=s}function requireSha256(){if(hasRequiredSha256)return sha256$3;hasRequiredSha256=1;var e=requireInherits_browser(),t=requireHash$1(),r=requireSafeBuffer$1().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=new Array(64);function s(){this.init(),this._w=i,t.call(this,64,56)}function o(e,t,r){return r^e&(t^r)}function a(e,t,r){return e&t|r&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}return e(s,t),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,s=0|this._b,l=0|this._c,d=0|this._d,f=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+h(r[y-15])+r[y-16];for(var b=0;b<64;++b){var v=g+c(f)+o(f,p,m)+n[b]+r[b]|0,w=u(i)+a(i,s,l)|0;g=m,m=p,p=f,f=d+v|0,d=l,l=s,s=i,i=v+w|0}this._a=i+this._a|0,this._b=s+this._b|0,this._c=l+this._c|0,this._d=d+this._d|0,this._e=f+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},s.prototype._hash=function(){var e=r.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},sha256$3=s}function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var e=requireInherits_browser(),t=requireSha256(),r=requireHash$1(),n=requireSafeBuffer$1().Buffer,i=new Array(64);function s(){this.init(),this._w=i,r.call(this,64,56)}return e(s,t),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var e=n.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},sha224$1=s}function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var e=requireInherits_browser(),t=requireHash$1(),r=requireSafeBuffer$1().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],i=new Array(160);function s(){this.init(),this._w=i,t.call(this,128,112)}function o(e,t,r){return r^e&(t^r)}function a(e,t,r){return e&t|r&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function c(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function d(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function f(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function p(e,t){return e>>>0<t>>>0?1:0}return e(s,t),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,s=0|this._ch,m=0|this._dh,g=0|this._eh,y=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,A=0|this._bl,M=0|this._cl,E=0|this._dl,_=0|this._el,S=0|this._fl,x=0|this._gl,R=0|this._hl,k=0;k<32;k+=2)t[k]=e.readInt32BE(4*k),t[k+1]=e.readInt32BE(4*k+4);for(;k<160;k+=2){var P=t[k-30],B=t[k-30+1],T=h(P,B),C=l(B,P),O=d(P=t[k-4],B=t[k-4+1]),q=f(B,P),I=t[k-14],N=t[k-14+1],$=t[k-32],L=t[k-32+1],j=C+N|0,U=T+I+p(j,C)|0;U=(U=U+O+p(j=j+q|0,q)|0)+$+p(j=j+L|0,L)|0,t[k]=U,t[k+1]=j}for(var D=0;D<160;D+=2){U=t[D],j=t[D+1];var F=a(r,i,s),H=a(w,A,M),z=u(r,w),G=u(w,r),K=c(g,_),V=c(_,g),W=n[D],J=n[D+1],Z=o(g,y,b),Q=o(_,S,x),Y=R+V|0,X=v+K+p(Y,R)|0;X=(X=(X=X+Z+p(Y=Y+Q|0,Q)|0)+W+p(Y=Y+J|0,J)|0)+U+p(Y=Y+j|0,j)|0;var ee=G+H|0,te=z+F+p(ee,G)|0;v=b,R=x,b=y,x=S,y=g,S=_,g=m+X+p(_=E+Y|0,E)|0,m=s,E=M,s=i,M=A,i=r,A=w,r=X+te+p(w=Y+ee|0,Y)|0}this._al=this._al+w|0,this._bl=this._bl+A|0,this._cl=this._cl+M|0,this._dl=this._dl+E|0,this._el=this._el+_|0,this._fl=this._fl+S|0,this._gl=this._gl+x|0,this._hl=this._hl+R|0,this._ah=this._ah+r+p(this._al,w)|0,this._bh=this._bh+i+p(this._bl,A)|0,this._ch=this._ch+s+p(this._cl,M)|0,this._dh=this._dh+m+p(this._dl,E)|0,this._eh=this._eh+g+p(this._el,_)|0,this._fh=this._fh+y+p(this._fl,S)|0,this._gh=this._gh+b+p(this._gl,x)|0,this._hh=this._hh+v+p(this._hl,R)|0},s.prototype._hash=function(){var e=r.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},sha512$1=s}function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var e=requireInherits_browser(),t=requireSha512(),r=requireHash$1(),n=requireSafeBuffer$1().Buffer,i=new Array(160);function s(){this.init(),this._w=i,r.call(this,128,112)}return e(s,t),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var e=n.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},sha384$1=s}function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var e=sha_js.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};return e.sha=requireSha$1(),e.sha1=requireSha1(),e.sha224=requireSha224(),e.sha256=requireSha256(),e.sha384=requireSha384(),e.sha512=requireSha512(),sha_js.exports}function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var t=requireSafeBuffer$1().Buffer,r=requireStreamBrowserify().Transform,n=requireString_decoder().StringDecoder;function i(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}requireInherits_browser()(i,r);var s="undefined"!=typeof Uint8Array,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);return i.prototype.update=function(e,r,n){var i=function(e,r){if(e instanceof t)return e;if("string"==typeof e)return t.from(e,r);if(o&&ArrayBuffer.isView(e)){if(0===e.byteLength)return t.alloc(0);var n=t.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}if(s&&e instanceof Uint8Array)return t.from(e);if(t.isBuffer(e)&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return t.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(e,r),a=this._update(i);return this.hashMode?this:(n&&(a=this._toString(a,n)),a)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(t,r,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(e){i=e}finally{n(i)}},i.prototype._flush=function(t){var r;try{this.push(this.__final())}catch(e){r=e}t(r)},i.prototype._finalOrDigest=function(e){var r=this.__final()||t.alloc(0);return e&&(r=this._toString(r,e,!0)),r},i.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new n(t),this._encoding=t),this._encoding!==t)throw new Error("cant switch encodings");var i=this._decoder.write(e);return r&&(i+=this._decoder.end()),i},cipherBase=i}function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var e=requireInherits_browser(),t=requireMd5_js(),r=requireRipemd160(),n=requireSha_js(),i=requireCipherBase();function s(e){i.call(this,"digest"),this._hash=e}return e(s,i),s.prototype._update=function(e){this._hash.update(e)},s.prototype._final=function(){return this._hash.digest()},browser$9=function(e){return"md5"===(e=e.toLowerCase())?new t:"rmd160"===e||"ripemd160"===e?new r:new s(n(e))}}function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var e=requireInherits_browser(),t=requireSafeBuffer$1().Buffer,r=requireCipherBase(),n=t.alloc(128),i=64;function s(e,s){r.call(this,"digest"),"string"==typeof s&&(s=t.from(s)),this._alg=e,this._key=s,s.length>i?s=e(s):s.length<i&&(s=t.concat([s,n],i));for(var o=this._ipad=t.allocUnsafe(i),a=this._opad=t.allocUnsafe(i),u=0;u<i;u++)o[u]=54^s[u],a[u]=92^s[u];this._hash=[o]}return e(s,r),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,e]))},legacy=s}function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var e=requireMd5_js();return md5=function(t){return(new e).update(t).digest()}}function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var e=requireInherits_browser(),t=requireLegacy(),r=requireCipherBase(),n=requireSafeBuffer$1().Buffer,i=requireMd5(),s=requireRipemd160(),o=requireSha_js(),a=n.alloc(128);function u(e,t){r.call(this,"digest"),"string"==typeof t&&(t=n.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new s:o(e)).update(t).digest():t.length<i&&(t=n.concat([t,a],i));for(var u=this._ipad=n.allocUnsafe(i),c=this._opad=n.allocUnsafe(i),h=0;h<i;h++)u[h]=54^t[h],c[h]=92^t[h];this._hash="rmd160"===e?new s:o(e),this._hash.update(u)}return e(u,r),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:o(this._alg)).update(this._opad).update(e).digest()},browser$8=function(e,r){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",r):"md5"===e?new t(i,r):new u(e,r)}}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$2={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$2,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos?algos:(hasRequiredAlgos=1,algos=require$$6)}var browser$7={},precondition,hasRequiredPrecondition,defaultEncoding_1,hasRequiredDefaultEncoding,toBuffer,hasRequiredToBuffer,syncBrowser,hasRequiredSyncBrowser,async,hasRequiredAsync,hasRequiredBrowser$7;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var e=Math.pow(2,30)-1;return precondition=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}}function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;var e;if(hasRequiredDefaultEncoding=1,commonjsGlobal.process&&commonjsGlobal.process.browser)e="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){e=parseInt(process$1.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else e="utf-8";return defaultEncoding_1=e}function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var e=requireSafeBuffer$1().Buffer;return toBuffer=function(t,r,n){if(e.isBuffer(t))return t;if("string"==typeof t)return e.from(t,r);if(ArrayBuffer.isView(t))return e.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}}function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var e=requireMd5(),t=requireRipemd160(),r=requireSha_js(),n=requireSafeBuffer$1().Buffer,i=requirePrecondition(),s=requireDefaultEncoding(),o=requireToBuffer(),a=n.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function c(i,s,o){var c=function(n){function i(e){return r(n).update(e).digest()}function s(e){return(new t).update(e).digest()}return"rmd160"===n||"ripemd160"===n?s:"md5"===n?e:i}(i),h="sha512"===i||"sha384"===i?128:64;s.length>h?s=c(s):s.length<h&&(s=n.concat([s,a],h));for(var l=n.allocUnsafe(h+u[i]),d=n.allocUnsafe(h+u[i]),f=0;f<h;f++)l[f]=54^s[f],d[f]=92^s[f];var p=n.allocUnsafe(h+o+4);l.copy(p,0,0,h),this.ipad1=p,this.ipad2=l,this.opad=d,this.alg=i,this.blocksize=h,this.hash=c,this.size=u[i]}return c.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},syncBrowser=function(e,t,r,a,h){i(r,a);var l=new c(h=h||"sha1",e=o(e,s,"Password"),(t=o(t,s,"Salt")).length),d=n.allocUnsafe(a),f=n.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var p=0,m=u[h],g=Math.ceil(a/m),y=1;y<=g;y++){f.writeUInt32BE(y,t.length);for(var b=l.run(f,l.ipad1),v=b,w=1;w<r;w++){v=l.run(v,l.ipad2);for(var A=0;A<m;A++)b[A]^=v[A]}b.copy(d,p),p+=m}return d}}function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var t,r,n=requireSafeBuffer$1().Buffer,i=requirePrecondition(),s=requireDefaultEncoding(),o=requireSyncBrowser(),a=requireToBuffer(),u=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function l(){return r||(r=commonjsGlobal.process&&commonjsGlobal.process.nextTick?commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?commonjsGlobal.setImmediate:commonjsGlobal.setTimeout)}function d(e,t,r,i,s){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:s}},e,i<<3)})).then((function(e){return n.from(e)}))}return async=function(r,f,p,m,g,y){"function"==typeof g&&(y=g,g=void 0);var b=c[(g=g||"sha1").toLowerCase()];if(b&&"function"==typeof commonjsGlobal.Promise){if(i(p,m),r=a(r,s,"Password"),f=a(f,s,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){l()((function(){t(null,e)}))}),(function(e){l()((function(){t(e)}))}))}(function(e){if(commonjsGlobal.process&&!commonjsGlobal.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var r=d(t=t||n.alloc(8),t,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=r,r}(b).then((function(e){return e?d(r,f,p,m,b):o(r,f,p,m,g)})),y)}else l()((function(){var t;try{t=o(r,f,p,m,g)}catch(e){return y(e)}y(null,t)}))}}function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3,minimalisticAssert,hasRequiredMinimalisticAssert,cipher,hasRequiredCipher,des,hasRequiredDes$1;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},utils$3.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},utils$3.ip=function(e,t,r,n){for(var i=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},utils$3.rip=function(e,t,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+o&1,i<<=1,i|=e>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=t>>>a+o&1,s<<=1,s|=e>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},utils$3.pc1=function(e,t,r,n){for(var i=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},utils$3.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(t,r,n,i){for(var s=0,o=0,a=e.length>>>1,u=0;u<a;u++)s<<=1,s|=t>>>e[u]&1;for(u=a;u<e.length;u++)o<<=1,o|=r>>>e[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},utils$3.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(e,r){for(var n=0,i=0;i<4;i++){n<<=4,n|=t[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=t[256+64*i+(r>>>18-6*i&63)]}return n>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(e){for(var t=0,n=0;n<r.length;n++)t<<=1,t|=e>>>r[n]&1;return t>>>0},utils$3.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")},utils$3}function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;function e(e,t){if(!e)throw new Error(t||"Assertion failed")}return hasRequiredMinimalisticAssert=1,minimalisticAssert=e,e.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)},minimalisticAssert}function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var e=requireMinimalisticAssert();function t(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}return cipher=t,t.prototype._init=function(){},t.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},t.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},t.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},t.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},t.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},t.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},t.prototype._unpad=function(e){return e},t.prototype._finalDecrypt=function(){e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)},cipher}function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var e=requireMinimalisticAssert(),t=requireInherits_browser(),r=requireUtils$3(),n=requireCipher();function i(){this.tmp=new Array(2),this.keys=null}function s(e){n.call(this,e);var t=new i;this._desState=t,this.deriveKeys(t,e.key)}t(s,n),des=s,s.create=function(e){return new s(e)};var o=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return s.prototype.deriveKeys=function(t,n){t.keys=new Array(32),e.equal(n.length,this.blockSize,"Invalid key length");var i=r.readUInt32BE(n,0),s=r.readUInt32BE(n,4);r.pc1(i,s,t.tmp,0),i=t.tmp[0],s=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var u=o[a>>>1];i=r.r28shl(i,u),s=r.r28shl(s,u),r.pc2(i,s,t.keys,a)}},s.prototype._update=function(e,t,n,i){var s=this._desState,o=r.readUInt32BE(e,t),a=r.readUInt32BE(e,t+4);r.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],"encrypt"===this.type?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],r.writeUInt32BE(n,o,i),r.writeUInt32BE(n,a,i+4)},s.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},s.prototype._unpad=function(t){if(!1===this.padding)return t;for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)e.equal(t[n],r);return t.slice(0,t.length-r)},s.prototype._encrypt=function(e,t,n,i,s){for(var o=t,a=n,u=0;u<e.keys.length;u+=2){var c=e.keys[u],h=e.keys[u+1];r.expand(a,e.tmp,0),c^=e.tmp[0],h^=e.tmp[1];var l=r.substitute(c,h),d=a;a=(o^r.permute(l))>>>0,o=d}r.rip(a,o,i,s)},s.prototype._decrypt=function(e,t,n,i,s){for(var o=n,a=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],h=e.keys[u+1];r.expand(o,e.tmp,0),c^=e.tmp[0],h^=e.tmp[1];var l=r.substitute(c,h),d=o;o=(a^r.permute(l))>>>0,a=d}r.rip(o,a,i,s)},des}var cbc$1={},hasRequiredCbc$1,ede,hasRequiredEde,hasRequiredDes,browserifyDes,hasRequiredBrowserifyDes;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var e=requireMinimalisticAssert(),t=requireInherits_browser(),r={};function n(t){e.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=t[r]}return cbc$1.instantiate=function(e){function n(t){e.call(this,t),this._cbcInit()}t(n,e);for(var i=Object.keys(r),s=0;s<i.length;s++){var o=i[s];n.prototype[o]=r[o]}return n.create=function(e){return new n(e)},n},r._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},r._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];s._update.call(this,o,0,r,n);for(a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{s._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}},cbc$1}function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var e=requireMinimalisticAssert(),t=requireInherits_browser(),r=requireCipher(),n=requireDes$1();function i(t,r){e.equal(r.length,24,"Invalid key length");var i=r.slice(0,8),s=r.slice(8,16),o=r.slice(16,24);this.ciphers="encrypt"===t?[n.create({type:"encrypt",key:i}),n.create({type:"decrypt",key:s}),n.create({type:"encrypt",key:o})]:[n.create({type:"decrypt",key:o}),n.create({type:"encrypt",key:s}),n.create({type:"decrypt",key:i})]}function s(e){r.call(this,e);var t=new i(this.type,this.options.key);this._edeState=t}return t(s,r),ede=s,s.create=function(e){return new s(e)},s.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},s.prototype._pad=n.prototype._pad,s.prototype._unpad=n.prototype._unpad,ede}function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var e=requireCipherBase(),t=requireDes(),r=requireInherits_browser(),n=requireSafeBuffer$1().Buffer,i={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};function s(t){e.call(this);var r,s=t.mode.toLowerCase(),o=i[s];r=t.decrypt?"decrypt":"encrypt";var a=t.key;n.isBuffer(a)||(a=n.from(a)),"des-ede"!==s&&"des-ede-cbc"!==s||(a=n.concat([a,a.slice(0,8)]));var u=t.iv;n.isBuffer(u)||(u=n.from(u)),this._des=o.create({key:a,iv:u,type:r})}return i.des=i["des-cbc"],i.des3=i["des-ede3-cbc"],browserifyDes=s,r(s,e),s.prototype._update=function(e){return n.from(this._des.update(e))},s.prototype._final=function(){return n.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(e,t){return e._cipher.encryptBlock(t)},ecb.decrypt=function(e,t){return e._cipher.decryptBlock(t)}),ecb}var cbc={},distExports=requireDist$1();const Buffer=getDefaultExportFromCjs$1(distExports);var bufferXor,hasRequiredBufferXor,hasRequiredCbc;function requireBufferXor(){return hasRequiredBufferXor?bufferXor:(hasRequiredBufferXor=1,bufferXor=function(e,t){for(var r=Math.min(e.length,t.length),n=new Buffer(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n})}function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var e=requireBufferXor();return cbc.encrypt=function(t,r){var n=e(r,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},cbc.decrypt=function(t,r){var n=t._prev;t._prev=r;var i=t._cipher.decryptBlock(r);return e(i,n)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var e=requireSafeBuffer$1().Buffer,t=requireBufferXor();function r(r,n,i){var s=n.length,o=t(n,r._cache);return r._cache=r._cache.slice(s),r._prev=e.concat([r._prev,i?n:o]),o}return cfb.encrypt=function(t,n,i){for(var s,o=e.allocUnsafe(0);n.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=e.allocUnsafe(0)),!(t._cache.length<=n.length)){o=e.concat([o,r(t,n,i)]);break}s=t._cache.length,o=e.concat([o,r(t,n.slice(0,s),i)]),n=n.slice(s)}return o},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var e=requireSafeBuffer$1().Buffer;function t(t,r,n){var i=t._cipher.encryptBlock(t._prev)[0]^r;return t._prev=e.concat([t._prev.slice(1),e.from([n?r:i])]),i}return cfb8.encrypt=function(r,n,i){for(var s=n.length,o=e.allocUnsafe(s),a=-1;++a<s;)o[a]=t(r,n[a],i);return o},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var e=requireSafeBuffer$1().Buffer;function t(e,t,n){for(var i,s,o=-1,a=0;++o<8;)i=t&1<<7-o?128:0,a+=(128&(s=e._cipher.encryptBlock(e._prev)[0]^i))>>o%8,e._prev=r(e._prev,n?i:s);return a}function r(t,r){var n=t.length,i=-1,s=e.allocUnsafe(t.length);for(t=e.concat([t,e.from([r])]);++i<n;)s[i]=t[i]<<1|t[i+1]>>7;return s}return cfb1.encrypt=function(r,n,i){for(var s=n.length,o=e.allocUnsafe(s),a=-1;++a<s;)o[a]=t(r,n[a],i);return o},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var e=requireBufferXor();function t(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}return ofb.encrypt=function(r,n){for(;r._cache.length<n.length;)r._cache=Buffer.concat([r._cache,t(r)]);var i=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,i)},ofb}var ctr={},incr32_1,hasRequiredIncr32,hasRequiredCtr;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;return hasRequiredIncr32=1,incr32_1=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}}function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var e=requireBufferXor(),t=requireSafeBuffer$1().Buffer,r=requireIncr32();function n(e){var t=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),t}return ctr.encrypt=function(r,i){var s=Math.ceil(i.length/16),o=r._cache.length;r._cache=t.concat([r._cache,t.allocUnsafe(16*s)]);for(var a=0;a<s;a++){var u=n(r),c=o+16*a;r._cache.writeUInt32BE(u[0],c+0),r._cache.writeUInt32BE(u[1],c+4),r._cache.writeUInt32BE(u[2],c+8),r._cache.writeUInt32BE(u[3],c+12)}var h=r._cache.slice(0,i.length);return r._cache=r._cache.slice(i.length),e(i,h)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var e={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},t=require$$2;for(var r in t)t[r].module=e[t[r].mode];return modes_1=t}var aes={},hasRequiredAes,ghash,hasRequiredGhash,authCipher,hasRequiredAuthCipher,streamCipher,hasRequiredStreamCipher,evp_bytestokey,hasRequiredEvp_bytestokey,hasRequiredEncrypter;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var e=requireSafeBuffer$1().Buffer;function t(t){e.isBuffer(t)||(t=e.from(t));for(var r=t.length/4|0,n=new Array(r),i=0;i<r;i++)n[i]=t.readUInt32BE(4*i);return n}function r(e){for(;0<e.length;e++)e[0]=0}function n(e,t,r,n,i){for(var s,o,a,u,c=r[0],h=r[1],l=r[2],d=r[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],y=4,b=1;b<i;b++)s=c[f>>>24]^h[p>>>16&255]^l[m>>>8&255]^d[255&g]^t[y++],o=c[p>>>24]^h[m>>>16&255]^l[g>>>8&255]^d[255&f]^t[y++],a=c[m>>>24]^h[g>>>16&255]^l[f>>>8&255]^d[255&p]^t[y++],u=c[g>>>24]^h[f>>>16&255]^l[p>>>8&255]^d[255&m]^t[y++],f=s,p=o,m=a,g=u;return s=(n[f>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^t[y++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&f])^t[y++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[255&p])^t[y++],u=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^t[y++],[s>>>=0,o>>>=0,a>>>=0,u>>>=0]}var i=[0,1,2,4,8,16,32,64,128,27,54],s=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[o]=c,n[c]=o;var h=e[o],l=e[h],d=e[l],f=257*e[c]^16843008*c;i[0][o]=f<<24|f>>>8,i[1][o]=f<<16|f>>>16,i[2][o]=f<<8|f>>>24,i[3][o]=f,f=16843009*d^65537*l^257*h^16843008*o,s[0][c]=f<<24|f>>>8,s[1][c]=f<<16|f>>>16,s[2][c]=f<<8|f>>>24,s[3][c]=f,0===o?o=a=1:(o=h^e[e[e[d^h]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function o(e){this._key=t(e),this._reset()}return o.blockSize=16,o.keySize=32,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),o=[],a=0;a<t;a++)o[a]=e[a];for(a=t;a<n;a++){var u=o[a-1];a%t==0?(u=u<<8|u>>>24,u=s.SBOX[u>>>24]<<24|s.SBOX[u>>>16&255]<<16|s.SBOX[u>>>8&255]<<8|s.SBOX[255&u],u^=i[a/t|0]<<24):t>6&&a%t==4&&(u=s.SBOX[u>>>24]<<24|s.SBOX[u>>>16&255]<<16|s.SBOX[u>>>8&255]<<8|s.SBOX[255&u]),o[a]=o[a-t]^u}for(var c=[],h=0;h<n;h++){var l=n-h,d=o[l-(h%4?0:4)];c[h]=h<4||l<=4?d:s.INV_SUB_MIX[0][s.SBOX[d>>>24]]^s.INV_SUB_MIX[1][s.SBOX[d>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[d>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&d]]}this._nRounds=r,this._keySchedule=o,this._invKeySchedule=c},o.prototype.encryptBlockRaw=function(e){return n(e=t(e),this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},o.prototype.encryptBlock=function(t){var r=this.encryptBlockRaw(t),n=e.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},o.prototype.decryptBlock=function(r){var i=(r=t(r))[1];r[1]=r[3],r[3]=i;var o=n(r,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),a=e.allocUnsafe(16);return a.writeUInt32BE(o[0],0),a.writeUInt32BE(o[3],4),a.writeUInt32BE(o[2],8),a.writeUInt32BE(o[1],12),a},o.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},aes.AES=o,aes}function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var e=requireSafeBuffer$1().Buffer,t=e.alloc(16,0);function r(t){var r=e.allocUnsafe(16);return r.writeUInt32BE(t[0]>>>0,0),r.writeUInt32BE(t[1]>>>0,4),r.writeUInt32BE(t[2]>>>0,8),r.writeUInt32BE(t[3]>>>0,12),r}function n(t){this.h=t,this.state=e.alloc(16,0),this.cache=e.allocUnsafe(0)}return n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,n,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],s=[0,0,0,0],o=-1;++o<128;){for(!!(this.state[~~(o/8)]&1<<7-o%8)&&(s[0]^=i[0],s[1]^=i[1],s[2]^=i[2],s[3]^=i[3]),n=!!(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=r(s)},n.prototype.update=function(t){var r;for(this.cache=e.concat([this.cache,t]);this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},n.prototype.final=function(n,i){return this.cache.length&&this.ghash(e.concat([this.cache,t],16)),this.ghash(r([0,n,0,i])),this.state},ghash=n}function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var e=requireAes(),t=requireSafeBuffer$1().Buffer,r=requireCipherBase(),n=requireInherits_browser(),i=requireGhash(),s=requireBufferXor(),o=requireIncr32();function a(n,s,a,u){r.call(this);var c=t.alloc(4,0);this._cipher=new e.AES(s);var h=this._cipher.encryptBlock(c);this._ghash=new i(h),a=function(e,r,n){if(12===r.length)return e._finID=t.concat([r,t.from([0,0,0,1])]),t.concat([r,t.from([0,0,0,2])]);var s=new i(n),a=r.length,u=a%16;s.update(r),u&&(u=16-u,s.update(t.alloc(u,0))),s.update(t.alloc(8,0));var c=8*a,h=t.alloc(8);h.writeUIntBE(c,0,8),s.update(h),e._finID=s.state;var l=t.from(e._finID);return o(l),l}(this,a,h),this._prev=t.from(a),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=u,this._alen=0,this._len=0,this._mode=n,this._authTag=null,this._called=!1}return n(a,r),a.prototype._update=function(e){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=t.alloc(r,0),this._ghash.update(r))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},a.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},a.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},authCipher=a}function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var e=requireAes(),t=requireSafeBuffer$1().Buffer,r=requireCipherBase();function n(n,i,s,o){r.call(this),this._cipher=new e.AES(i),this._prev=t.from(s),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=o,this._mode=n}return requireInherits_browser()(n,r),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},streamCipher=n}function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var e=requireSafeBuffer$1().Buffer,t=requireMd5_js();return evp_bytestokey=function(r,n,i,s){if(e.isBuffer(r)||(r=e.from(r,"binary")),n&&(e.isBuffer(n)||(n=e.from(n,"binary")),8!==n.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=i/8,a=e.alloc(o),u=e.alloc(s||0),c=e.alloc(0);o>0||s>0;){var h=new t;h.update(c),h.update(r),n&&h.update(n),c=h.digest();var l=0;if(o>0){var d=a.length-o;l=Math.min(o,c.length),c.copy(a,d,0,l),o-=l}if(l<c.length&&s>0){var f=u.length-s,p=Math.min(s,c.length-l);c.copy(u,f,l,l+p),s-=p}}return c.fill(0),{key:a,iv:u}}}function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var e=requireModes$1(),t=requireAuthCipher(),r=requireSafeBuffer$1().Buffer,n=requireStreamCipher(),i=requireCipherBase(),s=requireAes(),o=requireEvp_bytestokey();function a(e,t,n){i.call(this),this._cache=new c,this._cipher=new s.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}requireInherits_browser()(a,i),a.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return r.concat(i)};var u=r.alloc(16,16);function c(){this.cache=r.allocUnsafe(0)}function h(i,s,o){var u=e[i.toLowerCase()];if(!u)throw new TypeError("invalid suite type");if("string"==typeof s&&(s=r.from(s)),s.length!==u.key/8)throw new TypeError("invalid key length "+s.length);if("string"==typeof o&&(o=r.from(o)),"GCM"!==u.mode&&o.length!==u.iv)throw new TypeError("invalid iv length "+o.length);return"stream"===u.type?new n(u.module,s,o):"auth"===u.type?new t(u.module,s,o):new a(u.module,s,o)}return a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},c.prototype.add=function(e){this.cache=r.concat([this.cache,e])},c.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},c.prototype.flush=function(){for(var e=16-this.cache.length,t=r.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return r.concat([this.cache,t])},encrypter.createCipheriv=h,encrypter.createCipher=function(t,r){var n=e[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=o(r,!1,n.key,n.iv);return h(t,i.key,i.iv)},encrypter}var decrypter={},hasRequiredDecrypter,hasRequiredBrowser$6;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var e=requireAuthCipher(),t=requireSafeBuffer$1().Buffer,r=requireModes$1(),n=requireStreamCipher(),i=requireCipherBase(),s=requireAes(),o=requireEvp_bytestokey();function a(e,r,n){i.call(this),this._cache=new u,this._last=void 0,this._cipher=new s.AES(r),this._prev=t.from(n),this._mode=e,this._autopadding=!0}function u(){this.cache=t.allocUnsafe(0)}function c(i,s,o){var u=r[i.toLowerCase()];if(!u)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=t.from(o)),"GCM"!==u.mode&&o.length!==u.iv)throw new TypeError("invalid iv length "+o.length);if("string"==typeof s&&(s=t.from(s)),s.length!==u.key/8)throw new TypeError("invalid key length "+s.length);return"stream"===u.type?new n(u.module,s,o,!0):"auth"===u.type?new e(u.module,s,o,!0):new a(u.module,s,o)}return requireInherits_browser()(a,i),a.prototype._update=function(e){var r,n;this._cache.add(e);for(var i=[];r=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,r),i.push(n);return t.concat(i)},a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=t.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},decrypter.createDecipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=o(t,!1,n.key,n.iv);return c(e,i.key,i.iv)},decrypter.createDecipheriv=c,decrypter}function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var e=requireEncrypter(),t=requireDecrypter(),r=require$$2;return browser$5.createCipher=browser$5.Cipher=e.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=e.createCipheriv,browser$5.createDecipher=browser$5.Decipher=t.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=t.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=function(){return Object.keys(r)},browser$5}var modes={},hasRequiredModes,hasRequiredBrowser$5;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,(e=modes)["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}),modes;var e}function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var e=requireBrowserifyDes(),t=requireBrowser$6(),r=requireModes$1(),n=requireModes(),i=requireEvp_bytestokey();function s(i,s,o){if(i=i.toLowerCase(),r[i])return t.createCipheriv(i,s,o);if(n[i])return new e({key:s,iv:o,mode:i});throw new TypeError("invalid suite type")}function o(i,s,o){if(i=i.toLowerCase(),r[i])return t.createDecipheriv(i,s,o);if(n[i])return new e({key:s,iv:o,mode:i,decrypt:!0});throw new TypeError("invalid suite type")}return browser$6.createCipher=browser$6.Cipher=function(e,t){var o,a;if(e=e.toLowerCase(),r[e])o=r[e].key,a=r[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");o=8*n[e].key,a=n[e].iv}var u=i(t,!1,o,a);return s(e,u.key,u.iv)},browser$6.createCipheriv=browser$6.Cipheriv=s,browser$6.createDecipher=browser$6.Decipher=function(e,t){var s,a;if(e=e.toLowerCase(),r[e])s=r[e].key,a=r[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");s=8*n[e].key,a=n[e].iv}var u=i(t,!1,s,a);return o(e,u.key,u.iv)},browser$6.createDecipheriv=browser$6.Decipheriv=o,browser$6.listCiphers=browser$6.getCiphers=function(){return Object.keys(n).concat(t.getCiphers())},browser$6}var browser$4={},bn$7={exports:{}},hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$7,commonjsGlobal)),bn$7.exports}bn$7.exports;var bn$6={exports:{}},hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$6,commonjsGlobal)),bn$6.exports}bn$6.exports;var brorand={exports:{}},hasRequiredBrorand,mr$1,hasRequiredMr,generatePrime,hasRequiredGeneratePrime;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;var t;function r(e){this.rand=e}if(hasRequiredBrorand=1,brorand.exports=function(e){return t||(t=new r(null)),t.generate(e)},brorand.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=requireCryptoBrowserify();if("function"!=typeof n.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return n.randomBytes(e)}}catch(e){}return brorand.exports}function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var e=requireBn$5(),t=requireBrorand();function r(e){this.rand=e||new t.Rand}return mr$1=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(t){var r=t.bitLength(),n=Math.ceil(r/8);do{var i=new e(this.rand.generate(n))}while(i.cmp(t)>=0);return i},r.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},r.prototype.test=function(t,r,n){var i=t.bitLength(),s=e.mont(t),o=new e(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var c=t.shrn(u),h=a.toRed(s);r>0;r--){var l=this._randrange(new e(2),a);n&&n(l);var d=l.toRed(s).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(h)){for(var f=1;f<u;f++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(h))break}if(f===u)return!1}}return!0},r.prototype.getDivisor=function(t,r){var n=t.bitLength(),i=e.mont(t),s=new e(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var u=t.shrn(a),c=o.toRed(i);r>0;r--){var h=this._randrange(new e(2),o),l=t.gcd(h);if(0!==l.cmpn(1))return l;var d=h.toRed(i).redPow(u);if(0!==d.cmp(s)&&0!==d.cmp(c)){for(var f=1;f<a;f++){if(0===(d=d.redSqr()).cmp(s))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(c))break}if(f===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1},mr$1}function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var e=requireBrowser$b();generatePrime=p,p.simpleSieve=d,p.fermatTest=f;var t=requireBn$6(),r=new t(24),n=new(requireMr()),i=new t(1),s=new t(2),o=new t(5);new t(16),new t(8);var a=new t(10),u=new t(3);new t(7);var c=new t(11),h=new t(4);new t(12);var l=null;function d(e){for(var t=function(){if(null!==l)return l;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return l=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function f(e){var r=t.mont(e);return 0===s.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function p(l,p){if(l<16)return new t(2===p||5===p?[140,123]:[140,39]);var m,g;for(p=new t(p);;){for(m=new t(e(Math.ceil(l/8)));m.bitLength()>l;)m.ishrn(1);if(m.isEven()&&m.iadd(i),m.testn(1)||m.iadd(s),p.cmp(s)){if(!p.cmp(o))for(;m.mod(a).cmp(u);)m.iadd(h)}else for(;m.mod(r).cmp(c);)m.iadd(h);if(d(g=m.shrn(1))&&d(m)&&f(g)&&f(m)&&n.test(g)&&n.test(m))return m}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh,hasRequiredBrowser$4;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var e=requireBn$6(),t=new(requireMr()),r=new e(24),n=new e(11),i=new e(10),s=new e(3),o=new e(7),a=requireGeneratePrime(),u=requireBrowser$b();function c(t,r){return r=r||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,r)),this._pub=new e(t),this}function h(t,r){return r=r||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,r)),this._priv=new e(t),this}dh=d;var l={};function d(t,r,n){this.setGenerator(r),this.__prime=new e(t),this._prime=e.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=c,this.setPrivateKey=h):this._primeCode=8}function f(e,t){var r=new Buffer(e.toArray());return t?r.toString(t):r}return Object.defineProperty(d.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,u){var c=u.toString("hex"),h=[c,e.toString(16)].join("_");if(h in l)return l[h];var d,f=0;if(e.isEven()||!a.simpleSieve||!a.fermatTest(e)||!t.test(e))return f+=1,f+="02"===c||"05"===c?8:4,l[h]=f,f;switch(t.test(e.shrn(1))||(f+=2),c){case"02":e.mod(r).cmp(n)&&(f+=8);break;case"05":(d=e.mod(i)).cmp(s)&&d.cmp(o)&&(f+=8);break;default:f+=4}return l[h]=f,f}(this.__prime,this.__gen)),this._primeCode}}),d.prototype.generateKeys=function(){return this._priv||(this._priv=new e(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},d.prototype.computeSecret=function(t){var r=(t=(t=new e(t)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new Buffer(r.toArray()),i=this.getPrime();if(n.length<i.length){var s=new Buffer(i.length-n.length);s.fill(0),n=Buffer.concat([s,n])}return n},d.prototype.getPublicKey=function(e){return f(this._pub,e)},d.prototype.getPrivateKey=function(e){return f(this._priv,e)},d.prototype.getPrime=function(e){return f(this.__prime,e)},d.prototype.getGenerator=function(e){return f(this._gen,e)},d.prototype.setGenerator=function(t,r){return r=r||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,r)),this.__gen=t,this._gen=new e(t),this},dh}function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var e=requireGeneratePrime(),t=require$$1$1,r=requireDh();var n={binary:!0,hex:!0,base64:!0};return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=function(e){var n=new Buffer(t[e].prime,"hex"),i=new Buffer(t[e].gen,"hex");return new r(n,i)},browser$4.createDiffieHellman=browser$4.DiffieHellman=function t(i,s,o,a){return Buffer.isBuffer(s)||void 0===n[s]?t(i,"binary",s,o):(s=s||"binary",a=a||"binary",o=o||new Buffer([2]),Buffer.isBuffer(o)||(o=new Buffer(o,a)),"number"==typeof i?new r(e(i,o),o,!0):(Buffer.isBuffer(i)||(i=new Buffer(i,s)),new r(i,o,!0)))},browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs,isarray,hasRequiredIsarray,streamBrowser,hasRequiredStreamBrowser;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;return hasRequiredProcessNextickArgs=1,void 0===process$1||!process$1.version||0===process$1.version.indexOf("v0.")||0===process$1.version.indexOf("v1.")&&0!==process$1.version.indexOf("v1.8.")?processNextickArgs.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick((function(){e.call(null,t)}));case 3:return process$1.nextTick((function(){e.call(null,t,r)}));case 4:return process$1.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return process$1.nextTick((function(){e.apply(null,i)}))}}}:processNextickArgs.exports=process$1,processNextickArgs.exports}function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var e={}.toString;return isarray=Array.isArray||function(t){return"[object Array]"==e.call(t)}}function requireStreamBrowser(){return hasRequiredStreamBrowser?streamBrowser:(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter)}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(e,t){var r=requireDist$1(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(n,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;function e(e){return Object.prototype.toString.call(e)}return hasRequiredUtil=1,util.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},util.isBoolean=function(e){return"boolean"==typeof e},util.isNull=function(e){return null===e},util.isNullOrUndefined=function(e){return null==e},util.isNumber=function(e){return"number"==typeof e},util.isString=function(e){return"string"==typeof e},util.isSymbol=function(e){return"symbol"==typeof e},util.isUndefined=function(e){return void 0===e},util.isRegExp=function(t){return"[object RegExp]"===e(t)},util.isObject=function(e){return"object"==typeof e&&null!==e},util.isDate=function(t){return"[object Date]"===e(t)},util.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},util.isFunction=function(e){return"function"==typeof e},util.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},util.isBuffer=requireDist$1().Buffer.isBuffer,util}var BufferList={exports:{}},hasRequiredBufferList,destroy_1,hasRequiredDestroy,_stream_writable,hasRequired_stream_writable,_stream_duplex,hasRequired_stream_duplex,_stream_readable,hasRequired_stream_readable,_stream_transform,hasRequired_stream_transform,_stream_passthrough,hasRequired_stream_passthrough,hasRequiredReadableBrowser;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,e=BufferList,t=requireSafeBuffer().Buffer,r=requireUtil$1(),e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return t.alloc(0);for(var r,n,i,s=t.allocUnsafe(e>>>0),o=this.head,a=0;o;)r=o.data,n=s,i=a,r.copy(n,i),a+=o.data.length,o=o.next;return s},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})),BufferList.exports;var e,t,r}function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var e=requireProcessNextickArgs();function t(e,t){e.emit("error",t)}return destroy_1={destroy:function(r,n){var i=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(t,this,r)):e.nextTick(t,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(r){!n&&r?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,e.nextTick(t,i,r)):e.nextTick(t,i,r):n&&n(r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var e=requireProcessNextickArgs();function t(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}_stream_writable=f;var r,n=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:e.nextTick;f.WritableState=d;var i=Object.create(requireUtil());i.inherits=requireInherits_browser();var s={deprecate:requireBrowser$a()},o=requireStreamBrowser(),a=requireSafeBuffer().Buffer,u=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,h=requireDestroy();function l(){}function d(i,s){r=r||require_stream_duplex(),i=i||{};var o=s instanceof r;this.objectMode=!!i.objectMode,o&&(this.objectMode=this.objectMode||!!i.writableObjectMode);var a=i.highWaterMark,u=i.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===i.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,r){var i=t._writableState,s=i.sync,o=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),r)!function(t,r,n,i,s){--r.pendingcb,n?(e.nextTick(s,i),e.nextTick(v,t,r),t._writableState.errorEmitted=!0,t.emit("error",i)):(s(i),t._writableState.errorEmitted=!0,t.emit("error",i),v(t,r))}(t,i,s,r,o);else{var a=y(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||g(t,i),s?n(m,t,i,a,o):m(t,i,a,o)}}(s,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function f(e){if(r=r||require_stream_duplex(),!(c.call(f,this)||this instanceof r))return new f(e);this._writableState=new d(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function p(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function m(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),v(e,t)}function g(e,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(e._writev&&n&&n.next){var i=r.bufferedRequestCount,s=new Array(i),o=r.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,p(e,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new t(r),r.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,h=n.encoding,l=n.callback;if(p(e,r,!1,r.objectMode?1:c.length,c,h,l),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),v(e,t)}))}function v(t,r){var n=y(r);return n&&(!function(t,r){r.prefinished||r.finalCalled||("function"==typeof t._final?(r.pendingcb++,r.finalCalled=!0,e.nextTick(b,t,r)):(r.prefinished=!0,t.emit("prefinish")))}(t,r),0===r.pendingcb&&(r.finished=!0,t.emit("finish"))),n}return i.inherits(f,o),d.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(d.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===f&&(e&&e._writableState instanceof d)}})):c=function(e){return e instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(t,r,n){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=t,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(t)&&(t=function(e){return a.from(e)}(t)),"function"==typeof r&&(n=r,r=null),c?r="buffer":r||(r=s.defaultEncoding),"function"!=typeof n&&(n=l),s.ended?function(t,r){var n=new Error("write after end");t.emit("error",n),e.nextTick(r,n)}(this,n):(c||function(t,r,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||r.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),e.nextTick(i,o),s=!1),s}(this,s,t,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p(e,t,!1,u,n,i,s);return c}(this,s,c,t,r,n)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||g(this,e))},f.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(t,r,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),null!=t&&this.write(t,r),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,r,n){r.ending=!0,v(t,r),n&&(r.finished?e.nextTick(n):t.once("finish",n));r.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),f.prototype.destroy=h.destroy,f.prototype._undestroy=h.undestroy,f.prototype._destroy=function(e,t){this.end(),t(e)},_stream_writable}function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=requireProcessNextickArgs(),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};_stream_duplex=u;var r=Object.create(requireUtil());r.inherits=requireInherits_browser();var n=require_stream_readable(),i=require_stream_writable();r.inherits(u,n);for(var s=t(i.prototype),o=0;o<s.length;o++){var a=s[o];u.prototype[a]||(u.prototype[a]=i.prototype[a])}function u(e){if(!(this instanceof u))return new u(e);n.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||e.nextTick(h,this)}function h(e){e.end()}return Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)},_stream_duplex}function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var e=requireProcessNextickArgs();_stream_readable=m;var t,r=requireIsarray();m.ReadableState=p,requireEvents().EventEmitter;var n=function(e,t){return e.listeners(t).length},i=requireStreamBrowser(),s=requireSafeBuffer().Buffer,o=(void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var a=Object.create(requireUtil());a.inherits=requireInherits_browser();var u=requireUtil$1(),c=void 0;c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,l=requireBufferList(),d=requireDestroy();a.inherits(m,i);var f=["error","close","destroy","pause","resume"];function p(e,r){e=e||{};var n=r instanceof(t=t||require_stream_duplex());this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=requireString_decoder().StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function m(e){if(t=t||require_stream_duplex(),!(this instanceof m))return new m(e);this._readableState=new p(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function g(e,t,r,n,i){var a,u=e._readableState;null===t?(u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,w(e)}(e,u)):(i||(a=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof o||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(u,t)),a?e.emit("error",a):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):y(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?y(e,u,t,!1):M(e,u)):y(e,u,t,!1))):n||(u.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function y(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&w(e)),M(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=d.destroy,m.prototype._undestroy=d.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),g(this,e,t,!1,r)},m.prototype.unshift=function(e){return g(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return h||(h=requireString_decoder().StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var b=8388608;function v(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(t){var r=t._readableState;r.needReadable=!1,r.emittedReadable||(c("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?e.nextTick(A,t):A(t))}function A(e){c("emit readable"),e.emit("readable"),x(e)}function M(t,r){r.readingMore||(r.readingMore=!0,e.nextTick(E,t,r))}function E(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function _(e){c("readable nexttick read 0"),e.read(0)}function S(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=s.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function k(t){var r=t._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,e.nextTick(P,r,t))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return m.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):w(this),null;if(0===(e=v(e,t))&&t.ended)return 0===t.length&&k(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=v(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&k(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,i){var s=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,i);var a=(!i||!1!==i.end)&&t!==process$1.stdout&&t!==process$1.stderr?h:b;function u(e,r){c("onunpipe"),e===s&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",m),t.removeListener("unpipe",u),s.removeListener("end",h),s.removeListener("end",b),s.removeListener("data",p),d=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function h(){c("onend"),t.end()}o.endEmitted?e.nextTick(a):s.once("end",a),t.on("unpipe",u);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,x(e))}}(s);t.on("drain",l);var d=!1;var f=!1;function p(e){c("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==B(o.pipes,t))&&!d&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++,f=!0),s.pause())}function m(e){c("onerror",e),b(),t.removeListener("error",m),0===n(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),b()}function y(){c("onfinish"),t.removeListener("close",g),b()}function b(){c("unpipe"),s.unpipe(t)}return s.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(t,"error",m),t.once("close",g),t.once("finish",y),t.emit("pipe",s),o.flowing||(c("pipe resume"),s.resume()),t},m.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=B(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},m.prototype.on=function(t,r){var n=i.prototype.on.call(this,t,r);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&w(this):e.nextTick(_,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!0,function(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(S,t,r))}(this,t)),this},m.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<f.length;s++)e.on(f[s],this.emit.bind(this,f[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=R,_stream_readable}function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=n;var e=require_stream_duplex(),t=Object.create(requireUtil());function r(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(t){if(!(this instanceof n))return new n(t);e.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",i)}function i(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){s(e,t,r)})):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}return t.inherits=requireInherits_browser(),t.inherits(n,e),n.prototype.push=function(t,r){return this._transformState.needTransform=!1,e.prototype.push.call(this,t,r)},n.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},n.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},n.prototype._destroy=function(t,r){var n=this;e.prototype._destroy.call(this,t,(function(e){r(e),n.emit("close")}))},_stream_transform}function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=r;var e=require_stream_transform(),t=Object.create(requireUtil());function r(t){if(!(this instanceof r))return new r(t);e.call(this,t)}return t.inherits=requireInherits_browser(),t.inherits(r,e),r.prototype._transform=function(e,t,r){r(null,e)},_stream_passthrough}function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,e=readableBrowser,t=readableBrowser.exports,(t=e.exports=require_stream_readable()).Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough()),readableBrowser.exports;var e,t}var sign={exports:{}},bn$5={exports:{}},hasRequiredBn$4,browserifyRsa,hasRequiredBrowserifyRsa;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var s=0,o=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){h(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){s.prototype.inspect=l}else s.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],h=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modrn(h).toString(e);r=(l=l.idivn(h)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}Math.imul||(g=m),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?y(this,e,t):b(this,e,t)},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),b(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(A,w),A.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(M,w),i(E,w),i(_,w),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new M;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return v[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new x(e)},i(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$5,commonjsGlobal)),bn$5.exports}function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var e=requireBn$4(),t=requireBrowser$b(),r=requireSafeBuffer$1().Buffer;function n(r){var n,i=r.modulus.byteLength();do{n=new e(t(i))}while(n.cmp(r.modulus)>=0||!n.umod(r.prime1)||!n.umod(r.prime2));return n}function i(t,i){var s=function(t){var r=n(t);return{blinder:r.toRed(e.mont(t.modulus)).redPow(new e(t.publicExponent)).fromRed(),unblinder:r.invm(t.modulus)}}(i),o=i.modulus.byteLength(),a=new e(t).mul(s.blinder).umod(i.modulus),u=a.toRed(e.mont(i.prime1)),c=a.toRed(e.mont(i.prime2)),h=i.coefficient,l=i.prime1,d=i.prime2,f=u.redPow(i.exponent1).fromRed(),p=c.redPow(i.exponent2).fromRed(),m=f.isub(p).imul(h).umod(l).imul(d);return p.iadd(m).imul(s.unblinder).umod(i.modulus).toArrayLike(r,"be",o)}return i.getr=n,browserifyRsa=i}bn$5.exports;var elliptic={};const name="elliptic",version$2="6.6.1",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version:version$2,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$2={},bn$4={exports:{}},hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$4,commonjsGlobal)),bn$4.exports}bn$4.exports;var utils$1={},hasRequiredUtils$2,hasRequiredUtils$1;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(){var e=utils$1;function t(e){return 1===e.length?"0"+e:e}function r(e){for(var r="",n=0;n<e.length;n++)r+=t(e[n].toString(16));return r}e.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},e.zero2=t,e.toHex=r,e.encode=function(e,t){return"hex"===t?r(e):e}}()),utils$1}function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,e=utils$2,t=requireBn$3(),r=requireMinimalisticAssert(),n=requireUtils$2(),e.assert=r,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode,e.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<t+1,o=e.clone();for(n=0;n<i.length;n++){var a,u=o.andln(s-1);o.isOdd()?(a=u>(s>>1)-1?(s>>1)-u:u,o.isubn(a)):a=0,i[n]=a,o.iushrn(1)}return i},e.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,u=e.andln(3)+i&3,c=t.andln(3)+s&3;3===u&&(u=-1),3===c&&(c=-1),o=1&u?3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u:0,r[0].push(o),a=1&c?3!=(n=t.andln(7)+s&7)&&5!==n||2!==u?c:-c:0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},e.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(e){return new t(e,"hex","le")}),utils$2;var e,t,r,n}var curve={},base$1,hasRequiredBase$1,short,hasRequiredShort,mont,hasRequiredMont,edwards,hasRequiredEdwards,hasRequiredCurve;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var e=requireBn$3(),t=requireUtils$1(),r=t.getNAF,n=t.getJSF,i=t.assert;function s(t,r){this.type=t,this.p=new e(r.p,16),this.red=r.prime?e.red(r.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=r.n&&new e(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function o(e,t){this.curve=e,this.type=t,this.precomputed=null}return base$1=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){i(e.precomputed);var n=e._getDoubles(),s=r(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var a,u,c=[];for(a=0;a<s.length;a+=n.step){u=0;for(var h=a+n.step-1;h>=a;h--)u=(u<<1)+s[h];c.push(u)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=o;f>0;f--){for(a=0;a<c.length;a++)(u=c[a])===f?d=d.mixedAdd(n.points[a]):u===-f&&(d=d.mixedAdd(n.points[a].neg()));l=l.add(d)}return l.toP()},s.prototype._wnafMul=function(e,t){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var o=s.points,a=r(t,n,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var h=0;c>=0&&0===a[c];c--)h++;if(c>=0&&h++,u=u.dblp(h),c<0)break;var l=a[c];i(0!==l),u="affine"===e.type?l>0?u.mixedAdd(o[l-1>>1]):u.mixedAdd(o[-l-1>>1].neg()):l>0?u.add(o[l-1>>1]):u.add(o[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},s.prototype._wnafMulAdd=function(e,t,i,s,o){var a,u,c,h=this._wnafT1,l=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<s;a++){var p=(c=t[a])._getNAFPoints(e);h[a]=p.wnd,l[a]=p.points}for(a=s-1;a>=1;a-=2){var m=a-1,g=a;if(1===h[m]&&1===h[g]){var y=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(y[1]=t[m].add(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].add(t[g].neg())):(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=n(i[m],i[g]);for(f=Math.max(v[0].length,f),d[m]=new Array(f),d[g]=new Array(f),u=0;u<f;u++){var w=0|v[0][u],A=0|v[1][u];d[m][u]=b[3*(w+1)+(A+1)],d[g][u]=0,l[m]=y}}else d[m]=r(i[m],h[m],this._bitLength),d[g]=r(i[g],h[g],this._bitLength),f=Math.max(d[m].length,f),f=Math.max(d[g].length,f)}var M=this.jpoint(null,null,null),E=this._wnafT4;for(a=f;a>=0;a--){for(var _=0;a>=0;){var S=!0;for(u=0;u<s;u++)E[u]=0|d[u][a],0!==E[u]&&(S=!1);if(!S)break;_++,a--}if(a>=0&&_++,M=M.dblp(_),a<0)break;for(u=0;u<s;u++){var x=E[u];0!==x&&(x>0?c=l[u][x-1>>1]:x<0&&(c=l[u][-x-1>>1].neg()),M="affine"===c.type?M.mixedAdd(c):M.add(c))}}for(a=0;a<s;a++)l[a]=null;return o?M:M.toP()},s.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,r){e=t.toArray(e,r);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?i(e[e.length-1]%2==0):7===e[0]&&i(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(e){return this.encode(e,!0)},o.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},o.prototype.encode=function(e,r){return t.encode(this._encode(r),e)},o.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},o.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t},base$1}function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var e=requireUtils$1(),t=requireBn$3(),r=requireInherits_browser(),n=requireBase$1(),i=e.assert;function s(e){n.call(this,"short",e),this.a=new t(e.a,16).toRed(this.red),this.b=new t(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function o(e,r,i,s){n.BasePoint.call(this,e,"affine"),null===r&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(r,16),this.y=new t(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function a(e,r,i,s){n.BasePoint.call(this,e,"jacobian"),null===r&&null===i&&null===s?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(r,16),this.y=new t(i,16),this.z=new t(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(s,n),short=s,s.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,n;if(e.beta)r=new t(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=(r=s[0].cmp(s[1])<0?s[0]:s[1]).toRed(this.red)}if(e.lambda)n=new t(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))?n=o[0]:(n=o[1],i(0===this.g.mul(n).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new t(e.a,16),b:new t(e.b,16)}})):this._getEndoBasis(n)}}},s.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:t.mont(e),n=new t(2).toRed(r).redInvm(),i=n.redNeg(),s=new t(3).toRed(r).redNeg().redSqrt().redMul(n);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},s.prototype._getEndoBasis=function(e){for(var r,n,i,s,o,a,u,c,h,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new t(1),m=new t(0),g=new t(0),y=new t(1),b=0;0!==d.cmpn(0);){var v=f.div(d);c=f.sub(v.mul(d)),h=g.sub(v.mul(p));var w=y.sub(v.mul(m));if(!i&&c.cmp(l)<0)r=u.neg(),n=p,i=c.neg(),s=h;else if(i&&2==++b)break;u=c,f=d,d=c,g=p,p=h,y=m,m=w}o=c.neg(),a=h;var A=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(A)>=0&&(o=r,a=n),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},s.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:u.add(c).neg()}},s.prototype.pointFromX=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},s.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},s.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),h=0;h<2*s;h++)n[h]=null,i[h]=null;return c},r(o,n.BasePoint),s.prototype.point=function(e,t,r){return new o(this,e,t,r)},s.prototype.pointFromJSON=function(e,t){return o.fromJSON(this,e,t)},o.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},o.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(e){return e=new t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},o.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},o.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},o.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},o.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},o.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},r(a,n.BasePoint),s.prototype.jpoint=function(e,t,r){return new a(this,e,t,r)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),l=n.redMul(c),d=u.redSqr().redIAdd(h).redISub(l).redISub(l),f=u.redMul(l.redISub(d)).redISub(s.redMul(h)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},a.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),h=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(h).redISub(h),d=a.redMul(h.redISub(l)).redISub(i.redMul(c)),f=this.z.redMul(o);return this.curve.jpoint(l,d,f)},a.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var h=s.redSqr(),l=c.redSqr(),d=l.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=s.redMul(l),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(d);var b=c.redMul(a);t+1<e&&(u=u.redMul(d)),s=m,a=b,c=y}return this.curve.jpoint(s,c.redMul(i),a)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(h).redISub(d);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},a.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(h);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},a.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),h=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(h),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(l).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,f,p)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),h=t.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.x.redMul(a).redISub(h);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,d,f)},a.prototype.mul=function(e,r){return e=new t(e,r),this.curve._wnafMul(this,e)},a.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},a.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},short}function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var e=requireBn$3(),t=requireInherits_browser(),r=requireBase$1(),n=requireUtils$1();function i(t){r.call(this,"mont",t),this.a=new e(t.a,16).toRed(this.red),this.b=new e(t.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function s(t,n,i){r.BasePoint.call(this,t,"projective"),null===n&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(n,16),this.z=new e(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(i,r),mont=i,i.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},t(s,r.BasePoint),i.prototype.decodePoint=function(e,t){return this.point(n.toArray(e,t),1)},i.prototype.point=function(e,t){return new s(this,e,t)},i.prototype.pointFromJSON=function(e){return s.fromJSON(this,e)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(e,t){return new s(e,t[0],t[1]||e.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},s.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),u=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,u)},s.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var e=requireUtils$1(),t=requireBn$3(),r=requireInherits_browser(),n=requireBase$1(),i=e.assert;function s(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,n.call(this,"edwards",e),this.a=new t(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function o(e,r,i,s,o){n.BasePoint.call(this,e,"projective"),null===r&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(r,16),this.y=new t(i,16),this.z=s?new t(s,16):this.curve.one,this.t=o&&new t(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(s,n),edwards=s,s.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},s.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},s.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},s.prototype.pointFromX=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)},s.prototype.pointFromY=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)},s.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},r(o,n.BasePoint),s.prototype.pointFromJSON=function(e){return o.fromJSON(this,e)},s.prototype.point=function(e,t,r,n){return new o(this,e,t,r,n)},o.fromJSON=function(e,t){return new o(e,t[0],t[1],t[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},o.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),u=i.redMul(o),c=s.redMul(a),h=i.redMul(a),l=o.redMul(s);return this.curve.point(u,c,l,h)},o.prototype._projDbl=function(){var e,t,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=o.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),s=c.redSub(i).redISub(i),e=o.redSub(a).redISub(u).redMul(s),t=c.redMul(n.redSub(u)),r=c.redMul(s))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(s);return this.curve.point(e,t,r)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),c=s.redMul(o),h=a.redMul(u),l=s.redMul(u),d=o.redMul(a);return this.curve.point(c,h,d,l)},o.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),u=i.redSub(a),c=i.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),l=n.redMul(u).redMul(h);return this.curve.twisted?(t=n.redMul(c).redMul(o.redSub(this.curve._mulA(s))),r=u.redMul(c)):(t=n.redMul(c).redMul(o.redSub(s)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,t,r)},o.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},o.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},o.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},o.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},o.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,edwards}function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,(e=curve).base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()),curve;var e}var curves={},hash$1={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var e=requireMinimalisticAssert(),t=requireInherits_browser();function r(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}return utils.inherits=t,utils.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),s=0;s<e.length;s+=2)n.push(parseInt(e[s]+e[s+1],16))}else for(var i=0,s=0;s<e.length;s++){var o=e.charCodeAt(s);o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=63&o|128):r(e,s)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++s)),n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=63&o|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=63&o|128)}else for(s=0;s<e.length;s++)n[s]=0|e[s];return n},utils.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t},utils.htonl=n,utils.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var o=e[i];"little"===t&&(o=n(o)),r+=s(o.toString(16))}return r},utils.zero2=i,utils.zero8=s,utils.join32=function(t,r,n,i){var s=n-r;e(s%4==0);for(var o=new Array(s/4),a=0,u=r;a<o.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=c>>>0}return o},utils.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},utils.rotr32=function(e,t){return e>>>t|e<<32-t},utils.rotl32=function(e,t){return e<<t|e>>>32-t},utils.sum32=function(e,t){return e+t>>>0},utils.sum32_3=function(e,t,r){return e+t+r>>>0},utils.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},utils.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},utils.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},utils.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},utils.sum64_lo=function(e,t,r,n){return t+n>>>0},utils.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},utils.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},utils.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var h=0,l=t;return h+=(l=l+n>>>0)<t?1:0,h+=(l=l+s>>>0)<s?1:0,h+=(l=l+a>>>0)<a?1:0,e+r+i+o+u+(h+=(l=l+c>>>0)<c?1:0)>>>0},utils.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},utils.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},utils.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},utils.shr64_hi=function(e,t,r){return e>>>r},utils.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var e=requireUtils(),t=requireMinimalisticAssert();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=r,r.prototype.update=function(t,r){if(t=e.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=e.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),t(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n},common$1}var sha={},common={},hasRequiredCommon,_1,hasRequired_1,_256,hasRequired_256,_224,hasRequired_224,_512,hasRequired_512,_384,hasRequired_384,hasRequiredSha;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var e=requireUtils().rotr32;function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function n(e,t,r){return e^t^r}return common.ft_1=function(e,i,s,o){return 0===e?t(i,s,o):1===e||3===e?n(i,s,o):2===e?r(i,s,o):void 0},common.ch32=t,common.maj32=r,common.p32=n,common.s0_256=function(t){return e(t,2)^e(t,13)^e(t,22)},common.s1_256=function(t){return e(t,6)^e(t,11)^e(t,25)},common.g0_256=function(t){return e(t,7)^e(t,18)^t>>>3},common.g1_256=function(t){return e(t,17)^e(t,19)^t>>>10},common}function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var e=requireUtils(),t=requireCommon$1(),r=requireCommon(),n=e.rotl32,i=e.sum32,s=e.sum32_5,o=r.ft_1,a=t.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,a),_1=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.W,a=0;a<16;a++)r[a]=e[t+a];for(;a<r.length;a++)r[a]=n(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var c=this.h[0],h=this.h[1],l=this.h[2],d=this.h[3],f=this.h[4];for(a=0;a<r.length;a++){var p=~~(a/20),m=s(n(c,5),o(p,h,l,d),f,r[a],u[p]);f=d,d=l,l=n(h,30),h=c,c=m}this.h[0]=i(this.h[0],c),this.h[1]=i(this.h[1],h),this.h[2]=i(this.h[2],l),this.h[3]=i(this.h[3],d),this.h[4]=i(this.h[4],f)},c.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_1}function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var e=requireUtils(),t=requireCommon$1(),r=requireCommon(),n=requireMinimalisticAssert(),i=e.sum32,s=e.sum32_4,o=e.sum32_5,a=r.ch32,u=r.maj32,c=r.s0_256,h=r.s1_256,l=r.g0_256,d=r.g1_256,f=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(m,f),_256=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,f=0;f<16;f++)r[f]=e[t+f];for(;f<r.length;f++)r[f]=s(d(r[f-2]),r[f-7],l(r[f-15]),r[f-16]);var p=this.h[0],m=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],A=this.h[7];for(n(this.k.length===r.length),f=0;f<r.length;f++){var M=o(A,h(b),a(b,v,w),this.k[f],r[f]),E=i(c(p),u(p,m,g));A=w,w=v,v=b,b=i(y,M),y=g,g=m,m=p,p=i(M,E)}this.h[0]=i(this.h[0],p),this.h[1]=i(this.h[1],m),this.h[2]=i(this.h[2],g),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],b),this.h[5]=i(this.h[5],v),this.h[6]=i(this.h[6],w),this.h[7]=i(this.h[7],A)},m.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_256}function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var e=requireUtils(),t=require_256();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),_224=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},_224}function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var e=requireUtils(),t=requireCommon$1(),r=requireMinimalisticAssert(),n=e.rotr64_hi,i=e.rotr64_lo,s=e.shr64_hi,o=e.shr64_lo,a=e.sum64,u=e.sum64_hi,c=e.sum64_lo,h=e.sum64_4_hi,l=e.sum64_4_lo,d=e.sum64_5_hi,f=e.sum64_5_lo,p=t.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function y(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function b(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function v(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function w(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function A(e,t){var r=n(e,t,28)^n(t,e,2)^n(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=i(e,t,28)^i(t,e,2)^i(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=n(e,t,14)^n(e,t,18)^n(t,e,9);return r<0&&(r+=4294967296),r}function _(e,t){var r=i(e,t,14)^i(e,t,18)^i(t,e,9);return r<0&&(r+=4294967296),r}function S(e,t){var r=n(e,t,1)^n(e,t,8)^s(e,t,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=i(e,t,1)^i(e,t,8)^o(e,t,7);return r<0&&(r+=4294967296),r}function R(e,t){var r=n(e,t,19)^n(t,e,29)^s(e,t,6);return r<0&&(r+=4294967296),r}function k(e,t){var r=i(e,t,19)^i(t,e,29)^o(e,t,6);return r<0&&(r+=4294967296),r}return e.inherits(g,p),_512=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=R(r[n-4],r[n-3]),s=k(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=S(r[n-30],r[n-29]),c=x(r[n-30],r[n-29]),d=r[n-32],f=r[n-31];r[n]=h(i,s,o,a,u,c,d,f),r[n+1]=l(i,s,o,a,u,c,d,f)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],h=this.h[3],l=this.h[4],p=this.h[5],m=this.h[6],g=this.h[7],S=this.h[8],x=this.h[9],R=this.h[10],k=this.h[11],P=this.h[12],B=this.h[13],T=this.h[14],C=this.h[15];r(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var q=T,I=C,N=E(S,x),$=_(S,x),L=y(S,x,R,k,P),j=b(S,x,R,k,P,B),U=this.k[O],D=this.k[O+1],F=n[O],H=n[O+1],z=d(q,I,N,$,L,j,U,D,F,H),G=f(q,I,N,$,L,j,U,D,F,H);q=A(i,s),I=M(i,s),N=v(i,s,o,h,l),$=w(i,s,o,h,l,p);var K=u(q,I,N,$),V=c(q,I,N,$);T=P,C=B,P=R,B=k,R=S,k=x,S=u(m,g,z,G),x=c(g,g,z,G),m=l,g=p,l=o,p=h,o=i,h=s,i=u(z,G,K,V),s=c(z,G,K,V)}a(this.h,0,i,s),a(this.h,2,o,h),a(this.h,4,l,p),a(this.h,6,m,g),a(this.h,8,S,x),a(this.h,10,R,k),a(this.h,12,P,B),a(this.h,14,T,C)},g.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},_512}function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var e=requireUtils(),t=require_512();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),_384=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},_384}function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd,hmac,hasRequiredHmac,hasRequiredHash,secp256k1,hasRequiredSecp256k1,hasRequiredCurves,hmacDrbg,hasRequiredHmacDrbg,key$1,hasRequiredKey$1,signature$1,hasRequiredSignature$1,ec,hasRequiredEc,key,hasRequiredKey,signature,hasRequiredSignature,eddsa,hasRequiredEddsa,hasRequiredElliptic;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var e=requireUtils(),t=requireCommon$1(),r=e.rotl32,n=e.sum32,i=e.sum32_3,s=e.sum32_4,o=t.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function c(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}e.inherits(a,o),ripemd.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(e,t){for(var o=this.h[0],a=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],b=o,v=a,w=m,A=g,M=y,E=0;E<80;E++){var _=n(r(s(o,u(E,a,m,g),e[l[E]+t],c(E)),f[E]),y);o=y,y=g,g=r(m,10),m=a,a=_,_=n(r(s(b,u(79-E,v,w,A),e[d[E]+t],h(E)),p[E]),M),b=M,M=A,A=r(w,10),w=v,v=_}_=i(this.h[1],m,A),this.h[1]=i(this.h[2],g,M),this.h[2]=i(this.h[3],y,b),this.h[3]=i(this.h[4],o,v),this.h[4]=i(this.h[0],a,w),this.h[0]=_},a.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var e=requireUtils(),t=requireMinimalisticAssert();function r(t,n,i){if(!(this instanceof r))return new r(t,n,i);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(n,i))}return hmac=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),t(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=(new this.Hash).update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},hmac}function requireHash(){return hasRequiredHash||(hasRequiredHash=1,(e=hash$1).utils=requireUtils(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160),hash$1;var e}function requireSecp256k1(){return hasRequiredSecp256k1?secp256k1:(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}})}function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(){var t,r=curves,n=requireHash(),i=requireCurve(),s=requireUtils$1().assert;function o(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new o(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=requireSecp256k1()}catch(e){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}()),curves}function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var e=requireHash(),t=requireUtils$2(),r=requireMinimalisticAssert();function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=t.toArray(e.entropy,e.entropyEnc||"hex"),s=t.toArray(e.nonce,e.nonceEnc||"hex"),o=t.toArray(e.pers,e.persEnc||"hex");r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,s,o)}return hmacDrbg=n,n.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,n,i,s){"string"!=typeof n&&(s=i,i=n,n=null),e=t.toArray(e,n),i=t.toArray(i,s),r(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},n.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof r&&(i=n,n=r,r=null),n&&(n=t.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,t.encode(o,r)},hmacDrbg}function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var e=requireBn$3(),t=requireUtils$1().assert;function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}return key$1=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(t,r){this.priv=new e(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?t(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||t(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},r.prototype.derive=function(e){return e.validate()||t(e.validate(),"public point not validated"),e.mul(this.priv).getX()},r.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},r.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var e=requireBn$3(),t=requireUtils$1(),r=t.assert;function n(t,i){if(t instanceof n)return t;this._importDER(t,i)||(r(t.r&&t.s,"Signature without r or s"),this.r=new e(t.r,16),this.s=new e(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function i(){this.place=0}function s(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function o(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function a(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}return signature$1=n,n.prototype._importDER=function(r,n){r=t.toArray(r,n);var o=new i;if(48!==r[o.place++])return!1;var a=s(r,o);if(!1===a)return!1;if(a+o.place!==r.length)return!1;if(2!==r[o.place++])return!1;var u=s(r,o);if(!1===u)return!1;if(128&r[o.place])return!1;var c=r.slice(o.place,u+o.place);if(o.place+=u,2!==r[o.place++])return!1;var h=s(r,o);if(!1===h)return!1;if(r.length!==h+o.place)return!1;if(128&r[o.place])return!1;var l=r.slice(o.place,h+o.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new e(c),this.s=new e(l),this.recoveryParam=null,!0},n.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&n[0]&&(n=[0].concat(n)),r=o(r),n=o(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];a(i,r.length),(i=i.concat(r)).push(2),a(i,n.length);var s=i.concat(n),u=[48];return a(u,s.length),u=u.concat(s),t.encode(u,e)},signature$1}function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=requireBn$3(),t=requireHmacDrbg(),r=requireUtils$1(),n=requireCurves(),i=requireBrorand(),s=r.assert,o=requireKey$1(),a=requireSignature$1();function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(s(Object.prototype.hasOwnProperty.call(n,e),"Unknown curve "+e),e=n[e]),e instanceof n.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}return ec=u,u.prototype.keyPair=function(e){return new o(this,e)},u.prototype.keyFromPrivate=function(e,t){return o.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return o.fromPublic(this,e,t)},u.prototype.genKeyPair=function(r){r||(r={});for(var n=new t({hash:this.hash,pers:r.pers,persEnc:r.persEnc||"utf8",entropy:r.entropy||i(this.hash.hmacStrength),entropyEnc:r.entropy&&r.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),o=this.n.sub(new e(2));;){var a=new e(n.generate(s));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},u.prototype._truncateToN=function(t,r,n){var i;if(e.isBN(t)||"number"==typeof t)i=(t=new e(t,16)).byteLength();else if("object"==typeof t)i=t.length,t=new e(t,16);else{var s=t.toString();i=s.length+1>>>1,t=new e(s,16)}"number"!=typeof n&&(n=8*i);var o=n-this.n.bitLength();return o>0&&(t=t.ushrn(o)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t},u.prototype.sign=function(r,n,i,o){if("object"==typeof i&&(o=i,i=null),o||(o={}),"string"!=typeof r&&"number"!=typeof r&&!e.isBN(r)){s("object"==typeof r&&r&&"number"==typeof r.length,"Expected message to be an array-like, a hex string, or a BN instance"),s(r.length>>>0===r.length);for(var u=0;u<r.length;u++)s((255&r[u])===r[u])}n=this.keyFromPrivate(n,i),r=this._truncateToN(r,!1,o.msgBitLength),s(!r.isNeg(),"Can not sign a negative message");var c=this.n.byteLength(),h=n.getPrivate().toArray("be",c),l=r.toArray("be",c);s(new e(l).eq(r),"Can not sign message");for(var d=new t({hash:this.hash,entropy:h,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new e(1)),p=0;;p++){var m=o.k?o.k(p):new e(d.generate(this.n.byteLength()));if(!((m=this._truncateToN(m,!0)).cmpn(1)<=0||m.cmp(f)>=0)){var g=this.g.mul(m);if(!g.isInfinity()){var y=g.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var v=m.invm(this.n).mul(b.mul(n.getPrivate()).iadd(r));if(0!==(v=v.umod(this.n)).cmpn(0)){var w=(g.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),w^=1),new a({r:b,s:v,recoveryParam:w})}}}}}},u.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(t=new a(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u,c=o.invm(this.n),h=c.mul(e).umod(this.n),l=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(u=this.g.jmulAdd(h,r.getPublic(),l)).isInfinity()&&u.eqXToP(s):!(u=this.g.mulAdd(h,r.getPublic(),l)).isInfinity()&&0===u.getX().umod(this.n).cmp(s)},u.prototype.recoverPubKey=function(t,r,n,i){s((3&n)===n,"The recovery param is more than two bits"),r=new a(r,i);var o=this.n,u=new e(t),c=r.r,h=r.s,l=1&n,d=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");c=d?this.curve.pointFromX(c.add(this.curve.n),l):this.curve.pointFromX(c,l);var f=r.r.invm(o),p=o.sub(u).mul(f).umod(o),m=h.mul(f).umod(o);return this.g.mulAdd(p,c,m)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new a(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(o){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")},ec}function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var e=requireUtils$1(),t=e.assert,r=e.parseBytes,n=e.cachedProperty;function i(e,t){this.eddsa=e,this._secret=r(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=r(t.pub)}return i.fromPublic=function(e,t){return t instanceof i?t:new i(e,{pub:t})},i.fromSecret=function(e,t){return t instanceof i?t:new i(e,{secret:t})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(i,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(i,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),n(i,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(i,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(i,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),i.prototype.sign=function(e){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},i.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},i.prototype.getSecret=function(r){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),r)},i.prototype.getPublic=function(t){return e.encode(this.pubBytes(),t)},key=i}function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var e=requireBn$3(),t=requireUtils$1(),r=t.assert,n=t.cachedProperty,i=t.parseBytes;function s(t,n){this.eddsa=t,"object"!=typeof n&&(n=i(n)),Array.isArray(n)&&(r(n.length===2*t.encodingLength,"Signature has invalid size"),n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),r(n.R&&n.S,"Signature without R or S"),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof e&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}return n(s,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(s,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(s,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(s,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},signature=s}function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var e=requireHash(),t=requireCurves(),r=requireUtils$1(),n=r.assert,i=r.parseBytes,s=requireKey(),o=requireSignature();function a(r){if(n("ed25519"===r,"only tested with ed25519 so far"),!(this instanceof a))return new a(r);r=t[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=e.sha512}return eddsa=a,a.prototype.sign=function(e,t){e=i(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),s=this.g.mul(n),o=this.encodePoint(s),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})},a.prototype.verify=function(e,t,r){if(e=i(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),s=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(s)).eq(o)},a.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return r.intFromLE(e.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(e){return s.fromPublic(this,e)},a.prototype.keyFromSecret=function(e){return s.fromSecret(this,e)},a.prototype.makeSignature=function(e){return e instanceof o?e:new o(this,e)},a.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},a.prototype.decodePoint=function(e){var t=(e=r.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=!!(128&e[t]),s=r.intFromLE(n);return this.curve.pointFromY(s,i)},a.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(e){return r.intFromLE(e)},a.prototype.isPoint=function(e){return e instanceof this.pointClass},eddsa}function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,(e=elliptic).version=require$$0.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()),elliptic;var e}var asn1$1={},asn1={},bn$3={exports:{}},hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$3,commonjsGlobal)),bn$3.exports}bn$3.exports;var api={},vmBrowserify={},hasRequiredVmBrowserify,hasRequiredApi;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var s=Object_keys(r),o=n.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(s,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}}(vmBrowserify)),vmBrowserify}function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(t){var r=requireAsn1$1(),n=requireInherits_browser();function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(t){var r;try{r=requireVmBrowserify().runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){r=function(e){this._initNamed(e)}}return n(r,t),r.prototype._initNamed=function(e){t.call(this,e)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var t=requireInherits_browser();function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function n(e,t){this.path=e,this.rethrow(t)}return reporter.Reporter=r,r.prototype.isError=function(e){return e instanceof n},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},r.prototype.error=function(e){var t,r=this._reporterState,i=e instanceof n;if(t=i?e:new n(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return i||r.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},t(n,Error),n.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this},reporter}var buffer={},hasRequiredBuffer,node,hasRequiredNode,hasRequiredBase;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var e=requireInherits_browser(),t=requireBase().Reporter,r=requireDist$1().Buffer;function n(e,n){t.call(this,n),r.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=r.byteLength(e);else{if(!r.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}return e(n,t),buffer.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},n.prototype.restore=function(e){var r=new n(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,t.prototype.restore.call(this,e.reporter),r},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new n(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},buffer.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new r(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):r.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e},buffer}function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var t=requireBase().Reporter,r=requireBase().EncoderBuffer,n=requireBase().DecoderBuffer,i=requireMinimalisticAssert(),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function a(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}node=a;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return a.prototype.clone=function(){var e=this._baseState,t={};u.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},a.prototype._wrap=function(){var e=this._baseState;o.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},a.prototype._init=function(e){var t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),i.equal(t.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(i(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){a.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){a.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return i(null===t.tag),t.tag=e,this._useArgs(r),this}})),a.prototype.use=function(e){i(e);var t=this._baseState;return i(null===t.use),t.use=e,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(e){var t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},a.prototype.explicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},a.prototype.implicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},a.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},a.prototype.key=function(e){var t=this._baseState;return i(null===t.key),t.key=e,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(e){var t=this._baseState;return i(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},a.prototype.contains=function(e){var t=this._baseState;return i(null===t.use),t.contains=e,this},a.prototype._decode=function(t,r){var i=this._baseState;if(null===i.parent)return t.wrapResult(i.children[0]._decode(t,r));var s,o=i.default,a=!0,u=null;if(null!==i.key&&(u=t.enterKey(i.key)),i.optional){var c=null;if(null!==i.explicit?c=i.explicit:null!==i.implicit?c=i.implicit:null!==i.tag&&(c=i.tag),null!==c||i.any){if(a=this._peekTag(t,c,i.any),t.isError(a))return a}else{var h=t.save();try{null===i.choice?this._decodeGeneric(i.tag,t,r):this._decodeChoice(t,r),a=!0}catch(e){a=!1}t.restore(h)}}if(i.obj&&a&&(s=t.enterObject()),a){if(null!==i.explicit){var l=this._decodeTag(t,i.explicit);if(t.isError(l))return l;t=l}var d=t.offset;if(null===i.use&&null===i.choice){if(i.any)h=t.save();var f=this._decodeTag(t,null!==i.implicit?i.implicit:i.tag,i.any);if(t.isError(f))return f;i.any?o=t.raw(h):t=f}if(r&&r.track&&null!==i.tag&&r.track(t.path(),d,t.length,"tagged"),r&&r.track&&null!==i.tag&&r.track(t.path(),t.offset,t.length,"content"),i.any||(o=null===i.choice?this._decodeGeneric(i.tag,t,r):this._decodeChoice(t,r)),t.isError(o))return o;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(e){e._decode(t,r)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var p=new n(o);o=this._getUse(i.contains,t._reporterState.obj)._decode(p,r)}}return i.obj&&a&&(o=t.leaveObject(s)),null===i.key||null===o&&!0!==a?null!==u&&t.exitKey(u):t.leaveKey(u,i.key,o),o},a.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},a.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},a.prototype._decodeChoice=function(t,r){var n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some((function(o){var a=t.save(),u=n.choice[o];try{var c=u._decode(t,r);if(t.isError(c))return!1;i={type:o,value:c},s=!0}catch(e){return t.restore(a),!1}return!0}),this),s?i:t.error("Choice not matched")},a.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},a.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},a.prototype._encodeValue=function(e,r,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,r||new t);var s=null;if(this.reporter=r,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,a=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)o=this._getUse(i.contains,n)._encode(e,r),a=!0;else if(i.children)o=i.children.map((function(t){if("null_"===t._baseState.tag)return t._encode(null,r,e);if(null===t._baseState.key)return r.error("Child should have a key");var n=r.enterKey(t._baseState.key);if("object"!=typeof e)return r.error("Child expected, but input is not object");var i=t._encode(e[t._baseState.key],r,e);return r.leaveKey(n),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(t){var n=this._baseState;return this._getUse(n.args[0],e)._encode(t,r)}),u))}else null!==i.use?s=this._getUse(i.use,n)._encode(e,r):(o=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,h=null===i.implicit?"universal":"context";null===c?null===i.use&&r.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(c,a,h,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},a.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},a.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},a.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},a.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)},node}function requireBase(){return hasRequiredBase||(hasRequiredBase=1,(e=base).Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()),base;var e}var constants={},der={},hasRequiredDer$2,hasRequiredConstants;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,e=der,t=requireConstants(),e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)),der;var e,t}function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,(e=constants)._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},e.der=requireDer$2()),constants;var e}var decoders={},der_1$1,hasRequiredDer$1,pem$1,hasRequiredPem$1,hasRequiredDecoders;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var e=requireInherits_browser(),t=requireAsn1$1(),r=t.base,n=t.bignum,i=t.constants.der;function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new o,this.tree._init(e.body)}function o(e){r.Node.call(this,"der",e)}function a(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=i.tagClass[r>>6],s=!(32&r);if(31&~r)r&=31;else{var o=r;for(r=0;!(128&~o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}return{cls:n,primitive:s,tag:r,tagStr:i.tag[r]}}function u(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}return der_1$1=s,s.prototype.decode=function(e,t){return e instanceof r.DecoderBuffer||(e=new r.DecoderBuffer(e,t)),this.tree._decode(e,t)},e(o,r.Node),o.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=a(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},o.prototype._decodeTag=function(e,t,r){var n=a(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=u(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},o.prototype._skipUntilEnd=function(e,t){for(;;){var r=a(e,t);if(e.isError(r))return r;var n,i=u(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},o.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",n);if(e.isError(o)&&s)break;i.push(o)}return i},o.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},o.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=127&o,128&o||(i.push(s),s=0)}128&o&&i.push(s);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},o.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,u,0)},o.prototype._decodeNull=function(e){return null},o.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},o.prototype._decodeInt=function(e,t){var r=e.raw(),i=new n(r);return t&&(i=t[i.toString(10)]||i),i},o.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree},der_1$1}function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var e=requireInherits_browser(),t=requireDist$1().Buffer,r=requireDer$1();function n(e){r.call(this,e),this.enc="pem"}return e(n,r),pem$1=n,n.prototype.decode=function(e,n){for(var i=e.toString().split(/[\r\n]+/g),s=n.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<i.length;c++){var h=i[c].match(o);if(null!==h&&h[2]===s){if(-1!==a){if("END"!==h[1])break;u=c;break}if("BEGIN"!==h[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+s);var l=i.slice(a+1,u).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new t(l,"base64");return r.prototype.decode.call(this,d,n)},pem$1}function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,(e=decoders).der=requireDer$1(),e.pem=requirePem$1()),decoders;var e}var encoders={},der_1,hasRequiredDer,pem,hasRequiredPem,hasRequiredEncoders,hasRequiredAsn1$1,certificate,hasRequiredCertificate,hasRequiredAsn1;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var e=requireInherits_browser(),t=requireDist$1().Buffer,r=requireAsn1$1(),n=r.base,i=r.constants.der;function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new o,this.tree._init(e.body)}function o(e){n.Node.call(this,"der",e)}function a(e){return e<10?"0"+e:e}return der_1=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},e(o,n.Node),o.prototype._encodeComposite=function(e,r,n,s){var o,a=function(e,t,r,n){var s;"seqof"===e?e="seq":"setof"===e&&(e="set");if(i.tagByName.hasOwnProperty(e))s=i.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);s=e}if(s>=31)return n.error("Multi-octet tag encoding unsupported");t||(s|=32);return s|=i.tagClassByName[r||"universal"]<<6,s}(e,r,n,this.reporter);if(s.length<128)return(o=new t(2))[0]=a,o[1]=s.length,this._createEncoderBuffer([o,s]);for(var u=1,c=s.length;c>=256;c>>=8)u++;(o=new t(2+u))[0]=a,o[1]=128|u;c=1+u;for(var h=s.length;h>0;c--,h>>=8)o[c]=255&h;return this._createEncoderBuffer([o,s])},o.prototype._encodeStr=function(e,r){if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===r){for(var n=new t(2*e.length),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)||"objDesc"===r?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},o.prototype._encodeObjid=function(e,r,n){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var s=0;for(i=0;i<e.length;i++){var o=e[i];for(s++;o>=128;o>>=7)s++}var a=new t(s),u=a.length-1;for(i=e.length-1;i>=0;i--){o=e[i];for(a[u--]=127&o;(o>>=7)>0;)a[u--]=128|127&o}return this._createEncoderBuffer(a)},o.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[a(n.getFullYear()),a(n.getUTCMonth()+1),a(n.getUTCDate()),a(n.getUTCHours()),a(n.getUTCMinutes()),a(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[a(n.getFullYear()%100),a(n.getUTCMonth()+1),a(n.getUTCDate()),a(n.getUTCHours()),a(n.getUTCMinutes()),a(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!t.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new t(n)}if(t.isBuffer(e)){var i=e.length;0===e.length&&i++;var s=new t(i);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);i=1;for(var o=e;o>=256;o>>=8)i++;for(o=(s=new Array(i)).length-1;o>=0;o--)s[o]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new t(s))},o.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},o.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},o.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0},der_1}function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var e=requireInherits_browser(),t=requireDer();function r(e){t.call(this,e),this.enc="pem"}return e(r,t),pem=r,r.prototype.encode=function(e,r){for(var n=t.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+r.label+"-----"],s=0;s<n.length;s+=64)i.push(n.slice(s,s+64));return i.push("-----END "+r.label+"-----"),i.join("\n")},pem}function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,(e=encoders).der=requireDer(),e.pem=requirePem()),encoders;var e}function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,(e=asn1).bignum=requireBn$2(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()),asn1;var e}function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var e=requireAsn1$1(),t=e.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),r=e.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),n=e.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),i=e.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())})),s=e.define("RelativeDistinguishedName",(function(){this.setof(r)})),o=e.define("RDNSequence",(function(){this.seqof(s)})),a=e.define("Name",(function(){this.choice({rdnSequence:this.use(o)})})),u=e.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))})),c=e.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=e.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(a),this.key("validity").use(u),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(c).optional())})),l=e.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())}));return certificate=l}function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var e=requireAsn1$1();asn1$1.certificate=requireCertificate();var t=e.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));asn1$1.RSAPrivateKey=t;var r=e.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));asn1$1.RSAPublicKey=r;var n=e.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),i=e.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}));asn1$1.PublicKey=i;var s=e.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())}));asn1$1.PrivateKey=s;var o=e.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));asn1$1.EncryptedPrivateKey=o;var a=e.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));asn1$1.DSAPrivateKey=a,asn1$1.DSAparam=e.define("DSAparam",(function(){this.int()}));var u=e.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),c=e.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())}));return asn1$1.ECPrivateKey=c,asn1$1.signature=e.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc,parseAsn1,hasRequiredParseAsn1;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=requireEvp_bytestokey(),i=requireBrowser$6(),s=requireSafeBuffer$1().Buffer;return fixProc=function(o,a){var u,c=o.toString(),h=c.match(e);if(h){var l="aes"+h[1],d=s.from(h[2],"hex"),f=s.from(h[3].replace(/[\r\n]/g,""),"base64"),p=n(a,d.slice(0,8),parseInt(h[1],10)).key,m=[],g=i.createDecipheriv(l,p,d);m.push(g.update(f)),m.push(g.final()),u=s.concat(m)}else{var y=c.match(r);u=s.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(t)[1],data:u}}}function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var e=requireAsn1(),t=require$$1,r=requireFixProc(),n=requireBrowser$6(),i=requireBrowser$7(),s=requireSafeBuffer$1().Buffer;function o(o){var a;"object"!=typeof o||s.isBuffer(o)||(a=o.passphrase,o=o.key),"string"==typeof o&&(o=s.from(o));var u,c,h=r(o,a),l=h.tag,d=h.data;switch(l){case"CERTIFICATE":c=e.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=e.PublicKey.decode(d,"der")),u=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=e.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"ENCRYPTED PRIVATE KEY":d=function(e,r){var o=e.algorithm.decrypt.kde.kdeparams.salt,a=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=t[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,h=e.subjectPrivateKey,l=parseInt(u.split("-")[1],10)/8,d=i.pbkdf2Sync(r,o,a,l,"sha1"),f=n.createDecipheriv(u,d,c),p=[];return p.push(f.update(h)),p.push(f.final()),s.concat(p)}(d=e.EncryptedPrivateKey.decode(d,"der"),a);case"PRIVATE KEY":switch(u=(c=e.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:e.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=e.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=e.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+l)}}return o.signature=e.signature,parseAsn1=o}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign,verify_1,hasRequiredVerify,browser$3,hasRequiredBrowser$3;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var e=requireSafeBuffer$1().Buffer,t=requireBrowser$8(),r=requireBrowserifyRsa(),n=requireElliptic().ec,i=requireBn$4(),s=requireParseAsn1(),o=require$$4;function a(r,n,i,s){if((r=e.from(r.toArray())).length<n.byteLength()){var o=e.alloc(n.byteLength()-r.length);r=e.concat([o,r])}var a=i.length,c=function(t,r){t=u(t,r),t=t.mod(r);var n=e.from(t.toArray());if(n.length<r.byteLength()){var i=e.alloc(r.byteLength()-n.length);n=e.concat([i,n])}return n}(i,n),h=e.alloc(a);h.fill(1);var l=e.alloc(a);return l=t(s,l).update(h).update(e.from([0])).update(r).update(c).digest(),h=t(s,l).update(h).digest(),{k:l=t(s,l).update(h).update(e.from([1])).update(r).update(c).digest(),v:h=t(s,l).update(h).digest()}}function u(e,t){var r=new i(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function c(r,n,i){var s,o;do{for(s=e.alloc(0);8*s.length<r.bitLength();)n.v=t(i,n.k).update(n.v).digest(),s=e.concat([s,n.v]);o=u(s,r),n.k=t(i,n.k).update(n.v).update(e.from([0])).digest(),n.v=t(i,n.k).update(n.v).digest()}while(-1!==o.cmp(r));return o}function h(e,t,r,n){return e.toRed(i.mont(r)).redPow(t).fromRed().mod(n)}return sign.exports=function(t,l,d,f,p){var m=s(l);if(m.curve){if("ecdsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");return function(t,r){var i=o[r.curve.join(".")];if(!i)throw new Error("unknown curve "+r.curve.join("."));var s=new n(i).keyFromPrivate(r.privateKey),a=s.sign(t);return e.from(a.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==f)throw new Error("wrong private key type");return function(t,r,n){var s,o=r.params.priv_key,l=r.params.p,d=r.params.q,f=r.params.g,p=new i(0),m=u(t,d).mod(d),g=!1,y=a(o,d,t,n);for(;!1===g;)p=h(f,s=c(d,y,n),l,d),0===(g=s.invm(d).imul(m.add(o.mul(p))).mod(d)).cmpn(0)&&(g=!1,p=new i(0));return function(t,r){t=t.toArray(),r=r.toArray(),128&t[0]&&(t=[0].concat(t));128&r[0]&&(r=[0].concat(r));var n=t.length+r.length+4,i=[48,n,2,t.length];return i=i.concat(t,[2,r.length],r),e.from(i)}(p,g)}(t,m,d)}if("rsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");if(void 0!==l.padding&&1!==l.padding)throw new Error("illegal or unsupported padding mode");t=e.concat([p,t]);for(var g=m.modulus.byteLength(),y=[0,1];t.length+y.length+1<g;)y.push(255);y.push(0);for(var b=-1;++b<t.length;)y.push(t[b]);return r(y,m)},sign.exports.getKey=a,sign.exports.makeKey=c,sign.exports}function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var e=requireSafeBuffer$1().Buffer,t=requireBn$4(),r=requireElliptic().ec,n=requireParseAsn1(),i=require$$4;function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}return verify_1=function(o,a,u,c,h){var l=n(u);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var s=i[n.data.algorithm.curve.join(".")];if(!s)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new r(s),a=n.data.subjectPrivateKey.data;return o.verify(t,e,a)}(o,a,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,r,i){var o=i.data.p,a=i.data.q,u=i.data.g,c=i.data.pub_key,h=n.signature.decode(e,"der"),l=h.s,d=h.r;s(l,a),s(d,a);var f=t.mont(o),p=l.invm(a),m=u.toRed(f).redPow(new t(r).mul(p).mod(a)).fromRed().mul(c.toRed(f).redPow(d.mul(p).mod(a)).fromRed()).mod(o).mod(a);return 0===m.cmp(d)}(o,a,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");a=e.concat([h,a]);for(var d=l.modulus.byteLength(),f=[1],p=0;a.length+f.length+2<d;)f.push(255),p+=1;f.push(0);for(var m=-1;++m<a.length;)f.push(a[m]);f=e.from(f);var g=t.mont(l.modulus);o=(o=new t(o).toRed(g)).redPow(new t(l.publicExponent)),o=e.from(o.fromRed().toArray());var y=p<8?1:0;for(d=Math.min(o.length,f.length),o.length!==f.length&&(y=1),m=-1;++m<d;)y|=o[m]^f[m];return 0===y}}function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var e=requireSafeBuffer$1().Buffer,t=requireBrowser$9(),r=requireReadableBrowser(),n=requireInherits_browser(),i=requireSign(),s=requireVerify(),o=require$$6;function a(e){r.Writable.call(this);var n=o[e];if(!n)throw new Error("Unknown message digest");this._hashType=n.hash,this._hash=t(n.hash),this._tag=n.id,this._signType=n.sign}function u(e){r.Writable.call(this);var n=o[e];if(!n)throw new Error("Unknown message digest");this._hash=t(n.hash),this._tag=n.id,this._signType=n.sign}function c(e){return new a(e)}function h(e){return new u(e)}return Object.keys(o).forEach((function(t){o[t].id=e.from(o[t].id,"hex"),o[t.toLowerCase()]=o[t]})),n(a,r.Writable),a.prototype._write=function(e,t,r){this._hash.update(e),r()},a.prototype.update=function(t,r){return this._hash.update("string"==typeof t?e.from(t,r):t),this},a.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=i(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},n(u,r.Writable),u.prototype._write=function(e,t,r){this._hash.update(e),r()},u.prototype.update=function(t,r){return this._hash.update("string"==typeof t?e.from(t,r):t),this},u.prototype.verify=function(t,r,n){var i="string"==typeof r?e.from(r,n):r;this.end();var o=this._hash.digest();return s(i,o,t,this._signType,this._tag)},browser$3={Sign:c,Verify:h,createSign:c,createVerify:h}}var bn$2={exports:{}},hasRequiredBn$1,browser$2,hasRequiredBrowser$2;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$2,commonjsGlobal)),bn$2.exports}function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var e=requireElliptic(),t=requireBn$1();browser$2=function(e){return new n(e)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(t){this.curveType=r[t],this.curveType||(this.curveType={name:t}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}function i(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new Buffer(e);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return t?n.toString(t):n}return r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(e,t,r){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),i(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),i(r,e)},n.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},n.prototype.setPrivateKey=function(e,r){r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r));var n=new t(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this},browser$2}bn$2.exports;var browser$1={},mgf,hasRequiredMgf,xor,hasRequiredXor;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var e=requireBrowser$9(),t=requireSafeBuffer$1().Buffer;function r(e){var r=t.allocUnsafe(4);return r.writeUInt32BE(e,0),r}return mgf=function(n,i){for(var s,o=t.alloc(0),a=0;o.length<i;)s=r(a++),o=t.concat([o,e("sha1").update(n).update(s).digest()]);return o.slice(0,i)}}function requireXor(){return hasRequiredXor?xor:(hasRequiredXor=1,xor=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e})}var bn$1={exports:{}},hasRequiredBn,withPublic_1,hasRequiredWithPublic,publicEncrypt,hasRequiredPublicEncrypt,privateDecrypt,hasRequiredPrivateDecrypt,hasRequiredBrowser$1;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:requireDist$1().Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,h=r;h<a;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,h,e.length,t),h=0;h<o;h++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[f])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|h}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:h[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),h=this.clone();if(u){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,h=0|o[0],l=8191&h,d=h>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,M=0|o[4],E=8191&M,_=M>>>13,S=0|o[5],x=8191&S,R=S>>>13,k=0|o[6],P=8191&k,B=k>>>13,T=0|o[7],C=8191&T,O=T>>>13,q=0|o[8],I=8191&q,N=q>>>13,$=0|o[9],L=8191&$,j=$>>>13,U=0|a[0],D=8191&U,F=U>>>13,H=0|a[1],z=8191&H,G=H>>>13,K=0|a[2],V=8191&K,W=K>>>13,J=0|a[3],Z=8191&J,Q=J>>>13,Y=0|a[4],X=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,he=0|a[8],le=8191&he,de=he>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,D))|0)+((8191&(i=(i=Math.imul(l,F))+Math.imul(d,D)|0))<<13)|0;c=((s=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(m,D)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(l,z)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,D),i=(i=Math.imul(y,F))+Math.imul(b,D)|0,s=Math.imul(b,F),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,D),i=(i=Math.imul(w,F))+Math.imul(A,D)|0,s=Math.imul(A,F),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,W)|0;var ve=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,D),i=(i=Math.imul(E,F))+Math.imul(_,D)|0,s=Math.imul(_,F),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var we=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(R,D)|0,s=Math.imul(R,F),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(P,D),i=(i=Math.imul(P,F))+Math.imul(B,D)|0,s=Math.imul(B,F),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(R,z)|0,s=s+Math.imul(R,G)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Q)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var Me=(c+(n=n+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(C,D),i=(i=Math.imul(C,F))+Math.imul(O,D)|0,s=Math.imul(O,F),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,W)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(I,D),i=(i=Math.imul(I,F))+Math.imul(N,D)|0,s=Math.imul(N,F),n=n+Math.imul(C,z)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(R,Z)|0,s=s+Math.imul(R,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var _e=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,F))+Math.imul(j,D)|0,s=Math.imul(j,F),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Q)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,de)|0;var Se=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,G))+Math.imul(j,z)|0,s=Math.imul(j,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,ce)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,W))+Math.imul(j,V)|0,s=Math.imul(j,W),n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,de)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,Q))+Math.imul(j,Z)|0,s=Math.imul(j,Q),n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,de)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(j,X)|0,s=Math.imul(j,ee),n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,de)|0;var Pe=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,s=Math.imul(j,ne),n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,de)|0;var Be=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(j,se)|0,s=Math.imul(j,oe),n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,de)|0;var Te=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,s=Math.imul(j,ce),n=n+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(N,le)|0,s=s+Math.imul(N,de)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,de))+Math.imul(j,le)|0,s=Math.imul(j,de);var Oe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var qe=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((s=Math.imul(j,me))+(i>>>13)|0)+(qe>>>26)|0,qe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=we,u[5]=Ae,u[6]=Me,u[7]=Ee,u[8]=_e,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=ke,u[13]=Pe,u[14]=Be,u[15]=Te,u[16]=Ce,u[17]=Oe,u[18]=qe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var h=s-c,l=(0|e.words[h])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(o=(o=o+(l/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=u,d=c,f=0;f<o;f++){var p=r[h+f],m=n[h+f],g=r[h+f+o],y=n[h+f+o],b=l*g-d*y;y=l*y+d*g,g=b,r[h+f]=p+g,n[h+f]=m+y,r[h+f+o]=p-g,n[h+f+o]=m-y,f!==a&&(b=u*l-c*d,d=u*d+c*l,l=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,h,l,n,i);for(var f=0;f<n;f++){var p=a[f]*h[f]-u[f]*l[f];u[f]=a[f]*l[f]+u[f]*h[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var l=0|this.words[c];this.words[c]=h<<26-s|l>>>s,h=l&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),l=t.clone();!t.isZero();){for(var d=0,f=1;!(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;!(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(M,b),M.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var l=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(l,new s(1).iushln(p-g-1));d=d.redMul(y),l=y.redSqr(),f=f.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=u-1;h>=0;h--){var l=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4==++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bn$1,commonjsGlobal)),bn$1.exports}function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var e=requireBn(),t=requireSafeBuffer$1().Buffer;return withPublic_1=function(r,n){return t.from(r.toRed(e.mont(n.modulus)).redPow(new e(n.publicExponent)).fromRed().toArray())}}function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var e=requireParseAsn1(),t=requireBrowser$b(),r=requireBrowser$9(),n=requireMgf(),i=requireXor(),s=requireBn(),o=requireWithPublic(),a=requireBrowserifyRsa(),u=requireSafeBuffer$1().Buffer;return publicEncrypt=function(c,h,l){var d;d=c.padding?c.padding:l?1:4;var f,p=e(c);if(4===d)f=function(e,o){var a=e.modulus.byteLength(),c=o.length,h=r("sha1").update(u.alloc(0)).digest(),l=h.length,d=2*l;if(c>a-d-2)throw new Error("message too long");var f=u.alloc(a-c-d-2),p=a-l-1,m=t(l),g=i(u.concat([h,f,u.alloc(1,1),o],p),n(m,p)),y=i(m,n(g,l));return new s(u.concat([u.alloc(1),y,g],a))}(p,h);else if(1===d)f=function(e,r,n){var i,o=r.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");i=n?u.alloc(a-o-3,255):function(e){var r,n=u.allocUnsafe(e),i=0,s=t(2*e),o=0;for(;i<e;)o===s.length&&(s=t(2*e),o=0),(r=s[o++])&&(n[i++]=r);return n}(a-o-3);return new s(u.concat([u.from([0,n?1:2]),i,u.alloc(1),r],a))}(p,h,l);else{if(3!==d)throw new Error("unknown padding");if((f=new s(h)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return l?a(f,p):o(f,p)}}function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var e=requireParseAsn1(),t=requireMgf(),r=requireXor(),n=requireBn(),i=requireBrowserifyRsa(),s=requireBrowser$9(),o=requireWithPublic(),a=requireSafeBuffer$1().Buffer;return privateDecrypt=function(u,c,h){var l;l=u.padding?u.padding:h?1:4;var d,f=e(u),p=f.modulus.byteLength();if(c.length>p||new n(c).cmp(f.modulus)>=0)throw new Error("decryption error");d=h?o(new n(c),f):i(c,f);var m=a.alloc(p-d.length);if(d=a.concat([m,d],p),4===l)return function(e,n){var i=e.modulus.byteLength(),o=s("sha1").update(a.alloc(0)).digest(),u=o.length;if(0!==n[0])throw new Error("decryption error");var c=n.slice(1,u+1),h=n.slice(u+1),l=r(c,t(h,u)),d=r(h,t(l,i-u-1));if(function(e,t){e=a.from(e),t=a.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(o,d.slice(0,u)))throw new Error("decryption error");var f=u;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===l)return function(e,t,r){var n=t.slice(0,2),i=2,s=0;for(;0!==t[i++];)if(i>=t.length){s++;break}var o=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return t.slice(i)}(0,d,h);if(3===l)return d;throw new Error("unknown padding")}}function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,(e=browser$1).publicEncrypt=requirePublicEncrypt(),e.privateDecrypt=requirePrivateDecrypt(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}),browser$1;var e}bn$1.exports;var browser={},hasRequiredBrowser,hasRequiredCryptoBrowserify;function requireBrowser(){if(hasRequiredBrowser)return browser;function e(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}hasRequiredBrowser=1;var t=requireSafeBuffer$1(),r=requireBrowser$b(),n=t.Buffer,i=t.kMaxLength,s=commonjsGlobal.crypto||commonjsGlobal.msCrypto,o=Math.pow(2,32)-1;function a(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>o||e<0)throw new TypeError("offset must be a uint32");if(e>i||e>t)throw new RangeError("offset out of range")}function u(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>o||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>i)throw new RangeError("buffer too small")}function c(e,t,n,i){if(process$1.browser){var o=e.buffer,a=new Uint8Array(o,t,n);return s.getRandomValues(a),i?void process$1.nextTick((function(){i(null,e)})):e}if(!i)return r(n).copy(e,t),e;r(n,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}return s&&s.getRandomValues||!process$1.browser?(browser.randomFill=function(e,t,r,i){if(!(n.isBuffer(e)||e instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return a(t,e.length),u(r,t,e.length),c(e,t,r,i)},browser.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(n.isBuffer(e)||e instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');a(t,e.length),void 0===r&&(r=e.length-t);return u(r,t,e.length),c(e,t,r)}):(browser.randomFill=e,browser.randomFillSync=e),browser}function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var e=requireAlgos(),t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return r};var n=requireBrowser$7();cryptoBrowserify.pbkdf2=n.pbkdf2,cryptoBrowserify.pbkdf2Sync=n.pbkdf2Sync;var i=requireBrowser$5();cryptoBrowserify.Cipher=i.Cipher,cryptoBrowserify.createCipher=i.createCipher,cryptoBrowserify.Cipheriv=i.Cipheriv,cryptoBrowserify.createCipheriv=i.createCipheriv,cryptoBrowserify.Decipher=i.Decipher,cryptoBrowserify.createDecipher=i.createDecipher,cryptoBrowserify.Decipheriv=i.Decipheriv,cryptoBrowserify.createDecipheriv=i.createDecipheriv,cryptoBrowserify.getCiphers=i.getCiphers,cryptoBrowserify.listCiphers=i.listCiphers;var s=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=s.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=s.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=s.getDiffieHellman,cryptoBrowserify.createDiffieHellman=s.createDiffieHellman,cryptoBrowserify.DiffieHellman=s.DiffieHellman;var o=requireBrowser$3();cryptoBrowserify.createSign=o.createSign,cryptoBrowserify.Sign=o.Sign,cryptoBrowserify.createVerify=o.createVerify,cryptoBrowserify.Verify=o.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var a=requireBrowser$1();cryptoBrowserify.publicEncrypt=a.publicEncrypt,cryptoBrowserify.privateEncrypt=a.privateEncrypt,cryptoBrowserify.publicDecrypt=a.publicDecrypt,cryptoBrowserify.privateDecrypt=a.privateDecrypt;var u=requireBrowser();return cryptoBrowserify.randomFill=u.randomFill,cryptoBrowserify.randomFillSync=u.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/browserify/crypto-browserify")},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0}),node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,void 0!==commonjsRequire){const e=requireCryptoBrowserify();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let n=0;n<r.length;n++)r[n]=t[n];return(0,wipe_1.wipe)(t),r}}node$1.NodeRandomSource=NodeRandomSource,Object.defineProperty(system,"__esModule",{value:!0}),system.SystemRandomSource=void 0;const browser_1=browser$c,node_1=node$1;class SystemRandomSource{constructor(){return this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new node_1.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}system.SystemRandomSource=SystemRandomSource;var binary={},int={},exports2;exports2=int,Object.defineProperty(exports2,"__esModule",{value:!0}),exports2.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},exports2.add=function(e,t){return e+t|0},exports2.sub=function(e,t){return e-t|0},exports2.rotl=function(e,t){return e<<t|e>>>32-t},exports2.rotr=function(e,t){return e<<32-t|e>>>t},exports2.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},exports2.MAX_SAFE_INTEGER=9007199254740991,exports2.isSafeInteger=function(e){return exports2.isInteger(e)&&e>=-exports2.MAX_SAFE_INTEGER&&e<=exports2.MAX_SAFE_INTEGER},Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}function readUint16BE(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0}function readInt16LE(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16}function readUint16LE(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0}function writeUint16BE(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function writeUint16LE(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function readInt32BE(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function readUint32BE(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function readInt32LE(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function readUint32LE(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function writeUint32BE(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function writeUint32LE(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function readInt64BE(e,t){void 0===t&&(t=0);var r=readInt32BE(e,t),n=readInt32BE(e,t+4);return 4294967296*r+n-4294967296*(n>>31)}function readUint64BE(e,t){return void 0===t&&(t=0),4294967296*readUint32BE(e,t)+readUint32BE(e,t+4)}function readInt64LE(e,t){void 0===t&&(t=0);var r=readInt32LE(e,t);return 4294967296*readInt32LE(e,t+4)+r-4294967296*(r>>31)}function readUint64LE(e,t){void 0===t&&(t=0);var r=readUint32LE(e,t);return 4294967296*readUint32LE(e,t+4)+r}function writeUint64BE(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),writeUint32BE(e/4294967296>>>0,t,r),writeUint32BE(e>>>0,t,r+4),t}function writeUint64LE(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),writeUint32LE(e>>>0,t,r),writeUint32LE(e/4294967296>>>0,t,r+4),t}function readUintBE(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n}function readUintLE(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n}function writeUintBE(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;s>=n;s--)r[s]=t/i&255,i*=256;return r}function writeUintLE(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r}function readFloat32BE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)}function readFloat32LE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)}function readFloat64BE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)}function readFloat64LE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)}function writeFloat32BE(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t}function writeFloat32LE(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t}function writeFloat64BE(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t}function writeFloat64LE(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}binary.readInt16BE=readInt16BE,binary.readUint16BE=readUint16BE,binary.readInt16LE=readInt16LE,binary.readUint16LE=readUint16LE,binary.writeUint16BE=writeUint16BE,binary.writeInt16BE=writeUint16BE,binary.writeUint16LE=writeUint16LE,binary.writeInt16LE=writeUint16LE,binary.readInt32BE=readInt32BE,binary.readUint32BE=readUint32BE,binary.readInt32LE=readInt32LE,binary.readUint32LE=readUint32LE,binary.writeUint32BE=writeUint32BE,binary.writeInt32BE=writeUint32BE,binary.writeUint32LE=writeUint32LE,binary.writeInt32LE=writeUint32LE,binary.readInt64BE=readInt64BE,binary.readUint64BE=readUint64BE,binary.readInt64LE=readInt64LE,binary.readUint64LE=readUint64LE,binary.writeUint64BE=writeUint64BE,binary.writeInt64BE=writeUint64BE,binary.writeUint64LE=writeUint64LE,binary.writeInt64LE=writeUint64LE,binary.readUintBE=readUintBE,binary.readUintLE=readUintLE,binary.writeUintBE=writeUintBE,binary.writeUintLE=writeUintLE,binary.readFloat32BE=readFloat32BE,binary.readFloat32LE=readFloat32LE,binary.readFloat64BE=readFloat64BE,binary.readFloat64LE=readFloat64LE,binary.writeFloat32BE=writeFloat32BE,binary.writeFloat32LE=writeFloat32LE,binary.writeFloat64BE=writeFloat64BE,binary.writeFloat64LE=writeFloat64LE,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=system,r=binary,n=wipe$1;function i(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new t.SystemRandomSource,e.randomBytes=i,e.randomUint32=function(t=e.defaultRandomSource){const s=i(4,t),o=(0,r.readUint32LE)(s);return(0,n.wipe)(s),o};const s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(t,r=s,o=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let a="";const u=r.length,c=256-256%u;for(;t>0;){const e=i(Math.ceil(256*t/c),o);for(let n=0;n<e.length&&t>0;n++){const i=e[n];i<c&&(a+=r.charAt(i%u),t--)}(0,n.wipe)(e)}return a}e.randomString=o,e.randomStringForEntropy=function(t,r=s,n=e.defaultRandomSource){return o(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}}(random);var __awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(s,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((i=i.apply(t,r||[])).next())}))};Object.defineProperty(utils$4,"__esModule",{value:!0}),utils$4.checkInvalidKeys=utils$4.isValidISO8601Date=utils$4.generateNonce=utils$4.checkContractWalletSignature=void 0;const random_1=random,ethers_1=lib_commonjs$1,ethersCompat_1$1=ethersCompat,EIP1271_ABI=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e",ISO8601=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/,checkContractWalletSignature=(e,t,r)=>__awaiter$2(void 0,void 0,void 0,(function*(){if(!r)return!1;const n=new ethers_1.Contract(e.address,EIP1271_ABI,r),i=(0,ethersCompat_1$1.hashMessage)(e.prepareMessage());return(yield n.isValidSignature(i,t))===EIP1271_MAGICVALUE}));utils$4.checkContractWalletSignature=checkContractWalletSignature;const generateNonce=()=>{const e=(0,random_1.randomStringForEntropy)(96);if(!e||e.length<8)throw new Error("Error during nonce creation.");return e};utils$4.generateNonce=generateNonce;const isValidISO8601Date=e=>{const t=ISO8601.exec(e);if(!e)return!1;const r=new Date(t.groups.date).toISOString(),n=ISO8601.exec(r);return t.groups.date===n.groups.date};utils$4.isValidISO8601Date=isValidISO8601Date;const checkInvalidKeys=(e,t)=>{const r=[];return Object.keys(e).forEach((e=>{t.includes(e)||r.push(e)})),r};utils$4.checkInvalidKeys=checkInvalidKeys;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,r,n,i){return new(n||(n=Promise))((function(s,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((i=i.apply(t,r||[])).next())}))};Object.defineProperty(client,"__esModule",{value:!0}),client.SiweMessage=void 0;const siwe_parser_1=parsers,uri=__importStar(validUrlExports),ethersCompat_1=ethersCompat,types_1=types$1,utils_1=utils$4;class SiweMessage{constructor(e){if("string"==typeof e){const t=new siwe_parser_1.ParsedMessage(e);this.scheme=t.scheme,this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else this.scheme=null==e?void 0:e.scheme,this.domain=e.domain,this.address=e.address,this.statement=null==e?void 0:e.statement,this.uri=e.uri,this.version=e.version,this.chainId=e.chainId,this.nonce=e.nonce,this.issuedAt=null==e?void 0:e.issuedAt,this.expirationTime=null==e?void 0:e.expirationTime,this.notBefore=null==e?void 0:e.notBefore,this.requestId=null==e?void 0:e.requestId,this.resources=null==e?void 0:e.resources,"string"==typeof this.chainId&&(this.chainId=(0,siwe_parser_1.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,utils_1.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();const e=`${this.scheme?`${this.scheme}://${this.domain}`:this.domain} wants you to sign in with your Ethereum account:`,t=`URI: ${this.uri}`;let r=[e,this.address].join("\n");const n=`Version: ${this.version}`;this.nonce||(this.nonce=(0,utils_1.generateNonce)());const i=[t,n,"Chain ID: "+this.chainId||"1",`Nonce: ${this.nonce}`];if(this.issuedAt=this.issuedAt||(new Date).toISOString(),i.push(`Issued At: ${this.issuedAt}`),this.expirationTime){const e=`Expiration Time: ${this.expirationTime}`;i.push(e)}this.notBefore&&i.push(`Not Before: ${this.notBefore}`),this.requestId&&i.push(`Request ID: ${this.requestId}`),this.resources&&i.push(["Resources:",...this.resources.map((e=>`- ${e}`))].join("\n"));const s=i.join("\n");return r=[r,this.statement].join("\n\n"),this.statement&&(r+="\n"),[r,s].join("\n")}prepareMessage(){let e;return this.version,e=this.toMessage(),e}validate(e,t){return __awaiter$1(this,void 0,void 0,(function*(){return this.verify({signature:e},{provider:t,suppressExceptions:!1}).then((({data:e})=>e)).catch((({error:e})=>{throw e}))}))}verify(t,r={suppressExceptions:!1}){return __awaiter$1(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{var s,o,a;const u=e=>r.suppressExceptions?n(e):i(e),c=(0,utils_1.checkInvalidKeys)(t,types_1.VerifyParamsKeys);c.length>0&&u({success:!1,data:this,error:new Error(`${c.join(", ")} is/are not valid key(s) for VerifyParams.`)});const h=(0,utils_1.checkInvalidKeys)(r,types_1.VerifyOptsKeys);c.length>0&&u({success:!1,data:this,error:new Error(`${h.join(", ")} is/are not valid key(s) for VerifyOpts.`)});const{signature:l,scheme:d,domain:f,nonce:p,time:m}=t;d&&d!==this.scheme&&u({success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.SCHEME_MISMATCH,d,this.scheme)}),f&&f!==this.domain&&u({success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.DOMAIN_MISMATCH,f,this.domain)}),p&&p!==this.nonce&&u({success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.NONCE_MISMATCH,p,this.nonce)});const g=new Date(m||new Date);if(this.expirationTime){const e=new Date(this.expirationTime);g.getTime()>=e.getTime()&&u({success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.EXPIRED_MESSAGE,`${g.toISOString()} < ${e.toISOString()}`,`${g.toISOString()} >= ${e.toISOString()}`)})}if(this.notBefore){const e=new Date(this.notBefore);g.getTime()<e.getTime()&&u({success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.NOT_YET_VALID_MESSAGE,`${g.toISOString()} >= ${e.toISOString()}`,`${g.toISOString()} < ${e.toISOString()}`)})}let y,b;try{y=this.prepareMessage()}catch(e){u({success:!1,data:this,error:e})}try{b=(0,ethersCompat_1.verifyMessage)(y,l)}catch(e){}if(b===this.address)return n({success:!0,data:this});{const e=(0,utils_1.checkContractWalletSignature)(this,l,r.provider).then((e=>e?{success:!0,data:this}:{success:!1,data:this,error:new types_1.SiweError(types_1.SiweErrorType.INVALID_SIGNATURE,b,`Resolved address to be ${this.address}`)})).catch((e=>({success:!1,data:this,error:e})));Promise.all([e,null===(a=null===(o=null===(s=null==r?void 0:r.verificationFallback)||void 0===s?void 0:s.call(r,t,r,this,e))||void 0===o?void 0:o.then((e=>e)))||void 0===a?void 0:a.catch((e=>e))]).then((([e,t])=>{if(t){if(t.success)return n(t);u(t)}else{if(e.success)return n(e);u(e)}}))}}))}))}validateMessage(...e){var t;if(e.length>0)throw new types_1.SiweError(types_1.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||0===this.domain.length||!/[^#?]*/.test(this.domain))throw new types_1.SiweError(types_1.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,siwe_parser_1.isEIP55Address)(this.address))throw new types_1.SiweError(types_1.SiweErrorType.INVALID_ADDRESS,(0,ethersCompat_1.getAddress)(this.address),this.address);if(!uri.isUri(this.uri))throw new types_1.SiweError(types_1.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if("1"!==this.version)throw new types_1.SiweError(types_1.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);const r=null===(t=null==this?void 0:this.nonce)||void 0===t?void 0:t.match(/[a-zA-Z0-9]{8,}/);if(!r||this.nonce.length<8||r[0]!==this.nonce)throw new types_1.SiweError(types_1.SiweErrorType.INVALID_NONCE,`Length > 8 (${r.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,utils_1.isValidISO8601Date)(this.issuedAt))throw new Error(types_1.SiweErrorType.INVALID_TIME_FORMAT);if(this.expirationTime&&!(0,utils_1.isValidISO8601Date)(this.expirationTime))throw new Error(types_1.SiweErrorType.INVALID_TIME_FORMAT);if(this.notBefore&&!(0,utils_1.isValidISO8601Date)(this.notBefore))throw new Error(types_1.SiweErrorType.INVALID_TIME_FORMAT)}}client.SiweMessage=SiweMessage,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(client,e),r(types$1,e),r(utils$4,e)}(siwe);const defaultErrorConfig={withStackTrace:!1},createNeverThrowError=(e,t,r=defaultErrorConfig)=>({data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:r.withStackTrace?(new Error).stack:void 0});function __awaiter(t,r,n,i){return new(n||(n=Promise))((function(s,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((i=i.apply(t,r||[])).next())}))}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,s=n.apply(t,r||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){s[e]&&(i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||u(e,t)}))})}function u(t,r){try{(n=s[t](r)).value instanceof __await?Promise.resolve(n.value.v).then(c,h):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){u("next",e)}function h(e){u("throw",e)}function l(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}class ResultAsync{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then((e=>new Ok(e)));return new ResultAsync(t)}static fromPromise(e,t){const r=e.then((e=>new Ok(e))).catch((e=>new Err(t(e))));return new ResultAsync(r)}static fromThrowable(e,t){return(...r)=>new ResultAsync((()=>__awaiter(this,void 0,void 0,(function*(){try{return new Ok(yield e(...r))}catch(n){return new Err(t?t(n):n)}})))())}static combine(e){return combineResultAsyncList(e)}static combineWithAllErrors(e){return combineResultAsyncListWithAllErrors(e)}map(e){return new ResultAsync(this._promise.then((t=>__awaiter(this,void 0,void 0,(function*(){return t.isErr()?new Err(t.error):new Ok(yield e(t.value))})))))}mapErr(e){return new ResultAsync(this._promise.then((t=>__awaiter(this,void 0,void 0,(function*(){return t.isOk()?new Ok(t.value):new Err(yield e(t.error))})))))}andThen(e){return new ResultAsync(this._promise.then((t=>{if(t.isErr())return new Err(t.error);const r=e(t.value);return r instanceof ResultAsync?r._promise:r})))}orElse(e){return new ResultAsync(this._promise.then((t=>__awaiter(this,void 0,void 0,(function*(){return t.isErr()?e(t.error):new Ok(t.value)})))))}match(e,t){return this._promise.then((r=>r.match(e,t)))}unwrapOr(e){return this._promise.then((t=>t.unwrapOr(e)))}safeUnwrap(){return __asyncGenerator(this,arguments,(function*(){return yield __await(yield __await(yield*__asyncDelegator(__asyncValues(yield __await(this._promise.then((e=>e.safeUnwrap())))))))}))}then(e,t){return this._promise.then(e,t)}}const errAsync=e=>new ResultAsync(Promise.resolve(new Err(e)));ResultAsync.fromPromise,ResultAsync.fromSafePromise,ResultAsync.fromThrowable;const combineResultList=e=>{let t=ok([]);for(const r of e){if(r.isErr()){t=err(r.error);break}t.map((e=>e.push(r.value)))}return t},combineResultAsyncList=e=>ResultAsync.fromSafePromise(Promise.all(e)).andThen(combineResultList),combineResultListWithAllErrors=e=>{let t=ok([]);for(const r of e)r.isErr()&&t.isErr()?t.error.push(r.error):r.isErr()&&t.isOk()?t=err([r.error]):r.isOk()&&t.isOk()&&t.value.push(r.value);return t},combineResultAsyncListWithAllErrors=e=>ResultAsync.fromSafePromise(Promise.all(e)).andThen(combineResultListWithAllErrors);var Result,Result2;Result2=Result||(Result={}),Result2.fromThrowable=function(t,r){return(...n)=>{try{const e=t(...n);return ok(e)}catch(e){return err(r?r(e):e)}}},Result2.combine=function(e){return combineResultList(e)},Result2.combineWithAllErrors=function(e){return combineResultListWithAllErrors(e)};const ok=e=>new Ok(e),err=e=>new Err(e);class Ok{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return ok(e(this.value))}mapErr(e){return ok(this.value)}andThen(e){return e(this.value)}orElse(e){return ok(this.value)}asyncAndThen(e){return e(this.value)}asyncMap(e){return ResultAsync.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,e)}}class Err{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return err(this.error)}mapErr(e){return err(e(this.error))}andThen(e){return err(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return errAsync(this.error)}asyncMap(e){return errAsync(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield err(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}}Result.fromThrowable;const version$1="1.0.7";let BaseError$1=class e extends Error{constructor(t,r={}){const n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof e&&r.cause.docsPath||r.docsPath;super([t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${version$1}`].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=t}};function execTyped(e,t){const r=e.exec(t);return r?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,tupleRegex=/^tuple(?<array>(\[(\d*)\])*)$/;function formatAbiParameter(e){let t=e.type;if(tupleRegex.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let i=0;i<r;i++){t+=formatAbiParameter(e.components[i]),i<r-1&&(t+=", ")}const n=execTyped(tupleRegex,e.type);return t+=`)${n?.array??""}`,formatAbiParameter({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function formatAbiParameters(e){let t="";const r=e.length;for(let n=0;n<r;n++){t+=formatAbiParameter(e[n]),n!==r-1&&(t+=", ")}return t}function formatAbiItem$1(e){return"function"===e.type?`function ${e.name}(${formatAbiParameters(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${formatAbiParameters(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${formatAbiParameters(e.inputs)})`:"error"===e.type?`error ${e.name}(${formatAbiParameters(e.inputs)})`:"constructor"===e.type?`constructor(${formatAbiParameters(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}const errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(e){return errorSignatureRegex.test(e)}function execErrorSignature(e){return execTyped(errorSignatureRegex,e)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(e){return eventSignatureRegex.test(e)}function execEventSignature(e){return execTyped(eventSignatureRegex,e)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(e){return functionSignatureRegex.test(e)}function execFunctionSignature(e){return execTyped(functionSignatureRegex,e)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(e){return structSignatureRegex.test(e)}function execStructSignature(e){return execTyped(structSignatureRegex,e)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(e){return constructorSignatureRegex.test(e)}function execConstructorSignature(e){return execTyped(constructorSignatureRegex,e)}const fallbackSignatureRegex=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function isFallbackSignature(e){return fallbackSignatureRegex.test(e)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(e){return receiveSignatureRegex.test(e)}const eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidParameterError extends BaseError$1{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(e,t,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let e="";for(const t of i[1])e+=`[${t.type}${t.name?`:${t.name}`:""}]`;n+=`(${i[0]}{${e}})`}return t?`${t}:${e}${n}`:e}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(e,t={}){if(isFunctionSignature(e)){const r=execFunctionSignature(e);if(!r)throw new InvalidSignatureError({signature:e,type:"function"});const n=splitParameters(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(parseAbiParameter(n[e],{modifiers:functionModifiers,structs:t,type:"function"}));const o=[];if(r.returns){const e=splitParameters(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(parseAbiParameter(e[r],{modifiers:functionModifiers,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}if(isEventSignature(e)){const r=execEventSignature(e);if(!r)throw new InvalidSignatureError({signature:e,type:"event"});const n=splitParameters(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(parseAbiParameter(n[e],{modifiers:eventModifiers,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}if(isErrorSignature(e)){const r=execErrorSignature(e);if(!r)throw new InvalidSignatureError({signature:e,type:"error"});const n=splitParameters(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(parseAbiParameter(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}if(isConstructorSignature(e)){const r=execConstructorSignature(e);if(!r)throw new InvalidSignatureError({signature:e,type:"constructor"});const n=splitParameters(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(parseAbiParameter(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}if(isFallbackSignature(e))return{type:"fallback"};if(isReceiveSignature(e))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:e})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(e,t){const r=getParameterCacheKey(e,t?.type,t?.structs);if(parameterCache.has(r))return parameterCache.get(r);const n=isTupleRegex.test(e),i=execTyped(n?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,e);if(!i)throw new InvalidParameterError({param:e});if(i.name&&isSolidityKeyword(i.name))throw new SolidityProtectedKeywordError({param:e,name:i.name});const s=i.name?{name:i.name}:{},o="indexed"===i.modifier?{indexed:!0}:{},a=t?.structs??{};let u,c={};if(n){u="tuple";const e=splitParameters(i.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(parseAbiParameter(e[n],{structs:a}));c={components:t}}else if(i.type in a)u="tuple",c={components:a[i.type]};else if(dynamicIntegerRegex.test(i.type))u=`${i.type}256`;else if(u=i.type,"struct"!==t?.type&&!isSolidityType(u))throw new UnknownSolidityTypeError({type:u});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new InvalidModifierError({param:e,type:t?.type,modifier:i.modifier});if(functionModifiers.has(i.modifier)&&!isValidDataLocation(u,!!i.array))throw new InvalidFunctionModifierError({param:e,type:t?.type,modifier:i.modifier})}const h={type:`${u}${i.array??""}`,...s,...o,...c};return parameterCache.set(r,h),h}function splitParameters(e,t=[],r="",n=0){const i=e.trim().length;for(let s=0;s<i;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return 0===n?splitParameters(o,[...t,r.trim()]):splitParameters(o,t,`${r}${i}`,n);case"(":return splitParameters(o,t,`${r}${i}`,n+1);case")":return splitParameters(o,t,`${r}${i}`,n-1);default:return splitParameters(o,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new InvalidParenthesisError({current:r,depth:n});return t.push(r.trim()),t}function isSolidityType(e){return"address"===e||"bool"===e||"function"===e||"string"===e||bytesRegex$1.test(e)||integerRegex$1.test(e)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||bytesRegex$1.test(e)||integerRegex$1.test(e)||protectedKeywordsRegex.test(e)}function isValidDataLocation(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}function parseStructs(e){const t={},r=e.length;for(let o=0;o<r;o++){const r=e[o];if(!isStructSignature(r))continue;const n=execStructSignature(r);if(!n)throw new InvalidSignatureError({signature:r,type:"struct"});const i=n.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const r=parseAbiParameter(t,{type:"struct"});s.push(r)}if(!s.length)throw new InvalidStructSignatureError({signature:r});t[n.name]=s}const n={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[e,r]=i[o];n[e]=resolveStructs(r,t)}return n}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(e,t,r=new Set){const n=[],i=e.length;for(let s=0;s<i;s++){const i=e[s];if(isTupleRegex.test(i.type))n.push(i);else{const e=execTyped(typeWithoutTupleRegex,i.type);if(!e?.type)throw new InvalidAbiTypeParameterError({abiParameter:i});const{array:s,type:o}=e;if(o in t){if(r.has(o))throw new CircularReferenceError({type:o});n.push({...i,type:`tuple${s??""}`,components:resolveStructs(t[o]??[],t,new Set([...r,o]))})}else{if(!isSolidityType(o))throw new UnknownTypeError({type:o});n.push(i)}}}return n}function parseAbi(e){const t=parseStructs(e),r=[],n=e.length;for(let i=0;i<n;i++){const n=e[i];isStructSignature(n)||r.push(parseSignature(n,t))}return r}function formatAbiItem(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new InvalidDefinitionTypeError(e.type);return`${e.name}(${formatAbiParams(e.inputs,{includeName:t})})`}function formatAbiParams(e,{includeName:t=!1}={}){return e?e.map((e=>formatAbiParam(e,{includeName:t}))).join(t?", ":","):""}function formatAbiParam(e,{includeName:t}){return e.type.startsWith("tuple")?`(${formatAbiParams(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function isHex(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function size(e){return isHex(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const version="2.21.57";let errorConfig={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${version}`};class BaseError extends Error{constructor(e,t={}){const r=t.cause instanceof BaseError?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof BaseError&&t.cause.docsPath||t.docsPath,i=errorConfig.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=version}walk(e){return walk(this,e)}}function walk(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?walk(e.cause,t):t?null:e}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${formatAbiParams(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${size(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class AbiItemAmbiguityError extends BaseError{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${formatAbiItem(e.abiItem)}\`, and`,`\`${t.type}\` in \`${formatAbiItem(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:e,data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${formatAbiParams(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=n}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${formatAbiItem(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class InvalidAbiEncodingTypeError extends BaseError{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class InvalidBytesLengthError extends BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function pad(e,{dir:t,size:r=32}={}){return"string"==typeof e?padHex(e,{dir:t,size:r}):padBytes(e,{dir:t,size:r})}function padHex(e,{dir:t,size:r=32}={}){if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new SizeExceedsPaddingSizeError({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}function padBytes(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new SizeExceedsPaddingSizeError({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s="right"===t;n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}class IntegerOutOfRangeError extends BaseError{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class InvalidBytesBooleanError extends BaseError{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class InvalidHexBooleanError extends BaseError{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function trim(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let i=0;i<r.length-1&&"0"===r["left"===t?i:r.length-i-1].toString();i++)n++;return r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}function assertSize(e,{size:t}){if(size(e)>t)throw new SizeOverflowError({givenSize:size(e),maxSize:t})}function hexToBigInt(e,t={}){const{signed:r}=t;t.size&&assertSize(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function hexToBool(e,t={}){let r=e;if(t.size&&(assertSize(r,{size:t.size}),r=trim(r)),"0x00"===trim(r))return!1;if("0x01"===trim(r))return!0;throw new InvalidHexBooleanError(r)}function hexToNumber(e,t={}){return Number(hexToBigInt(e,t))}const hexes=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function toHex(e,t={}){return"number"==typeof e||"bigint"==typeof e?numberToHex(e,t):"string"==typeof e?stringToHex(e,t):"boolean"==typeof e?boolToHex(e,t):bytesToHex(e,t)}function boolToHex(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?(assertSize(r,{size:t.size}),pad(r,{size:t.size})):r}function bytesToHex(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=hexes[e[i]];const n=`0x${r}`;return"number"==typeof t.size?(assertSize(n,{size:t.size}),pad(n,{dir:"right",size:t.size})):n}function numberToHex(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?s=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&r?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new IntegerOutOfRangeError({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:r,size:n,value:`${e}${t}`})}const a=`0x${(r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16)}`;return n?pad(a,{size:n}):a}const encoder$1=new TextEncoder;function stringToHex(e,t={}){return bytesToHex(encoder$1.encode(e),t)}const encoder=new TextEncoder;function toBytes$1(e,t={}){return"number"==typeof e||"bigint"==typeof e?numberToBytes(e,t):"boolean"==typeof e?boolToBytes(e,t):isHex(e)?hexToBytes(e,t):stringToBytes(e,t)}function boolToBytes(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),"number"==typeof t.size?(assertSize(r,{size:t.size}),pad(r,{size:t.size})):r}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(e){return e>=charCodeMap.zero&&e<=charCodeMap.nine?e-charCodeMap.zero:e>=charCodeMap.A&&e<=charCodeMap.F?e-(charCodeMap.A-10):e>=charCodeMap.a&&e<=charCodeMap.f?e-(charCodeMap.a-10):void 0}function hexToBytes(e,t={}){let r=e;t.size&&(assertSize(r,{size:t.size}),r=pad(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const e=charCodeToBase16(n.charCodeAt(a++)),t=charCodeToBase16(n.charCodeAt(a++));if(void 0===e||void 0===t)throw new BaseError(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=16*e+t}return s}function numberToBytes(e,t){return hexToBytes(numberToHex(e,t))}function stringToBytes(e,t={}){const r=encoder.encode(e);return"number"==typeof t.size?(assertSize(r,{size:t.size}),pad(r,{dir:"right",size:t.size})):r}function anumber(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function isBytes(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function abytes(e,...t){if(!isBytes(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function aexists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function aoutput(e,t){abytes(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e,t=!1){return t?{h:Number(e&U32_MASK64),l:Number(e>>_32n&U32_MASK64)}:{h:0|Number(e>>_32n&U32_MASK64),l:0|Number(e&U32_MASK64)}}function split(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=fromBig(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const rotlSH=(e,t,r)=>e<<r|t>>>32-r,rotlSL=(e,t,r)=>t<<r|e>>>32-r,rotlBH=(e,t,r)=>t<<r-32|e>>>64-r,rotlBL=(e,t,r)=>e<<r-32|t>>>64-r
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */,u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,t)=>e<<32-t|e>>>t,isLE=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])(),byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let t=0;t<e.length;t++)e[t]=byteSwap(e[t])}function utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){return"string"==typeof e&&(e=utf8ToBytes(e)),abytes(e),e}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(e){const t=t=>e().update(toBytes(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let r=0,i=_1n,s=1,o=0;r<24;r++){[s,o]=[o,(2*s+3*o)%5],SHA3_PI.push(2*(5*o+s)),SHA3_ROTL.push((r+1)*(r+2)/2%64);let e=_0n;for(let t=0;t<7;t++)i=(i<<_1n^(i>>_7n)*_0x71n)%_256n,i&_2n&&(e^=_1n<<(_1n<<BigInt(t))-_1n);_SHA3_IOTA.push(e)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(e,t,r)=>r>32?rotlBH(e,t,r):rotlSH(e,t,r),rotlL=(e,t,r)=>r>32?rotlBL(e,t,r):rotlSL(e,t,r);function keccakP(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=rotlH(s,o,1)^r[t],u=rotlL(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=SHA3_ROTL[r],s=rotlH(t,i,n),o=rotlL(t,i,n),a=SHA3_PI[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=SHA3_IOTA_H[n],e[1]^=SHA3_IOTA_L[n]}r.fill(0)}class Keccak extends Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,anumber(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){aexists(this);const{blockLen:t,state:r}=this,n=(e=toBytes(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){aexists(this,!1),abytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return anumber(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aoutput(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new Keccak(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const gen=(e,t,r)=>wrapConstructor((()=>new Keccak(t,e,r))),keccak_256=gen(1,136,32);function keccak256(e,t){const r=t||"hex",n=keccak_256(isHex(e,{strict:!1})?toBytes$1(e):e);return"bytes"===r?n:toHex(n)}const hash=e=>keccak256(toBytes$1(e));function hashSignature(e){return hash(e)}function normalizeSignature(e){let t=!0,r="",n=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t)if(0!==n)" "!==a?(i+=a,r+=a):","!==e[o-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){s=!0;break}}if(!s)throw new BaseError("Unable to normalize signature.");return i}const toSignature=e=>normalizeSignature("string"==typeof e?e:formatAbiItem$1(e));function toSignatureHash(e){return hashSignature(toSignature(e))}const toEventSelector=toSignatureHash;class InvalidAddressError extends BaseError{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class LruMap extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const checksumAddressCache=new LruMap(8192);function checksumAddress(e,t){if(checksumAddressCache.has(`${e}.${t}`))return checksumAddressCache.get(`${e}.${t}`);const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=keccak256(stringToBytes(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&n[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return checksumAddressCache.set(`${e}.${t}`,s),s}function getAddress(e,t){if(!isAddress(e,{strict:!1}))throw new InvalidAddressError({address:e});return checksumAddress(e,t)}const addressRegex=/^0x[a-fA-F0-9]{40}$/,isAddressCache=new LruMap(8192);function isAddress(e,t){const{strict:r=!0}=t??{},n=`${e}.${r}`;if(isAddressCache.has(n))return isAddressCache.get(n);const i=!(!addressRegex.test(e)||e.toLowerCase()!==e&&r&&checksumAddress(e)!==e);return isAddressCache.set(n,i),i}function concat(e){return"string"==typeof e[0]?concatHex(e):concatBytes(e)}function concatBytes(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function concatHex(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function slice(e,t,r,{strict:n}={}){return isHex(e,{strict:!1})?sliceHex(e,t,r,{strict:n}):sliceBytes(e,t,r,{strict:n})}function assertStartOffset(e,t){if("number"==typeof t&&t>0&&t>size(e)-1)throw new SliceOffsetOutOfBoundsError({offset:t,position:"start",size:size(e)})}function assertEndOffset(e,t,r){if("number"==typeof t&&"number"==typeof r&&size(e)!==r-t)throw new SliceOffsetOutOfBoundsError({offset:r,position:"end",size:size(e)})}function sliceBytes(e,t,r,{strict:n}={}){assertStartOffset(e,t);const i=e.slice(t,r);return n&&assertEndOffset(i,t,r),i}function sliceHex(e,t,r,{strict:n}={}){assertStartOffset(e,t);const i=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;return n&&assertEndOffset(i,t,r),i}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function encodeAbiParameters(e,t){if(e.length!==t.length)throw new AbiEncodingLengthMismatchError({expectedLength:e.length,givenLength:t.length});const r=encodeParams(prepareParams({params:e,values:t}));return 0===r.length?"0x":r}function prepareParams({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(prepareParam({param:e[n],value:t[n]}));return r}function prepareParam({param:e,value:t}){const r=getArrayComponents(e.type);if(r){const[n,i]=r;return encodeArray(t,{length:n,param:{...e,type:i}})}if("tuple"===e.type)return encodeTuple(t,{param:e});if("address"===e.type)return encodeAddress(t);if("bool"===e.type)return encodeBool(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,n="256"]=integerRegex.exec(e.type)??[];return encodeNumber(t,{signed:r,size:Number(n)})}if(e.type.startsWith("bytes"))return encodeBytes(t,{param:e});if("string"===e.type)return encodeString(t);throw new InvalidAbiEncodingTypeError(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:r,encoded:n}=e[s];t+=r?32:size(n)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(numberToHex(t+i,{size:32})),n.push(a),i+=size(a)):r.push(a)}return concat([...r,...n])}function encodeAddress(e){if(!isAddress(e))throw new InvalidAddressError({address:e});return{dynamic:!1,encoded:padHex(e.toLowerCase())}}function encodeArray(e,{length:t,param:r}){const n=null===t;if(!Array.isArray(e))throw new InvalidArrayError(e);if(!n&&e.length!==t)throw new AbiEncodingArrayLengthMismatchError({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const t=prepareParam({param:r,value:e[o]});t.dynamic&&(i=!0),s.push(t)}if(n||i){const e=encodeParams(s);if(n){const t=numberToHex(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?concat([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:concat(s.map((({encoded:e})=>e)))}}function encodeBytes(e,{param:t}){const[,r]=t.type.split("bytes"),n=size(e);if(!r){let t=e;return n%32!=0&&(t=padHex(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:concat([padHex(numberToHex(n,{size:32})),t])}}if(n!==Number.parseInt(r))throw new AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:padHex(e,{dir:"right"})}}function encodeBool(e){if("boolean"!=typeof e)throw new BaseError(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:padHex(boolToHex(e))}}function encodeNumber(e,{signed:t,size:r=256}){if("number"==typeof r){const n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new IntegerOutOfRangeError({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:numberToHex(e,{size:32,signed:t})}}function encodeString(e){const t=stringToHex(e),r=Math.ceil(size(t)/32),n=[];for(let i=0;i<r;i++)n.push(padHex(slice(t,32*i,32*(i+1)),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size(t),{size:32})),...n])}}function encodeTuple(e,{param:t}){let r=!1;const n=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=prepareParam({param:s,value:e[Array.isArray(e)?i:s.name]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?encodeParams(n):concat(n.map((({encoded:e})=>e)))}}function getArrayComponents(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const toFunctionSelector=e=>slice(toSignatureHash(e),0,4);function getAbiItem(e){const{abi:t,args:r=[],name:n}=e,i=isHex(n,{strict:!1}),s=t.filter((e=>i?"function"===e.type?toFunctionSelector(e)===n:"event"===e.type&&toEventSelector(e)===n:"name"in e&&e.name===n));if(0===s.length)return;if(1===s.length)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||0===r.length){if(!a.inputs||0===a.inputs.length)return a;continue}if(!a.inputs)continue;if(0===a.inputs.length)continue;if(a.inputs.length!==r.length)continue;if(r.every(((e,t)=>{const r="inputs"in a&&a.inputs[t];return!!r&&isArgOfType(e,r)}))){if(o&&"inputs"in o&&o.inputs){const e=getAmbiguousTypes(a.inputs,o.inputs,r);if(e)throw new AbiItemAmbiguityError({abiItem:a,type:e[0]},{abiItem:o,type:e[1]})}o=a}}return o||s[0]}function isArgOfType(e,t){const r=typeof e,n=t.type;switch(n){case"address":return isAddress(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>isArgOfType(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>isArgOfType(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function getAmbiguousTypes(e,t,r){for(const n in e){const i=e[n],s=t[n];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return getAmbiguousTypes(i.components,s.components,r[n]);const o=[i.type,s.type];if(!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&isAddress(r[n],{strict:!1}))return o}}function parseAccount(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class NegativeOffsetError extends BaseError{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class RecursiveReadLimitExceededError extends BaseError{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new NegativeOffsetError({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new NegativeOffsetError({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function createCursor(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(staticCursor);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function bytesToBigInt(e,t={}){void 0!==t.size&&assertSize(e,{size:t.size});return hexToBigInt(bytesToHex(e,t),t)}function bytesToBool(e,t={}){let r=e;if(void 0!==t.size&&(assertSize(r,{size:t.size}),r=trim(r)),r.length>1||r[0]>1)throw new InvalidBytesBooleanError(r);return Boolean(r[0])}function bytesToNumber(e,t={}){void 0!==t.size&&assertSize(e,{size:t.size});return hexToNumber(bytesToHex(e,t),t)}function bytesToString(e,t={}){let r=e;return void 0!==t.size&&(assertSize(r,{size:t.size}),r=trim(r,{dir:"right"})),(new TextDecoder).decode(r)}function decodeAbiParameters(e,t){const r="string"==typeof t?hexToBytes(t):t,n=createCursor(r);if(0===size(r)&&e.length>0)throw new AbiDecodingZeroDataError;if(size(t)&&size(t)<32)throw new AbiDecodingDataSizeTooSmallError({data:"string"==typeof t?t:bytesToHex(t),params:e,size:size(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const t=e[o];n.setPosition(i);const[r,a]=decodeParameter(n,t,{staticPosition:0});i+=a,s.push(r)}return s}function decodeParameter(e,t,{staticPosition:r}){const n=getArrayComponents(t.type);if(n){const[i,s]=n;return decodeArray(e,{...t,type:s},{length:i,staticPosition:r})}if("tuple"===t.type)return decodeTuple(e,t,{staticPosition:r});if("address"===t.type)return decodeAddress(e);if("bool"===t.type)return decodeBool(e);if(t.type.startsWith("bytes"))return decodeBytes(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return decodeNumber(e,t);if("string"===t.type)return decodeString(e,{staticPosition:r});throw new InvalidAbiDecodingTypeError(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const sizeOfLength=32,sizeOfOffset=32;function decodeAddress(e){return[checksumAddress(bytesToHex(sliceBytes(e.readBytes(32),-20))),32]}function decodeArray(e,t,{length:r,staticPosition:n}){if(!r){const r=n+bytesToNumber(e.readBytes(sizeOfOffset)),i=r+sizeOfLength;e.setPosition(r);const s=bytesToNumber(e.readBytes(sizeOfLength)),o=hasDynamicChild(t);let a=0;const u=[];for(let n=0;n<s;++n){e.setPosition(i+(o?32*n:a));const[r,s]=decodeParameter(e,t,{staticPosition:i});a+=s,u.push(r)}return e.setPosition(n+32),[u,32]}if(hasDynamicChild(t)){const i=n+bytesToNumber(e.readBytes(sizeOfOffset)),s=[];for(let n=0;n<r;++n){e.setPosition(i+32*n);const[r]=decodeParameter(e,t,{staticPosition:i});s.push(r)}return e.setPosition(n+32),[s,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[r,o]=decodeParameter(e,t,{staticPosition:n+i});i+=o,s.push(r)}return[s,i]}function decodeBool(e){return[bytesToBool(e.readBytes(32),{size:32}),32]}function decodeBytes(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const t=bytesToNumber(e.readBytes(32));e.setPosition(r+t);const n=bytesToNumber(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];const i=e.readBytes(n);return e.setPosition(r+32),[bytesToHex(i),32]}return[bytesToHex(e.readBytes(Number.parseInt(i),32)),32]}function decodeNumber(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?bytesToBigInt(i,{signed:r}):bytesToNumber(i,{signed:r}),32]}function decodeTuple(e,t,{staticPosition:r}){const n=0===t.components.length||t.components.some((({name:e})=>!e)),i=n?[]:{};let s=0;if(hasDynamicChild(t)){const o=r+bytesToNumber(e.readBytes(sizeOfOffset));for(let r=0;r<t.components.length;++r){const a=t.components[r];e.setPosition(o+s);const[u,c]=decodeParameter(e,a,{staticPosition:o});s+=c,i[n?r:a?.name]=u}return e.setPosition(r+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[u,c]=decodeParameter(e,a,{staticPosition:r});i[n?o:a?.name]=u,s+=c}return[i,s]}function decodeString(e,{staticPosition:t}){const r=t+bytesToNumber(e.readBytes(32));e.setPosition(r);const n=bytesToNumber(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];const i=bytesToString(trim(e.readBytes(n,32)));return e.setPosition(t+32),[i,32]}function hasDynamicChild(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(hasDynamicChild);const r=getArrayComponents(e.type);return!(!r||!hasDynamicChild({...e,type:r[1]}))}function decodeErrorResult(e){const{abi:t,data:r}=e,n=slice(r,0,4);if("0x"===n)throw new AbiDecodingZeroDataError;const i=[...t||[],solidityError,solidityPanic].find((e=>"error"===e.type&&n===toFunctionSelector(formatAbiItem(e))));if(!i)throw new AbiErrorSignatureNotFoundError(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?decodeAbiParameters(i.inputs,slice(r,4)):void 0,errorName:i.name}}const stringify=(e,t,r)=>JSON.stringify(e,((e,r)=>{const n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n}),r);function formatAbiItemWithArgs({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map(((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?stringify(t[r]):t[r]}`)).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function formatEther(e,t="wei"){return formatUnits(e,etherUnits[t])}function formatGwei(e,t="wei"){return formatUnits(e,gweiUnits[t])}class AccountStateConflictError extends BaseError{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class StateAssignmentConflictError extends BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function prettyStateMapping(e){return e.reduce(((e,{slot:t,value:r})=>`${e}        ${t}: ${r}\n`),"")}function prettyStateOverride(e){return e.reduce(((e,{address:t,...r})=>{let n=`${e}    ${t}:\n`;return r.nonce&&(n+=`      nonce: ${r.nonce}\n`),r.balance&&(n+=`      balance: ${r.balance}\n`),r.code&&(n+=`      code: ${r.code}\n`),r.state&&(n+="      state:\n",n+=prettyStateMapping(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=prettyStateMapping(r.stateDiff)),n}),"  State Override:\n").slice(0,-1)}function prettyPrint(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),r=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`)).join("\n")}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class TransactionNotFoundError extends BaseError{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let s="Transaction";r&&void 0!==i&&(s=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),n&&(s=`Transaction with hash "${n}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const getContractAddress=e=>e,getUrl=e=>e;class CallExecutionError extends BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:c,to:h,value:l,stateOverride:d}){const f=t?parseAccount(t):void 0;let p=prettyPrint({from:f?.address,to:h,value:void 0!==l&&`${formatEther(l)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:void 0!==o&&`${formatGwei(o)} gwei`,maxFeePerGas:void 0!==a&&`${formatGwei(a)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${formatGwei(u)} gwei`,nonce:c});d&&(p+=`\n${prettyStateOverride(d)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ContractFunctionExecutionError extends BaseError{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o}){const a=getAbiItem({abi:t,args:r,name:s}),u=a?formatAbiItemWithArgs({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,c=a?formatAbiItem(a,{includeName:!0}):void 0,h=prettyPrint({address:n&&getContractAddress(n),function:c,args:u&&"()"!==u&&`${[...Array(s?.length??0).keys()].map((()=>" ")).join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=s,this.sender=o}}class ContractFunctionRevertedError extends BaseError{constructor({abi:e,data:t,functionName:r,message:n}){let i,s,o,a,u;if(t&&"0x"!==t)try{s=decodeErrorResult({abi:e,data:t});const{abiItem:r,errorName:n,args:i}=s;if("Error"===n)a=i[0];else if("Panic"===n){const[e]=i;a=panicReasons[e]}else{const e=r?formatAbiItem(r,{includeName:!0}):void 0,t=r&&i?formatAbiItemWithArgs({abiItem:r,args:i,includeFunctionName:!1,includeName:!1}):void 0;o=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(c){i=c}else n&&(a=n);i instanceof AbiErrorSignatureNotFoundError&&(u=i.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(a&&"execution reverted"!==a||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,a||u].join("\n"):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.reason=a,this.signature=u}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class CounterfactualDeploymentFailedError extends BaseError{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class RawContractError extends BaseError{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class HttpRequestError extends BaseError{constructor({body:e,cause:t,details:r,headers:n,status:i,url:s}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${getUrl(s)}`,e&&`Request body: ${stringify(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=i,this.url=s}}class RpcRequestError extends BaseError{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${getUrl(r)}`,`Request body: ${stringify(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class TimeoutError extends BaseError{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(t)}`,`Request body: ${stringify(e)}`],name:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(e,{code:t,docsPath:r,metaMessages:n,name:i,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof RpcRequestError?e.code:t??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class ParseRpcError extends RpcError{constructor(e){super(e,{code:ParseRpcError.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(e){super(e,{code:InvalidRequestRpcError.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(e,{method:t}={}){super(e,{code:MethodNotFoundRpcError.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(e){super(e,{code:InvalidParamsRpcError.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(e){super(e,{code:InternalRpcError.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(e){super(e,{code:InvalidInputRpcError.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(e){super(e,{code:ResourceNotFoundRpcError.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(e){super(e,{code:ResourceUnavailableRpcError.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(e){super(e,{code:TransactionRejectedRpcError.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(e,{method:t}={}){super(e,{code:MethodNotSupportedRpcError.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not implemented.`})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(e){super(e,{code:LimitExceededRpcError.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(e){super(e,{code:JsonRpcVersionUnsupportedError.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(e){super(e,{code:UserRejectedRequestError.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(e){super(e,{code:UnauthorizedProviderError.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(e,{method:t}={}){super(e,{code:UnsupportedProviderMethodError.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(e){super(e,{code:ProviderDisconnectedError.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(e){super(e,{code:ChainDisconnectedError.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(e){super(e,{code:SwitchChainError.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function toRlp(e,t="hex"){const r=getEncodable(e),n=createCursor(new Uint8Array(r.length));return r.encode(n),"hex"===t?bytesToHex(n.bytes):n.bytes}function getEncodable(e){return Array.isArray(e)?getEncodableList(e.map((e=>getEncodable(e)))):getEncodableBytes(e)}function getEncodableList(e){const t=e.reduce(((e,t)=>e+t.length),0),r=getSizeOfLength(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t));for(const{encode:t}of e)t(n)}}}function getEncodableBytes(e){const t="string"==typeof e?hexToBytes(e):e,r=getSizeOfLength(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}function getSizeOfLength(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new BaseError("Length is too large.")}class ExecutionRevertedError extends BaseError{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${formatGwei(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${formatGwei(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${formatGwei(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${formatGwei(r)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function getNodeError(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof BaseError?e.walk((e=>e?.code===ExecutionRevertedError.code)):e;return n instanceof BaseError?new ExecutionRevertedError({cause:e,message:n.details}):ExecutionRevertedError.nodeMessage.test(r)?new ExecutionRevertedError({cause:e,message:e.details}):FeeCapTooHighError.nodeMessage.test(r)?new FeeCapTooHighError({cause:e,maxFeePerGas:t?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(r)?new FeeCapTooLowError({cause:e,maxFeePerGas:t?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(r)?new NonceTooHighError({cause:e,nonce:t?.nonce}):NonceTooLowError.nodeMessage.test(r)?new NonceTooLowError({cause:e,nonce:t?.nonce}):NonceMaxValueError.nodeMessage.test(r)?new NonceMaxValueError({cause:e,nonce:t?.nonce}):InsufficientFundsError.nodeMessage.test(r)?new InsufficientFundsError({cause:e}):IntrinsicGasTooHighError.nodeMessage.test(r)?new IntrinsicGasTooHighError({cause:e,gas:t?.gas}):IntrinsicGasTooLowError.nodeMessage.test(r)?new IntrinsicGasTooLowError({cause:e,gas:t?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(r)?new TransactionTypeNotSupportedError({cause:e}):TipAboveFeeCapError.nodeMessage.test(r)?new TipAboveFeeCapError({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new UnknownNodeError({cause:e})}function extract(e,{format:t}){if(!t)return{};const r={};return function t(n){const i=Object.keys(n);for(const s of i)s in e&&(r[s]=e[s]),n[s]&&"object"==typeof n[s]&&!Array.isArray(n[s])&&t(n[s])}(t(e||{})),r}function defineFormatter(e,t){return({exclude:r,format:n})=>({exclude:r,format:e=>{const i=t(e);if(r)for(const t of r)delete i[t];return{...i,...n(e)}},type:e})}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function formatTransactionRequest(e){const t={};return void 0!==e.authorizationList&&(t.authorizationList=formatAuthorizationList$1(e.authorizationList)),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((e=>bytesToHex(e))):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=numberToHex(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=numberToHex(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=numberToHex(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=numberToHex(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=numberToHex(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=numberToHex(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=rpcTransactionType[e.type]),void 0!==e.value&&(t.value=numberToHex(e.value)),t}function formatAuthorizationList$1(e){return e.map((e=>({address:e.contractAddress,r:e.r,s:e.s,chainId:numberToHex(e.chainId),nonce:numberToHex(e.nonce),...void 0!==e.yParity?{yParity:numberToHex(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:numberToHex(e.v)}:{}})))}const maxUint256=2n**256n-1n;function assertRequest(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=e,o=t?parseAccount(t):void 0;if(o&&!isAddress(o.address))throw new InvalidAddressError({address:o.address});if(s&&!isAddress(s))throw new InvalidAddressError({address:s});if(void 0!==r&&(void 0!==n||void 0!==i))throw new FeeConflictError;if(n&&n>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:n});if(i&&n&&i>n)throw new TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:i})}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function formatTransaction(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?hexToNumber(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?hexToNumber(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?transactionType[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=formatAuthorizationList(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}const defineTransaction=defineFormatter("transaction",formatTransaction);function formatAuthorizationList(e){return e.map((e=>({contractAddress:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)})))}function formatBlock(e){const t=(e.transactions??[]).map((e=>"string"==typeof e?e:formatTransaction(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const defineBlock=defineFormatter("block",formatBlock);function blobsToCommitments(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>hexToBytes(e))):e.blobs,i=[];for(const s of n)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return"bytes"===r?i:i.map((e=>bytesToHex(e)))}function blobsToProofs(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>hexToBytes(e))):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map((e=>hexToBytes(e))):e.commitments,s=[];for(let o=0;o<n.length;o++){const e=n[o],r=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(e,r)))}return"bytes"===r?s:s.map((e=>bytesToHex(e)))}function setBigUint64(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+c,a,n)}const Chi=(e,t,r)=>e&t^~e&r,Maj=(e,t,r)=>e&t^e&r^t&r;class HashMD extends Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){aexists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=toBytes(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=createView(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){aexists(this),aoutput(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let h=s;h<n;h++)t[h]=0;setBigUint64(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=createView(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)o.setUint32(4*h,c[h],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|SHA256_IV[0],this.B=0|SHA256_IV[1],this.C=0|SHA256_IV[2],this.D=0|SHA256_IV[3],this.E=0|SHA256_IV[4],this.F=0|SHA256_IV[5],this.G=0|SHA256_IV[6],this.H=0|SHA256_IV[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let h=0;h<16;h++,t+=4)SHA256_W[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const e=SHA256_W[h-15],t=SHA256_W[h-2],r=rotr(e,7)^rotr(e,18)^e>>>3,n=rotr(t,17)^rotr(t,19)^t>>>10;SHA256_W[h]=n+SHA256_W[h-7]+r+SHA256_W[h-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:u,H:c}=this;for(let h=0;h<64;h++){const e=c+(rotr(o,6)^rotr(o,11)^rotr(o,25))+Chi(o,a,u)+SHA256_K[h]+SHA256_W[h]|0,t=(rotr(r,2)^rotr(r,13)^rotr(r,22))+Maj(r,n,i)|0;c=u,u=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+t|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,s,o,a,u,c)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor((()=>new SHA256));function sha256(e,t){const r=t||"hex",n=sha256$1(isHex(e,{strict:!1})?toBytes$1(e):e);return"bytes"===r?n:toHex(n)}function commitmentToVersionedHash(e){const{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=sha256(t,"bytes");return i.set([r],0),"bytes"===n?i:bytesToHex(i)}function commitmentsToVersionedHashes(e){const{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(const s of t)i.push(commitmentToVersionedHash({commitment:s,to:n,version:r}));return i}const blobsPerTransaction=6,bytesPerFieldElement=32,fieldElementsPerBlob=4096,bytesPerBlob=bytesPerFieldElement*fieldElementsPerBlob,maxBytesPerTransaction=bytesPerBlob*blobsPerTransaction-1-1*fieldElementsPerBlob*blobsPerTransaction,versionedHashVersionKzg=1;class BlobSizeTooLargeError extends BaseError{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class EmptyBlobError extends BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class InvalidVersionedHashSizeError extends BaseError{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class InvalidVersionedHashVersionError extends BaseError{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${versionedHashVersionKzg}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function toBlobs(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?hexToBytes(e.data):e.data,n=size(r);if(!n)throw new EmptyBlobError;if(n>maxBytesPerTransaction)throw new BlobSizeTooLargeError({maxSize:maxBytesPerTransaction,size:n});const i=[];let s=!0,o=0;for(;s;){const e=createCursor(new Uint8Array(bytesPerBlob));let t=0;for(;t<fieldElementsPerBlob;){const n=r.slice(o,o+(bytesPerFieldElement-1));if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),s=!1;break}t++,o+=31}i.push(e)}return"bytes"===t?i.map((e=>e.bytes)):i.map((e=>bytesToHex(e.bytes)))}function toBlobSidecars(e){const{data:t,kzg:r,to:n}=e,i=e.blobs??toBlobs({data:t,to:n}),s=e.commitments??blobsToCommitments({blobs:i,kzg:r,to:n}),o=e.proofs??blobsToProofs({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:s[u],proof:o[u]});return a}function getTransactionType(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:e})}function formatLog(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function getChainContractAddress({blockNumber:e,chain:t,contract:r}){const n=t?.contracts?.[r];if(!n)throw new ChainDoesNotSupportContract({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new ChainDoesNotSupportContract({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function getCallError(e,{docsPath:t,...r}){const n=(()=>{const t=getNodeError(e,r);return t instanceof UnknownNodeError?e:t})();return new CallExecutionError(n,{docsPath:t,...r})}function defineChain(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const receiptStatuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>formatLog(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?hexToNumber(e.transactionIndex):null,status:e.status?receiptStatuses[e.status]:null,type:e.type?transactionType[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const defineTransactionReceipt=defineFormatter("transactionReceipt",formatTransactionReceipt);function assertTransactionEIP7702(e){const{authorizationList:t}=e;if(t)for(const r of t){const{contractAddress:e,chainId:t}=r;if(!isAddress(e))throw new InvalidAddressError({address:e});if(t<0)throw new InvalidChainIdError({chainId:t})}assertTransactionEIP1559(e)}function assertTransactionEIP4844(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new EmptyBlobError;for(const e of t){const t=size(e),r=hexToNumber(slice(e,0,1));if(32!==t)throw new InvalidVersionedHashSizeError({hash:e,size:t});if(r!==versionedHashVersionKzg)throw new InvalidVersionedHashVersionError({hash:e,version:r})}}assertTransactionEIP1559(e)}function assertTransactionEIP1559(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new InvalidChainIdError({chainId:t});if(i&&!isAddress(i))throw new InvalidAddressError({address:i});if(n&&n>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:n});if(r&&n&&r>n)throw new TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:r})}function assertTransactionEIP2930(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new InvalidChainIdError({chainId:t});if(s&&!isAddress(s))throw new InvalidAddressError({address:s});if(r||i)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:n})}function assertTransactionLegacy(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(s&&!isAddress(s))throw new InvalidAddressError({address:s});if(void 0!==t&&t<=0)throw new InvalidChainIdError({chainId:t});if(r||i)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:n})}function serializeAuthorizationList(e){if(!e||0===e.length)return[];const t=[];for(const r of e){const{contractAddress:e,chainId:n,nonce:i,...s}=r;t.push([n?toHex(n):"0x",e,i?toHex(i):"0x",...toYParitySignatureArray({},s)])}return t}function serializeAccessList(e){if(!e||0===e.length)return[];const t=[];for(let r=0;r<e.length;r++){const{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new InvalidStorageKeySizeError({storageKey:i[e]});if(!isAddress(n,{strict:!1}))throw new InvalidAddressError({address:n});t.push([n,i])}return t}function serializeTransaction$1(e,t){const r=getTransactionType(e);return"eip1559"===r?serializeTransactionEIP1559(e,t):"eip2930"===r?serializeTransactionEIP2930(e,t):"eip4844"===r?serializeTransactionEIP4844(e,t):"eip7702"===r?serializeTransactionEIP7702(e,t):serializeTransactionLegacy(e,t)}function serializeTransactionEIP7702(e,t){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:h,data:l}=e;assertTransactionEIP7702(e);const d=serializeAccessList(h),f=serializeAuthorizationList(r);return concatHex(["0x04",toRlp([toHex(n),s?toHex(s):"0x",c?toHex(c):"0x",u?toHex(u):"0x",i?toHex(i):"0x",o??"0x",a?toHex(a):"0x",l??"0x",d,f,...toYParitySignatureArray(e,t)])])}function serializeTransactionEIP4844(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:c,accessList:h,data:l}=e;assertTransactionEIP4844(e);let d=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(void 0===d||void 0===f)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>bytesToHex(e))),r=e.kzg,n=blobsToCommitments({blobs:t,kzg:r});if(void 0===d&&(d=commitmentsToVersionedHashes({commitments:n})),void 0===f){f=toBlobSidecars({blobs:t,commitments:n,proofs:blobsToProofs({blobs:t,commitments:n,kzg:r})})}}const p=serializeAccessList(h),m=[toHex(r),i?toHex(i):"0x",c?toHex(c):"0x",u?toHex(u):"0x",n?toHex(n):"0x",s??"0x",o?toHex(o):"0x",l??"0x",p,a?toHex(a):"0x",d??[],...toYParitySignatureArray(e,t)],g=[],y=[],b=[];if(f)for(let v=0;v<f.length;v++){const{blob:e,commitment:t,proof:r}=f[v];g.push(e),y.push(t),b.push(r)}return concatHex(["0x03",toRlp(f?[m,g,y,b]:m)])}function serializeTransactionEIP1559(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:c,data:h}=e;assertTransactionEIP1559(e);const l=serializeAccessList(c);return concatHex(["0x02",toRlp([toHex(r),i?toHex(i):"0x",u?toHex(u):"0x",a?toHex(a):"0x",n?toHex(n):"0x",s??"0x",o?toHex(o):"0x",h??"0x",l,...toYParitySignatureArray(e,t)])])}function serializeTransactionEIP2930(e,t){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:u,gasPrice:c}=e;assertTransactionEIP2930(e);const h=serializeAccessList(u);return concatHex(["0x01",toRlp([toHex(r),s?toHex(s):"0x",c?toHex(c):"0x",n?toHex(n):"0x",o??"0x",a?toHex(a):"0x",i??"0x",h,...toYParitySignatureArray(e,t)])])}function serializeTransactionLegacy(e,t){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:u}=e;assertTransactionLegacy(e);let c=[s?toHex(s):"0x",u?toHex(u):"0x",n?toHex(n):"0x",o??"0x",a?toHex(a):"0x",i??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new InvalidLegacyVError({v:t.v});return e})(),n=trim(t.r),i=trim(t.s);c=[...c,toHex(e),"0x00"===n?"0x":n,"0x00"===i?"0x":i]}else r>0&&(c=[...c,toHex(r),"0x","0x"]);return toRlp(c)}function toYParitySignatureArray(e,t){const r=t??e,{v:n,yParity:i}=r;if(void 0===r.r)return[];if(void 0===r.s)return[];if(void 0===n&&void 0===i)return[];const s=trim(r.r),o=trim(r.s);return["number"==typeof i?i?toHex(1):"0x":0n===n?"0x":1n===n?toHex(1):27n===n?"0x":toHex(1),"0x00"===s?"0x":s,"0x00"===o?"0x":o]}const contracts={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters={block:defineBlock({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=formatTransaction(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?hexToBigInt(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:defineTransaction({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?hexToBigInt(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:defineTransactionReceipt({format:e=>({l1GasPrice:e.l1GasPrice?hexToBigInt(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?hexToBigInt(e.l1GasUsed):null,l1Fee:e.l1Fee?hexToBigInt(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};function serializeTransaction(e,t){return isDeposit(e)?serializeTransactionDeposit(e):serializeTransaction$1(e,t)}const serializers={transaction:serializeTransaction};function serializeTransactionDeposit(e){assertTransactionDeposit(e);const{sourceHash:t,data:r,from:n,gas:i,isSystemTx:s,mint:o,to:a,value:u}=e;return concatHex(["0x7e",toRlp([t,n,a??"0x",o?toHex(o):"0x",u?toHex(u):"0x",i?toHex(i):"0x",s?"0x1":"0x",r??"0x"])])}function isDeposit(e){return"deposit"===e.type||void 0!==e.sourceHash}function assertTransactionDeposit(e){const{from:t,to:r}=e;if(t&&!isAddress(t))throw new InvalidAddressError({address:t});if(r&&!isAddress(r))throw new InvalidAddressError({address:r})}const chainConfig={contracts,formatters,serializers},sourceId=1,optimism=defineChain({...chainConfig,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...chainConfig.contracts,disputeGameFactory:{[sourceId]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[sourceId]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[sourceId]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[sourceId]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId});var __defProp=Object.defineProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__publicField=(e,t,r)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,r),r),AuthClientError=class extends Error{constructor(e,t){let r;r="string"==typeof t?{message:t}:t instanceof Error?{cause:t,message:t.message}:t,r.message||(r.message=r.cause?.message||""),super(r.message,{cause:r.cause}),__publicField(this,"errCode"),__publicField(this,"presentable",!1),this.name="AuthClientError",this.errCode=e}},unwrap=e=>e.isErr()?{error:e.error,isError:!0}:{...e.value,isError:!1},defaultPollOpts={interval:1e3,timeout:1e4,successCode:200,onResponse:()=>{}},get=async(e,t,r)=>ResultAsync.fromPromise(fetch(getURI(e,t),{headers:getHeaders(r)}),(e=>new AuthClientError("unknown",e))).andThen((e=>ResultAsync.fromPromise(e.json(),(e=>new AuthClientError("unknown",e))).andThen((t=>ok({response:e,data:t}))))),post=async(e,t,r,n)=>ResultAsync.fromPromise(fetch(getURI(e,t),{method:"POST",body:JSON.stringify(r),headers:getHeaders(n)}),(e=>new AuthClientError("unknown",e))).andThen((e=>ResultAsync.fromPromise(e.json(),(e=>new AuthClientError("unknown",e))).andThen((t=>ok({response:e,data:t}))))),poll=async(e,t,r,n)=>{const{timeout:i,interval:s,successCode:o,onResponse:a}={...defaultPollOpts,...r},u=Date.now()+i;for(;Date.now()<u;){const r=await get(e,t,n);if(!r.isOk())return err(r.error);{const{response:e}=r.value;if(a(r.value),e.status===o)return ok(r.value);await new Promise((e=>setTimeout(e,s)))}}return err(new AuthClientError("unavailable",`Polling timed out after ${i}ms`))},getURI=(e,t)=>`${e.config.relay}/${e.config.version}/${t}`,getHeaders=e=>{const t={...e?.headers};return e?.authToken&&(t.Authorization=`Bearer ${e.authToken}`),{...t,"Content-Type":"application/json"}},path="channel",createChannel=async(e,{...t})=>{const r=await post(e,path,t);return unwrap(r)},path2="channel/status",status=async(e,{channelToken:t})=>{const r=await get(e,path2,{authToken:t});return unwrap(r)},STATEMENT="Farcaster Auth",CHAIN_ID=10,FID_URI_REGEX=/^farcaster:\/\/fid\/([1-9]\d*)\/?$/,validate=e=>Result.fromThrowable((()=>new siwe.SiweMessage(e)),(e=>new AuthClientError("bad_request.validation_failure",e)))().andThen(validateStatement).andThen(validateChainId).andThen(validateResources),parseResources=e=>{const t=parseFid(e);return t.isErr()?err(t.error):ok({fid:t.value})},parseFid=e=>{const t=(e.resources??[]).find((e=>FID_URI_REGEX.test(e)));if(!t)return err(new AuthClientError("bad_request.validation_failure","No fid resource provided"));const r=parseInt(t.match(FID_URI_REGEX)?.[1]??"");return isNaN(r)?err(new AuthClientError("bad_request.validation_failure","Invalid fid")):ok(r)},validateStatement=e=>e.statement===STATEMENT||"Farcaster Connect"===e.statement?ok(e):err(new AuthClientError("bad_request.validation_failure",`Statement must be '${STATEMENT}'`)),validateChainId=e=>e.chainId!==CHAIN_ID?err(new AuthClientError("bad_request.validation_failure",`Chain ID must be ${CHAIN_ID}`)):ok(e),validateResources=e=>{const t=(e.resources??[]).filter((e=>FID_URI_REGEX.test(e)));return 0===t.length?err(new AuthClientError("bad_request.validation_failure","No fid resource provided")):t.length>1?err(new AuthClientError("bad_request.validation_failure","Multiple fid resources provided")):ok(e)},voidVerifyFid=e=>Promise.reject(new Error("Not implemented: Must provide an fid verifier")),verify=async(e,t,r,n,i={getFid:voidVerifyFid})=>{const{getFid:s,provider:o}=i,a=validate(r).andThen((t=>validateNonce(t,e))).andThen((e=>validateDomain(e,t)));if(a.isErr())return err(a.error);const u=(await verifySiweMessage(a.value,n,o)).andThen(mergeResources);if(u.isErr())return err(u.error);if(!u.value.success){const e=u.value.error?.type??"Failed to verify SIWE message";return err(new AuthClientError("unauthorized",e))}const c=await verifyFidOwner(u.value,s);if(c.isErr())return err(c.error);if(!c.value.success){const e=u.value.error?.type??"Failed to validate fid owner";return err(new AuthClientError("unauthorized",e))}const{error:h,...l}=c.value;return ok(l)},validateNonce=(e,t)=>e.nonce!==t?err(new AuthClientError("unauthorized","Invalid nonce")):ok(e),validateDomain=(e,t)=>e.domain!==t?err(new AuthClientError("unauthorized","Invalid domain")):ok(e),verifySiweMessage=async(e,t,r)=>ResultAsync.fromPromise(e.verify({signature:t},{provider:r,suppressExceptions:!0}),(e=>new AuthClientError("unauthorized",e))),verifyFidOwner=async(e,t)=>{const r=e.data.address;return ResultAsync.fromPromise(t(r),(e=>new AuthClientError("unavailable",e))).andThen((t=>(t!==BigInt(e.fid)&&(e.success=!1,e.error=new siwe.SiweError(`Invalid resource: signer ${r} does not own fid ${e.fid}.`,e.fid.toString(),t.toString())),ok(e))))},mergeResources=e=>parseResources(e.data).andThen((t=>ok({...t,...e}))),verifySignInMessage=async(e,{nonce:t,domain:r,message:n,signature:i},s)=>{const o=await verify(t,r,n,i,{getFid:e.ethereum.getFid,provider:s});return unwrap(o)},path3="channel/status",voidCallback=()=>{},watchStatus=async(e,t)=>{const r=await poll(e,path3,{timeout:t?.timeout??3e5,interval:t?.interval??1e3,onResponse:t?.onResponse??voidCallback},{authToken:t.channelToken});return unwrap(r)},configDefaults={relay:"https://relay.farcaster.xyz",version:"v1"},createClient=({ethereum:e,...t})=>({config:{...configDefaults,...t},ethereum:e}),createAppClient=(e,t)=>{const r=createClient(e);return{...r,createChannel:e=>createChannel(r,e),status:e=>status(r,e),watchStatus:e=>watchStatus(r,e),verifySignInMessage:e=>verifySignInMessage(r,e,t)}},idRegistryABI=[{inputs:[{internalType:"address",name:"_migrator",type:"address"},{internalType:"address",name:"_initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyMigrated",type:"error"},{inputs:[],name:"GatewayFrozen",type:"error"},{inputs:[],name:"HasId",type:"error"},{inputs:[],name:"HasNoId",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"currentNonce",type:"uint256"}],name:"InvalidAccountNonce",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"OnlyGuardian",type:"error"},{inputs:[],name:"OnlyMigrator",type:"error"},{inputs:[],name:"PermissionRevoked",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"Add",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fid",type:"uint256"}],name:"AdminReset",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"recovery",type:"address"}],name:"ChangeRecoveryAddress",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"idGateway",type:"address"}],name:"FreezeIdGateway",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"migratedAt",type:"uint256"}],name:"Migrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Recover",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"address",name:"recovery",type:"address"}],name:"Register",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"Remove",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldCounter",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newCounter",type:"uint256"}],name:"SetIdCounter",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldIdGateway",type:"address"},{indexed:!1,internalType:"address",name:"newIdGateway",type:"address"}],name:"SetIdGateway",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldMigrator",type:"address"},{indexed:!1,internalType:"address",name:"newMigrator",type:"address"}],name:"SetMigrator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"CHANGE_RECOVERY_ADDRESS_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_AND_CHANGE_RECOVERY_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"addGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint24",name:"fid",type:"uint24"},{internalType:"address",name:"custody",type:"address"},{internalType:"address",name:"recovery",type:"address"}],internalType:"struct IIdRegistry.BulkRegisterData[]",name:"ids",type:"tuple[]"}],name:"bulkRegisterIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint24",name:"fid",type:"uint24"},{internalType:"address",name:"custody",type:"address"}],internalType:"struct IIdRegistry.BulkRegisterDefaultRecoveryData[]",name:"ids",type:"tuple[]"},{internalType:"address",name:"recovery",type:"address"}],name:"bulkRegisterIdsWithDefaultRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24[]",name:"ids",type:"uint24[]"}],name:"bulkResetIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recovery",type:"address"}],name:"changeRecoveryAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"recovery",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"sig",type:"bytes"}],name:"changeRecoveryAddressFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fid",type:"uint256"}],name:"custodyOf",outputs:[{internalType:"address",name:"custody",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparatorV4",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"freezeIdGateway",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"gatewayFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"gracePeriod",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"guardians",outputs:[{internalType:"bool",name:"isGuardian",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"structHash",type:"bytes32"}],name:"hashTypedDataV4",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"idCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"idGateway",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"idOf",outputs:[{internalType:"uint256",name:"fid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isMigrated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migratedAt",outputs:[{internalType:"uint40",name:"",type:"uint40"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"sig",type:"bytes"}],name:"recover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"recoveryDeadline",type:"uint256"},{internalType:"bytes",name:"recoverySig",type:"bytes"},{internalType:"uint256",name:"toDeadline",type:"uint256"},{internalType:"bytes",name:"toSig",type:"bytes"}],name:"recoverFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fid",type:"uint256"}],name:"recoveryOf",outputs:[{internalType:"address",name:"recovery",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"recovery",type:"address"}],name:"register",outputs:[{internalType:"uint256",name:"fid",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guardian",type:"address"}],name:"removeGuardian",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_counter",type:"uint256"}],name:"setIdCounter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_idGateway",type:"address"}],name:"setIdGateway",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_migrator",type:"address"}],name:"setMigrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"sig",type:"bytes"}],name:"transfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"recovery",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"sig",type:"bytes"}],name:"transferAndChangeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"recovery",type:"address"},{internalType:"uint256",name:"fromDeadline",type:"uint256"},{internalType:"bytes",name:"fromSig",type:"bytes"},{internalType:"uint256",name:"toDeadline",type:"uint256"},{internalType:"bytes",name:"toSig",type:"bytes"}],name:"transferAndChangeRecoveryFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"fromDeadline",type:"uint256"},{internalType:"bytes",name:"fromSig",type:"bytes"},{internalType:"uint256",name:"toDeadline",type:"uint256"},{internalType:"bytes",name:"toSig",type:"bytes"}],name:"transferFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"useNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"custodyAddress",type:"address"},{internalType:"uint256",name:"fid",type:"uint256"},{internalType:"bytes32",name:"digest",type:"bytes32"},{internalType:"bytes",name:"sig",type:"bytes"}],name:"verifyFidSignature",outputs:[{internalType:"bool",name:"isValid",type:"bool"}],stateMutability:"view",type:"function"}],ID_REGISTRY_ADDRESS="0x00000000Fc6c5F01Fc30151999387Bb99A9f489b",viemConnector=e=>{const t=createPublicClient({chain:optimism,transport:http(e?.rpcUrl)});return{getFid:async e=>t.readContract({address:ID_REGISTRY_ADDRESS,abi:idRegistryABI,functionName:"idOf",args:[e]})}};const Ne=typeof window<"u"&&null!=window&&window.location?{domain:window.location.host,siweUri:window.location.href}:{},qt={relay:"https://relay.farcaster.xyz",version:"v1",...Ne},Qt=reactExports.createContext({isAuthenticated:!1,config:qt,profile:{},signInMessage:{},onSignIn:()=>{},onSignOut:()=>{}});function Pe({config:e,children:t}){const[r,n]=reactExports.useState(),[i,s]=reactExports.useState(!1),[o,a]=reactExports.useState({}),[u,c]=reactExports.useState({}),h={...qt,...e},{relay:l,rpcUrl:d,version:f,provider:p}=h;reactExports.useEffect((()=>{const e=d?viemConnector({rpcUrl:d}):viemConnector(),t=createAppClient({relay:l,ethereum:e,version:f},p);n(t)}),[l,d,f,p]);const m=reactExports.useCallback((e=>{const{message:t,signature:r,fid:n,username:i,bio:o,displayName:u,pfpUrl:h,custody:l,verifications:d}=e;s(!0),a({fid:n,username:i,bio:o,displayName:u,pfpUrl:h,custody:l,verifications:d}),c({message:t,signature:r})}),[]);return jsxRuntimeExports.jsx(Qt.Provider,{value:{appClient:r,isAuthenticated:i,profile:o,signInMessage:u,config:h,onSignIn:m,onSignOut:()=>{s(!1),a({}),c({})}},children:t})}function q(){return reactExports.useContext(Qt)}function lt(){const{appClient:e}=q();return e}function Te({nonce:e,notBefore:t,expirationTime:r,requestId:n,onSuccess:i,onError:s,redirectUrl:o}){const{config:a}=q(),{siweUri:u,domain:c}=a,h=lt(),[l,d]=reactExports.useState(!1),[f,p]=reactExports.useState(),[m,g]=reactExports.useState(),[y,b]=reactExports.useState(),[v,w]=reactExports.useState(!1),[A,M]=reactExports.useState(!1),[E,_]=reactExports.useState(),S=reactExports.useCallback((async()=>{if(l&&h&&u&&c&&!f){const a="function"==typeof e?await e():e,{data:l,isError:d,error:f}=await h.createChannel({nonce:a,siweUri:u,domain:c,notBefore:t,expirationTime:r,requestId:n,redirectUrl:o});if(d)M(!0),_(f),null==s||s(f);else{const{channelToken:e,url:t,nonce:r}=l;p(e),g(t),b(r),w(!0),null==i||i({channelToken:e,url:t,nonce:r})}}}),[l,h,u,c,f,e,t,r,n,s,i,o]);reactExports.useEffect((()=>{S()}),[S]);const x=reactExports.useCallback((async()=>{d(!0)}),[d]),R=reactExports.useCallback((()=>{p(void 0),g(void 0),w(!1),M(!1),_(void 0)}),[p,g,w,M,_]),k=reactExports.useCallback((()=>{R(),x()}),[x,R]);return{connect:x,reconnect:k,reset:R,isSuccess:v,isError:A,error:E,data:{channelToken:f,url:m,nonce:y}}}function Re({nonce:e,domain:t,message:r,signature:n,onSuccess:i,onError:s}){const o=lt(),[a,u]=reactExports.useState(!1),[c,h]=reactExports.useState(!1),[l,d]=reactExports.useState(!1),[f,p]=reactExports.useState(),m=reactExports.useCallback((async()=>{if(o&&e&&t&&r&&n){const{success:a,isError:c,error:l}=await o.verifySignInMessage({nonce:e,domain:t,message:r,signature:n});c?(d(!0),p(l),null==s||s(l)):(u(a),h(!0),null==i||i({message:r,signature:n,validSignature:a}))}}),[o,e,t,r,n,i,s]);return reactExports.useEffect((()=>{(async()=>{d(!1),h(!1),u(!1),p(void 0)})(),e&&t&&r&&n&&m()}),[e,t,r,n,m]),{isSuccess:c,isError:l,error:f,data:{message:r,signature:n,validSignature:a}}}const ke={timeout:3e5,interval:1500};function Le(e){const t=lt(),{channelToken:r,timeout:n,interval:i,onSuccess:s,onError:o,onResponse:a}={...ke,...e},[u,c]=reactExports.useState(),[h,l]=reactExports.useState(!1),[d,f]=reactExports.useState(!1),[p,m]=reactExports.useState(!1),[g,y]=reactExports.useState(!1),[b,v]=reactExports.useState(),w=reactExports.useCallback((async()=>{if(h&&t&&r){m(!0);const{data:e,isError:u,error:h}=await t.watchStatus({channelToken:r,timeout:n,interval:i,onResponse:({data:e})=>{c(e),null==a||a(e)}});u?(y(!0),m(!1),v(h),null==o||o(h)):(f(!0),m(!1),c(e),null==s||s(e))}}),[h,t,r,n,i,s,o,a]);return reactExports.useEffect((()=>{c(void 0),l(!1),y(!1),f(!1),v(void 0),r&&w()}),[r,w]),{watch:()=>{l(!0)},isSuccess:d,isPolling:p,isError:g,error:b,data:u}}const _e={timeout:3e5,interval:1500};function Fe(e){const t=lt(),{onSignIn:r,onSignOut:n,config:{domain:i,redirectUrl:s}}=q(),{timeout:o,interval:a,onSuccess:u,onStatusResponse:c,onError:h,...l}={..._e,...e},{connect:d,reconnect:f,reset:p,data:{channelToken:m,url:g,nonce:y},isSuccess:b,isError:v,error:w}=Te({...l,redirectUrl:s,onError:h}),{watch:A,isPolling:M,data:E,isError:_,error:S}=Le({channelToken:m,timeout:o,interval:a,onError:h,onResponse:c}),{isSuccess:x,data:{validSignature:R},isError:k,error:P}=Re({nonce:y,domain:i,message:null==E?void 0:E.message,signature:null==E?void 0:E.signature,onError:h}),B=v||_||k,T=w||S||P,C=reactExports.useCallback((()=>{A()}),[A]),O=reactExports.useCallback((()=>{n(),p()}),[n,p]);return reactExports.useEffect((()=>{x&&E&&R&&(r(E),null==u||u(E))}),[x,E,R,r,u]),{signIn:C,signOut:O,connect:d,reconnect:f,isConnected:b,isSuccess:x,isPolling:M,isError:B,error:T,channelToken:m,url:g,appClient:t,data:E,validSignature:R}}function Ze({height:e,fill:t}){const r=1.1*e;return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:e,viewBox:"0 0 22 20",fill:"none",children:[jsxRuntimeExports.jsx("title",{children:"Farcaster logo"}),jsxRuntimeExports.jsxs("g",{fill:Vt[t],clipPath:"url(#a)",children:[jsxRuntimeExports.jsx("path",{d:"M3.786.05h14.156v2.824h4.025l-.844 2.825h-.714v11.427c.358 0 .65.287.65.642v.77h.13c.358 0 .649.288.649.642v.77h-7.273v-.77c0-.354.29-.642.65-.642h.13v-.77c0-.309.22-.566.512-.628l-.014-6.306c-.23-2.519-2.37-4.493-4.98-4.493-2.608 0-4.75 1.974-4.979 4.494l-.013 6.3c.346.05.772.315.772.633v.77h.13c.358 0 .65.288.65.642v.77H.15v-.77c0-.354.29-.642.649-.642h.13v-.77c0-.355.29-.642.65-.642V5.7H.863L.02 2.874h3.766V.05Z"}),jsxRuntimeExports.jsx("path",{d:"M17.942.05h.047V.003h-.047V.05ZM3.786.05V.003H3.74V.05h.047Zm14.156 2.824h-.048v.047h.048v-.047Zm4.025 0 .046.013.018-.06h-.064v.047Zm-.844 2.824v.047h.035l.01-.033-.045-.014Zm-.714 0v-.046h-.047v.046h.047Zm0 11.428h-.047v.047h.047v-.047Zm.65 1.412h-.048v.047h.047v-.047Zm.779 1.412v.047h.046v-.047h-.046Zm-7.273 0h-.048v.047h.048v-.047Zm.78-1.412v.047h.047v-.047h-.048Zm.512-1.398.01.045.038-.007v-.038h-.048Zm-.014-6.306h.048v-.004l-.048.004Zm-9.959 0-.047-.004v.004h.047Zm-.013 6.3h-.048v.041l.04.006.008-.047Zm.772 1.404h-.047v.047h.047v-.047Zm.78 1.412v.047h.047v-.047h-.048Zm-7.273 0H.102v.047H.15v-.047Zm.779-1.412v.047h.047v-.047H.93Zm.65-1.412v.047h.047v-.047h-.047Zm0-11.428h.047v-.046h-.047v.046Zm-.715 0-.045.014.01.033h.035v-.047ZM.02 2.874v-.047h-.063l.018.06.045-.013Zm3.766 0v.047h.048v-.047h-.048ZM17.942.003H3.786v.093h14.156V.003Zm.047 2.87V.05h-.095v2.824h.095Zm3.978-.046h-4.025v.094h4.025v-.094Zm-.798 2.885.844-2.825-.091-.026-.845 2.824.092.027Zm-.76.033h.714v-.093h-.714v.093Zm.048 11.381V5.698h-.095v11.428h.095Zm.649.641a.693.693 0 0 0-.697-.688v.094c.332 0 .602.266.602.595h.095Zm0 .77v-.77h-.095v.77h.095Zm.082-.045h-.13v.093h.13v-.093Zm.697.688a.692.692 0 0 0-.697-.688v.093c.333 0 .602.267.602.595h.095Zm0 .77v-.77h-.095v.77h.095Zm-3.943.047h3.896v-.094h-3.896v.094Zm-2.079 0h2.079v-.094h-2.079v.094Zm-1.298 0h1.298v-.094h-1.298v.094Zm-.048-.817v.77h.095v-.77h-.095Zm.697-.688a.693.693 0 0 0-.697.688h.095c0-.328.27-.595.602-.595v-.093Zm.13 0h-.13v.093h.13v-.093Zm-.047-.725v.77h.095v-.77h-.095Zm.55-.673a.69.69 0 0 0-.55.673h.095c0-.285.203-.524.476-.582l-.02-.09Zm-.051-6.26.014 6.306h.095l-.014-6.306h-.095Zm-4.932-4.447c2.583 0 4.704 1.956 4.932 4.452l.094-.009c-.232-2.543-2.393-4.536-5.026-4.536v.093ZM5.932 10.84c.227-2.496 2.348-4.452 4.932-4.452v-.093c-2.633 0-4.795 1.993-5.027 4.536l.095.008Zm-.014 6.295.014-6.3h-.095l-.014 6.3h.095Zm.773.633c0-.18-.12-.337-.276-.453a1.236 1.236 0 0 0-.538-.226l-.014.093c.166.025.351.1.495.207.145.108.238.241.238.38h.095Zm0 .77v-.77h-.095v.77h.095Zm.082-.045h-.13v.093h.13v-.093Zm.697.688a.693.693 0 0 0-.697-.688v.093c.332 0 .602.267.602.595h.095Zm0 .77v-.77h-.095v.77h.095Zm-1.606.047h1.558v-.094H5.864v.094Zm-.108 0h.108v-.094h-.108v.094Zm-1.97 0h1.97v-.094h-1.97v.094Zm-3.636 0h3.636v-.094H.15v.094Zm-.048-.817v.77h.095v-.77H.102Zm.697-.688a.693.693 0 0 0-.697.688h.095c0-.328.27-.595.602-.595v-.093Zm.13 0h-.13v.093h.13v-.093Zm-.048-.725v.77h.095v-.77H.881Zm.698-.688a.693.693 0 0 0-.698.688h.095c0-.328.27-.594.603-.594v-.094ZM1.53 5.7v11.427h.095V5.698h-.095Zm-.667.046h.715v-.093H.864v.093Zm-.89-2.858L.82 5.712l.09-.027-.844-2.824-.09.026Zm3.812-.06H.02v.094h3.766v-.094ZM3.74.05v2.824h.095V.05h-.095Z"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"a",children:jsxRuntimeExports.jsx("path",{fill:Vt[t],d:"M0 0h22v20H0z"})})})]})}const Vt={purple:"#7C65C1",white:"#FFFFFF"};var De="_1n3pr301",Ue="_1n3pr305",Ve="_1n3pr304",He="_1n3pr300",Tt="_1n3pr302",xe="_1n3pr303";function Gt({kind:e="primary",children:t,className:r,...n}){return jsxRuntimeExports.jsx("button",{type:"button",className:ze[e]||r,...n,children:t})}const ze={primary:De,secondary:Tt,tertiary:xe,reset:He};function Oe({label:e,onClick:t,initializing:r}){return jsxRuntimeExports.jsxs(Gt,{kind:"primary",onClick:t,disabled:r,children:[jsxRuntimeExports.jsx(Ze,{height:20,fill:"white"}),jsxRuntimeExports.jsx("span",{style:{marginLeft:9},children:e})]})}function Ke(e,t){reactExports.useEffect((()=>{function r(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t])}var Ye="_1rbg3ua1",$e="_1rbg3ua2",je="_1rbg3ua3",Je="_16wbil70",We="_16wbil71";function qe({signOut:e}){return jsxRuntimeExports.jsx("div",{className:Je,children:jsxRuntimeExports.jsxs("button",{type:"button",className:Tt,style:{boxShadow:"0px 6px 12px 0 rgba(0,0,0,0.12)"},onClick:e,children:[jsxRuntimeExports.jsxs("svg",{width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:We,children:[jsxRuntimeExports.jsx("title",{children:"Sign Out"}),jsxRuntimeExports.jsx("path",{d:"M11.75 7V3.25C11.75 2.65326 11.5129 2.08097 11.091 1.65901C10.669 1.23705 10.0967 1 9.5 1H3.5C2.90326 1 2.33097 1.23705 1.90901 1.65901C1.48705 2.08097 1.25 2.65326 1.25 3.25V16.75C1.25 17.3467 1.48705 17.919 1.90901 18.341C2.33097 18.7629 2.90326 19 3.5 19H9.5C10.0967 19 10.669 18.7629 11.091 18.341C11.5129 17.919 11.75 17.3467 11.75 16.75V13M14.75 13L17.75 10M17.75 10L14.75 7M17.75 10H5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Sign out"]})})}function Qe({userData:e,signOut:t,hideSignOut:r}){const[n,i]=reactExports.useState(!1),s=reactExports.useRef(null);Ke(s,(()=>i(!1)));const o=(null==e?void 0:e.username)??`!${null==e?void 0:e.fid}`,a=(null==e?void 0:e.pfpUrl)??"https://warpcast.com/avatar.png",u=n&&!r;return jsxRuntimeExports.jsx("div",{className:`fc-authkit-profile-button ${Ye}`,ref:s,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[jsxRuntimeExports.jsxs("button",{type:"button",className:Tt,onClick:()=>i(!n),children:[jsxRuntimeExports.jsx("img",{className:$e,src:a,alt:"avatar"}),jsxRuntimeExports.jsx("span",{className:je,children:o}),!r&&jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("title",{children:"Dropdown"}),jsxRuntimeExports.jsx("g",{opacity:"0.5",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.26418 9.864C6.43293 9.69545 6.66168 9.60079 6.90018 9.60079C7.13869 9.60079 7.36743 9.69545 7.53618 9.864L12.0002 14.328L16.4642 9.864C16.5466 9.77557 16.6459 9.70465 16.7563 9.65546C16.8667 9.60627 16.9859 9.57982 17.1068 9.57769C17.2276 9.57555 17.3476 9.59778 17.4597 9.64305C17.5718 9.68831 17.6736 9.75569 17.759 9.84115C17.8445 9.92661 17.9119 10.0284 17.9571 10.1405C18.0024 10.2525 18.0246 10.3726 18.0225 10.4934C18.0204 10.6143 17.9939 10.7334 17.9447 10.8438C17.8955 10.9542 17.8246 11.0536 17.7362 11.136L12.6362 16.236C12.4674 16.4045 12.2387 16.4992 12.0002 16.4992C11.7617 16.4992 11.5329 16.4045 11.3642 16.236L6.26418 11.136C6.09564 10.9672 6.00098 10.7385 6.00098 10.5C6.00098 10.2615 6.09564 10.0327 6.26418 9.864Z",fill:"black"})})]})]}),u&&jsxRuntimeExports.jsx(qe,{signOut:t})]})})}var D=function(){return D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};function Xt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Ge(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var it="right-scroll-bar-position",at="width-before-scroll-bar",Xe="with-scroll-bars-hidden",tn="--removed-body-scroll-bar-size";function en(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}function nn(e,t){var r=reactExports.useState((function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=t,r.facade}function rn(e,t){return nn(t||null,(function(t){return e.forEach((function(e){return en(e,t)}))}))}function on(e){return e}function an(e,t){void 0===t&&(t=on);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}}}function cn(e){void 0===e&&(e={});var t=an(null);return t.options=D({async:!0,ssr:!1},e),t}var te=function(e){var t=e.sideCar,r=Xt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return reactExports.createElement(n,D({},r))};function sn(e,t){return e.useMedium(t),te}te.isSideCarExport=!0;var ee=cn(),wt=function(){},ut=reactExports.forwardRef((function(e,t){var r=reactExports.useRef(null),n=reactExports.useState({onScrollCapture:wt,onWheelCapture:wt,onTouchMoveCapture:wt}),i=n[0],s=n[1],o=e.forwardProps,a=e.children,u=e.className,c=e.removeScrollBar,h=e.enabled,l=e.shards,d=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=e.gapMode,v=Xt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=d,A=rn([r,t]),M=D(D({},v),i);return reactExports.createElement(reactExports.Fragment,null,h&&reactExports.createElement(w,{sideCar:ee,removeScrollBar:c,shards:l,noIsolation:f,inert:p,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:b}),o?reactExports.cloneElement(reactExports.Children.only(a),D(D({},M),{ref:A})):reactExports.createElement(y,D({},M,{className:u,ref:A}),a))}));ut.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ut.classNames={fullWidth:at,zeroRight:it};var ln=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function un(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ln();return t&&e.setAttribute("nonce",t),e}function fn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dn(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}var hn=function(){var e=0,t=null;return{add:function(r){0==e&&(t=un())&&(fn(t,r),dn(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gn=function(){var e=hn();return function(t,r){reactExports.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&r])}},ne=function(){var e=gn();return function(t){var r=t.styles,n=t.dynamic;return e(r,n),null}},mn={left:0,top:0,right:0,gap:0},pt=function(e){return parseInt(e||"",10)||0},vn=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[pt(r),pt(n),pt(i)]},wn=function(e){if(void 0===e&&(e="margin"),typeof window>"u")return mn;var t=vn(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pn=ne(),yn=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat(Xe," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(it," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(at," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(it," .").concat(it," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(at," .").concat(at," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body {\n    ").concat(tn,": ").concat(a,"px;\n  }\n")},Cn=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n,s=reactExports.useMemo((function(){return wn(i)}),[i]);return reactExports.createElement(pn,{styles:yn(s,!t,i,r?"":"!important")})},Bt=!1;if(typeof window<"u")try{var et=Object.defineProperty({},"passive",{get:function(){return Bt=!0,!0}});window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Bt=!1}var x=!!Bt&&{passive:!1},En=function(e){return"TEXTAREA"===e.tagName},re=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!En(e)&&"visible"===r[t])},Sn=function(e){return re(e,"overflowY")},bn=function(e){return re(e,"overflowX")},Ht=function(e,t){var r=t.ownerDocument,n=t;do{if(typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host),oe(e,n)){var i=ie(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Bn=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},In=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},oe=function(e,t){return"v"===e?Sn(t):bn(t)},ie=function(e,t){return"v"===e?Bn(t):In(t)},An=function(e,t){return"h"===e&&"rtl"===t?-1:1},Mn=function(e,t,r,n,i){var s=An(e,window.getComputedStyle(t).direction),o=s*n,a=r.target,u=t.contains(a),c=!1,h=o>0,l=0,d=0;do{var f=ie(e,a),p=f[0],m=f[1]-f[2]-s*p;(p||m)&&oe(e,a)&&(l+=m,d+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(h&&(i&&Math.abs(l)<1||!i&&o>l)||!h&&(i&&Math.abs(d)<1||!i&&-o>d))&&(c=!0),c},nt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xt=function(e){return[e.deltaX,e.deltaY]},zt=function(e){return e&&"current"in e?e.current:e},Nn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pn=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Tn=0,z=[];function Rn(e){var t=reactExports.useRef([]),r=reactExports.useRef([0,0]),n=reactExports.useRef(),i=reactExports.useState(Tn++)[0],s=reactExports.useState(ne)[0],o=reactExports.useRef(e);reactExports.useEffect((function(){o.current=e}),[e]),reactExports.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=Ge([e.lockRef.current],(e.shards||[]).map(zt),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=reactExports.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var i,s=nt(e),a=r.current,u="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],h=e.target,l=Math.abs(u)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===l&&"range"===h.type)return!1;var d=Ht(l,h);if(!d)return!0;if(d?i=l:(i="v"===l?"h":"v",d=Ht(l,h)),!d)return!1;if(!n.current&&"changedTouches"in e&&(u||c)&&(n.current=i),!i)return!0;var f=n.current||i;return Mn(f,t,e,"h"===f?u:c,!0)}),[]),u=reactExports.useCallback((function(e){var r=e;if(z.length&&z[z.length-1]===s){var n="deltaY"in r?xt(r):nt(r),i=t.current.filter((function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&Nn(e.delta,n)}))[0];if(i&&i.should)return void(r.cancelable&&r.preventDefault());if(!i){var u=(o.current.shards||[]).map(zt).filter(Boolean).filter((function(e){return e.contains(r.target)}));(u.length>0?a(r,u[0]):!o.current.noIsolation)&&r.cancelable&&r.preventDefault()}}}),[]),c=reactExports.useCallback((function(e,r,n,i){var s={name:e,delta:r,target:n,should:i,shadowParent:kn(n)};t.current.push(s),setTimeout((function(){t.current=t.current.filter((function(e){return e!==s}))}),1)}),[]),h=reactExports.useCallback((function(e){r.current=nt(e),n.current=void 0}),[]),l=reactExports.useCallback((function(t){c(t.type,xt(t),t.target,a(t,e.lockRef.current))}),[]),d=reactExports.useCallback((function(t){c(t.type,nt(t),t.target,a(t,e.lockRef.current))}),[]);reactExports.useEffect((function(){return z.push(s),e.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:d}),document.addEventListener("wheel",u,x),document.addEventListener("touchmove",u,x),document.addEventListener("touchstart",h,x),function(){z=z.filter((function(e){return e!==s})),document.removeEventListener("wheel",u,x),document.removeEventListener("touchmove",u,x),document.removeEventListener("touchstart",h,x)}}),[]);var f=e.removeScrollBar,p=e.inert;return reactExports.createElement(reactExports.Fragment,null,p?reactExports.createElement(s,{styles:Pn(i)}):null,f?reactExports.createElement(Cn,{gapMode:e.gapMode}):null)}function kn(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ln=sn(ee,Rn);var ae=reactExports.forwardRef((function(e,t){return reactExports.createElement(ut,D({},e,{ref:t,sideCar:Ln}))}));ae.classNames=ut.classNames;const _n=ae;var Fn="nao3n43",Zn="nao3n42";const Ot=(e,t)=>{const r=e.querySelectorAll("button:not(:disabled), a[href]");0!==r.length&&r["end"===t?r.length-1:0].focus()};function Dn(e){const t=reactExports.useRef(null);return reactExports.useEffect((()=>{const e=document.activeElement;return()=>{var t;null==(t=e.focus)||t.call(e)}}),[]),reactExports.useEffect((()=>{if(t.current){const e=t.current.querySelector("[data-auto-focus]");e?e.focus():t.current.focus()}}),[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{onFocus:reactExports.useCallback((()=>t.current&&Ot(t.current,"end")),[]),tabIndex:0}),jsxRuntimeExports.jsx("div",{ref:t,style:{outline:"none"},tabIndex:-1,...e}),jsxRuntimeExports.jsx("div",{onFocus:reactExports.useCallback((()=>t.current&&Ot(t.current,"start")),[]),tabIndex:0})]})}function Un(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function Vn(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Hn(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}function xn(){return Vn()||Hn()}function It(){return Un()||xn()}const zn=e=>e.stopPropagation();function On({children:e,onClose:t,open:r,titleId:n}){reactExports.useEffect((()=>{const e=e=>r&&"Escape"===e.key&&t();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r,t]);const[i,s]=reactExports.useState(!0);reactExports.useEffect((()=>{s("hidden"!==getComputedStyle(window.document.body).overflow)}),[]);const o=reactExports.useCallback((()=>t()),[t]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r?reactDomExports.createPortal(jsxRuntimeExports.jsx(_n,{enabled:i,children:jsxRuntimeExports.jsx("div",{style:{alignItems:It()?"flex-end":"center",position:"fixed"},"aria-labelledby":n,"aria-modal":!0,className:Zn,onClick:o,role:"dialog",children:jsxRuntimeExports.jsx(Dn,{className:Fn,onClick:zn,role:"document",children:e})})}),document.body):null})}var Kn="_1sj0tk80",Kt="_1sj0tk82",Yn="_1sj0tk85",Yt="_1sj0tk81",Q={},$n=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},ce={},F={};let Rt;const jn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];F.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},F.getSymbolTotalCodewords=function(e){return jn[e]},F.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},F.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');Rt=e},F.isKanjiModeEnabled=function(){return typeof Rt<"u"},F.toSJIS=function(e){return Rt(e)};var ft={},t;function se(){this.buffer=[],this.length=0}t=ft,t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch{return r}},se.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Jn=se;function G(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}G.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},G.prototype.get=function(e,t){return this.data[e*this.size+t]},G.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},G.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Wn=G,le={};!function(e){const t=F.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const r=Math.floor(e/7)+2,n=t(e),i=145===n?26:2*Math.ceil((n-13)/(2*r-2)),s=[n-7];for(let t=1;t<r-1;t++)s[t]=s[t-1]-i;return s.push(6),s.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),i=n.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||r.push([n[e],n[t]]);return r}}(le);var ue={};const qn=F.getSymbolSize,$t=7;ue.getPositions=function(e){const t=qn(e);return[[0,0],[t-$t,0],[0,t-$t]]};var fe={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,r=3,n=40,i=10;function s(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const r=e.size;let n=0,i=0,s=0,o=null,a=null;for(let u=0;u<r;u++){i=s=0,o=a=null;for(let c=0;c<r;c++){let r=e.get(u,c);r===o?i++:(i>=5&&(n+=t+(i-5)),o=r,i=1),r=e.get(c,u),r===a?s++:(s>=5&&(n+=t+(s-5)),a=r,s=1)}i>=5&&(n+=t+(i-5)),s>=5&&(n+=t+(s-5))}return n},e.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(4===t||0===t)&&n++}return n*r},e.getPenaltyN3=function(e){const t=e.size;let r=0,i=0,s=0;for(let n=0;n<t;n++){i=s=0;for(let o=0;o<t;o++)i=i<<1&2047|e.get(n,o),o>=10&&(1488===i||93===i)&&r++,s=s<<1&2047|e.get(o,n),o>=10&&(1488===s||93===s)&&r++}return r*n},e.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*i},e.applyMask=function(e,t){const r=t.size;for(let n=0;n<r;n++)for(let i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,s(e,i,n))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let i=0,s=1/0;for(let o=0;o<n;o++){r(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<s&&(s=n,i=o)}return i}}(fe);var dt={};const V=ft,rt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ot=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];dt.getBlocksCount=function(e,t){switch(t){case V.L:return rt[4*(e-1)+0];case V.M:return rt[4*(e-1)+1];case V.Q:return rt[4*(e-1)+2];case V.H:return rt[4*(e-1)+3];default:return}},dt.getTotalCodewordsCount=function(e,t){switch(t){case V.L:return ot[4*(e-1)+0];case V.M:return ot[4*(e-1)+1];case V.Q:return ot[4*(e-1)+2];case V.H:return ot[4*(e-1)+3];default:return}};var de={},ht={};const j=new Uint8Array(512),ct=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)j[t]=e,ct[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)j[t]=j[t-255]}(),ht.log=function(e){if(e<1)throw new Error("log("+e+")");return ct[e]},ht.exp=function(e){return j[e]},ht.mul=function(e,t){return 0===e||0===t?0:j[ct[e]+ct[t]]},function(e){const t=ht;e.mul=function(e,r){const n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=t.mul(e[i],r[s]);return n},e.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){const e=n[0];for(let s=0;s<r.length;s++)n[s]^=t.mul(r[s],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=e.mul(n,new Uint8Array([1,t.exp(i)]));return n}}(de);const he=de;function kt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}kt.prototype.initialize=function(e){this.degree=e,this.genPoly=he.generateECPolynomial(this.degree)},kt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=he.mod(t,this.genPoly),n=this.degree-r.length;if(n>0){const e=new Uint8Array(this.degree);return e.set(r,n),e}return r};var Qn=kt,ge={},H={},Lt={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},U={};const me="[0-9]+",Gn="[A-Z $%*+\\-./:]+";let W="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";W=W.replace(/u/g,"\\u");const Xn="(?:(?![A-Z0-9 $%*+\\-./:]|"+W+")(?:.|[\r\n]))+";U.KANJI=new RegExp(W,"g"),U.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),U.BYTE=new RegExp(Xn,"g"),U.NUMERIC=new RegExp(me,"g"),U.ALPHANUMERIC=new RegExp(Gn,"g");const tr=new RegExp("^"+W+"$"),er=new RegExp("^"+me+"$"),nr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");U.testKanji=function(e){return tr.test(e)},U.testNumeric=function(e){return er.test(e)},U.testAlphanumeric=function(e){return nr.test(e)},function(e){const t=Lt,r=U;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch{return r}}}(H),function(e){const t=F,r=dt,n=ft,i=H,s=Lt,o=t.getBCHDigit(7973);function a(e,t){return i.getCharCountIndicator(e,t)+4}function u(e,t){let r=0;return e.forEach((function(e){const n=a(e.mode,t);r+=n+e.getBitsLength()})),r}e.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,o){if(!s.isValid(e))throw new Error("Invalid QR Code version");typeof o>"u"&&(o=i.BYTE);const u=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,n));if(o===i.MIXED)return u;const c=u-a(o,e);switch(o){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){let s;const o=n.from(r,n.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(u(t,n)<=e.getCapacity(n,r,i.MIXED))return n}(t,o);if(0===t.length)return 1;s=t[0]}else s=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(s.mode,s.getLength(),o)},e.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;t.getBCHDigit(r)-o>=0;)r^=7973<<t.getBCHDigit(r)-o;return e<<12|r}}(ge);var ve={};const At=F,we=1335,rr=21522,jt=At.getBCHDigit(we);ve.getEncodedBits=function(e,t){const r=e.bit<<3|t;let n=r<<10;for(;At.getBCHDigit(n)-jt>=0;)n^=we<<At.getBCHDigit(n)-jt;return(r<<10|n)^rr};var pe={};const or=H;function O(e){this.mode=or.NUMERIC,this.data=e.toString()}O.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},O.prototype.getLength=function(){return this.data.length},O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)},O.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const i=this.data.length-t;i>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*i+1))};var ir=O;const ar=H,yt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function K(e){this.mode=ar.ALPHANUMERIC,this.data=e}K.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},K.prototype.getLength=function(){return this.data.length},K.prototype.getBitsLength=function(){return K.getBitsLength(this.data.length)},K.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*yt.indexOf(this.data[t]);r+=yt.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(yt.indexOf(this.data[t]),6)};var cr=K,sr=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var s=e.charCodeAt(n+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,n+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer};const lr=sr,ur=H;function Y(e){this.mode=ur.BYTE,"string"==typeof e&&(e=lr(e)),this.data=new Uint8Array(e)}Y.getBitsLength=function(e){return 8*e},Y.prototype.getLength=function(){return this.data.length},Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)},Y.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var fr=Y;const dr=H,hr=F;function $(e){this.mode=dr.KANJI,this.data=e}$.getBitsLength=function(e){return 13*e},$.prototype.getLength=function(){return this.data.length},$.prototype.getBitsLength=function(){return $.getBitsLength(this.data.length)},$.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=hr.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var gr=$,ye={exports:{}},e;e={single_source_shortest_paths:function(t,r,n){var i={},s={};s[r]=0;var o,a,u,c,h,l,d,f=e.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(u in a=(o=f.pop()).value,c=o.cost,h=t[a]||{})h.hasOwnProperty(u)&&(l=c+h[u],d=s[u],(typeof s[u]>"u"||d>l)&&(s[u]=l,f.push(u,l),i[u]=a));if(typeof n<"u"&&typeof s[n]>"u"){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(t,r,n){var i=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,i={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}},ye.exports=e;var mr=ye.exports;!function(e){const t=H,r=ir,n=cr,i=fr,s=gr,o=U,a=F,u=mr;function c(e){return unescape(encodeURIComponent(e)).length}function h(e,t,r){const n=[];let i;for(;null!==(i=e.exec(r));)n.push({data:i[0],index:i.index,mode:t,length:i[0].length});return n}function l(e){const r=h(o.NUMERIC,t.NUMERIC,e),n=h(o.ALPHANUMERIC,t.ALPHANUMERIC,e);let i,s;return a.isKanjiModeEnabled()?(i=h(o.BYTE,t.BYTE,e),s=h(o.KANJI,t.KANJI,e)):(i=h(o.BYTE_KANJI,t.BYTE,e),s=[]),r.concat(n,i,s).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function d(e,o){switch(o){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return s.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function f(e,o){let u;const c=t.getBestModeForData(e);if(u=t.from(o,c),u!==t.BYTE&&u.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(u)+".\n Suggested mode is: "+t.toString(c));switch(u===t.KANJI&&!a.isKanjiModeEnabled()&&(u=t.BYTE),u){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new s(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e}),[])},e.fromString=function(r,n){const i=function(e){const r=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case t.NUMERIC:r.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:r.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:r.push([i,{data:i.data,mode:t.BYTE,length:c(i.data)}]);break;case t.BYTE:r.push([{data:i.data,mode:t.BYTE,length:c(i.data)}])}}return r}(l(r,a.isKanjiModeEnabled())),s=function(e,r){const n={},i={start:{}};let s=["start"];for(let o=0;o<e.length;o++){const a=e[o],u=[];for(let e=0;e<a.length;e++){const c=a[e],h=""+o+e;u.push(h),n[h]={node:c,lastCount:0},i[h]={};for(let e=0;e<s.length;e++){const o=s[e];n[o]&&n[o].node.mode===c.mode?(i[o][h]=d(n[o].lastCount+c.length,c.mode)-d(n[o].lastCount,c.mode),n[o].lastCount+=c.length):(n[o]&&(n[o].lastCount=c.length),i[o][h]=d(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,r))}}s=u}for(let t=0;t<s.length;t++)i[s[t]].end=0;return{map:i,table:n}}(i,n),o=u.find_path(s.map,"start","end"),h=[];for(let e=1;e<o.length-1;e++)h.push(s.table[o[e]].node);return e.fromArray(h.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[]))},e.rawSplit=function(t){return e.fromArray(l(t,a.isKanjiModeEnabled()))}}(pe);const gt=F,Ct=ft,vr=Jn,wr=Wn,pr=le,yr=ue,Mt=fe,Nt=dt,Cr=Qn,st=ge,Er=ve,Sr=H,Et=pe;function br(e,t){const r=e.size,n=yr.getPositions(t);for(let i=0;i<n.length;i++){const t=n[i][0],s=n[i][1];for(let n=-1;n<=7;n++)if(!(t+n<=-1||r<=t+n))for(let i=-1;i<=7;i++)s+i<=-1||r<=s+i||(n>=0&&n<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===n||6===n)||n>=2&&n<=4&&i>=2&&i<=4?e.set(t+n,s+i,!0,!0):e.set(t+n,s+i,!1,!0))}}function Br(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}function Ir(e,t){const r=pr.getPositions(t);for(let n=0;n<r.length;n++){const t=r[n][0],i=r[n][1];for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)-2===r||2===r||-2===n||2===n||0===r&&0===n?e.set(t+r,i+n,!0,!0):e.set(t+r,i+n,!1,!0)}}function Ar(e,t){const r=e.size,n=st.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=1==(n>>a&1),e.set(i,s,o,!0),e.set(s,i,o,!0)}function St(e,t,r){const n=e.size,i=Er.getEncodedBits(t,r);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(n-15+s,8,o,!0),s<8?e.set(8,n-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(n-8,8,1,!0)}function Mr(e,t){const r=e.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,a-r)){let n=!1;o<t.length&&(n=1==(t[o]>>>s&1)),e.set(i,a-r,n),s--,-1===s&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Nr(e,t,r){const n=new vr;r.forEach((function(t){n.put(t.mode.bit,4),n.put(t.getLength(),Sr.getCharCountIndicator(t.mode,e)),t.write(n)}));const i=8*(gt.getSymbolTotalCodewords(e)-Nt.getTotalCodewordsCount(e,t));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);const s=(i-n.getLengthInBits())/8;for(let o=0;o<s;o++)n.put(o%2?17:236,8);return Pr(n,e,t)}function Pr(e,t,r){const n=gt.getSymbolTotalCodewords(t),i=n-Nt.getTotalCodewordsCount(t,r),s=Nt.getBlocksCount(t,r),o=s-n%s,a=Math.floor(n/s),u=Math.floor(i/s),c=u+1,h=a-u,l=new Cr(h);let d=0;const f=new Array(s),p=new Array(s);let m=0;const g=new Uint8Array(e.buffer);for(let A=0;A<s;A++){const e=A<o?u:c;f[A]=g.slice(d,d+e),p[A]=l.encode(f[A]),d+=e,m=Math.max(m,e)}const y=new Uint8Array(n);let b,v,w=0;for(b=0;b<m;b++)for(v=0;v<s;v++)b<f[v].length&&(y[w++]=f[v][b]);for(b=0;b<h;b++)for(v=0;v<s;v++)y[w++]=p[v][b];return y}function Tr(e,t,r,n){let i;if(Array.isArray(e))i=Et.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=Et.rawSplit(e);n=st.getBestVersionForData(t,r)}i=Et.fromString(e,n||40)}}const s=st.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;const o=Nr(t,r,i),a=gt.getSymbolSize(t),u=new wr(a);return br(u,t),Br(u),Ir(u,t),St(u,r,0),t>=7&&Ar(u,t),Mr(u,o),isNaN(n)&&(n=Mt.getBestMask(u,St.bind(null,u,r))),Mt.applyMask(n,u),St(u,r,n),{modules:u,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}ce.create=function(e,t){if(typeof e>"u"||""===e)throw new Error("No input text");let r,n,i=Ct.M;return typeof t<"u"&&(i=Ct.from(t.errorCorrectionLevel,Ct.M),r=st.from(t.version),n=Mt.from(t.maskPattern),t.toSJISFunc&&gt.setToSJISFunction(t.toSJISFunc)),Tr(e,r,i,n)};var Ce={},_t={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const r=typeof e.margin>"u"||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const i=r.modules.size,s=r.modules.data,o=e.getScale(i,n),a=Math.floor((i+2*n.margin)*o),u=n.margin*o,c=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let h=4*(e*a+r),l=n.color.light;if(e>=u&&r>=u&&e<a-u&&r<a-u){l=c[s[Math.floor((e-u)/o)*i+Math.floor((r-u)/o)]?1:0]}t[h++]=l.r,t[h++]=l.g,t[h++]=l.b,t[h]=l.a}}}(_t),function(e){const t=_t;e.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=function(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);const o=t.getImageWidth(e.modules.size,i),a=s.getContext("2d"),u=a.createImageData(o,o);return t.qrToImageData(u.data,e,i),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(a,s,o),a.putImageData(u,0,0),s},e.renderToDataURL=function(t,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});const s=e.render(t,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}}(Ce);var Ee={};const Rr=_t;function Jt(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function bt(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function kr(e,t,r){let n="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const u=Math.floor(a%t),c=Math.floor(a/t);!u&&!s&&(s=!0),e[a]?(o++,a>0&&u>0&&e[a-1]||(n+=s?bt("M",u+r,.5+c+r):bt("m",i,0),i=0,s=!1),u+1<t&&e[a+1]||(n+=bt("h",o),o=0)):i++}return n}Ee.render=function(e,t,r){const n=Rr.getOptions(t),i=e.modules.size,s=e.modules.data,o=i+2*n.margin,a=n.color.light.a?"<path "+Jt(n.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+Jt(n.color.dark,"stroke")+' d="'+kr(s,i,n.margin)+'"/>',c='viewBox="0 0 '+o+" "+o+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+c+' shape-rendering="crispEdges">'+a+u+"</svg>\n";return"function"==typeof r&&r(null,h),h};const Lr=$n,Pt=ce,Se=Ce,_r=Ee;function Ft(e,t,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a="function"==typeof s[o-1];if(!a&&!Lr())throw new Error("Callback required as last argument");if(!a){if(o<1)throw new Error("Too few arguments provided");return 1===o?(r=t,t=n=void 0):2===o&&!t.getContext&&(n=r,r=t,t=void 0),new Promise((function(i,s){try{const s=Pt.create(r,n);i(e(s,t,n))}catch(o){s(o)}}))}if(o<2)throw new Error("Too few arguments provided");2===o?(i=r,r=t,t=n=void 0):3===o&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0));try{const s=Pt.create(r,n);i(null,e(s,t,n))}catch(u){i(u)}}Q.create=Pt.create,Q.toCanvas=Ft.bind(null,Se.render),Q.toDataURL=Ft.bind(null,Se.renderToDataURL),Q.toString=Ft.bind(null,(function(e,t,r){return _r.render(e,r)}));const Fr=(e,t)=>{const r=Array.prototype.slice.call(Q.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce(((e,t,r)=>(r%n==0?e.push([t]):e[e.length-1].push(t))&&e),[])};function Zr({ecl:e="M",size:t=200,uri:r}){const n=t-2*parseInt("20",10),i=reactExports.useMemo((()=>{const t=[],i=Fr(r,e),s=n/i.length;return[{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach((({x:e,y:r})=>{const n=(i.length-7)*s*e,o=(i.length-7)*s*r;for(let i=0;i<3;i++)t.push(jsxRuntimeExports.jsx("rect",{fill:i%2!=0?"white":"black",height:s*(7-2*i),width:s*(7-2*i),x:n+s*i,y:o+s*i},`${i}-${e}-${r}`))})),i.forEach(((e,r)=>{e.forEach(((e,n)=>{i[r][n]&&(r<7&&n<7||r>i.length-8&&n<7||r<7&&n>i.length-8||t.push(jsxRuntimeExports.jsx("rect",{fill:"black",height:s,width:s,x:r*s,y:n*s},`square-${r}-${n}`)))}))})),t}),[e,n,r]);return jsxRuntimeExports.jsxs("div",{className:Ve,children:[jsxRuntimeExports.jsx("div",{className:Ue,style:{width:n}}),jsxRuntimeExports.jsxs("svg",{height:n,style:{all:"revert"},width:n,children:[jsxRuntimeExports.jsx("title",{children:"QR Code"}),jsxRuntimeExports.jsx("rect",{fill:"transparent",height:n,width:n}),i]})]})}function Dr({open:e,onClose:t,url:r,isError:n,error:i}){return jsxRuntimeExports.jsx(On,{open:e,titleId:"Sign in with Farcaster",onClose:t,children:jsxRuntimeExports.jsx("div",{className:"fc-authkit-qrcode-dialog",children:jsxRuntimeExports.jsx("div",{className:Kn,children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:Yt,children:"Error"}),jsxRuntimeExports.jsx("div",{className:Kt,children:(null==i?void 0:i.message)??"Unknown error, please try again."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:Yt,children:"Sign in with Farcaster"}),jsxRuntimeExports.jsx("div",{className:Kt,children:"To sign in with Farcaster, scan the code below with your phone's camera."}),jsxRuntimeExports.jsx("div",{className:Yn,children:jsxRuntimeExports.jsx(Zr,{uri:r,size:200})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs(Gt,{kind:"tertiary",style:{display:"flex",alignItems:"center",fontWeight:500},onClick:()=>{window.location.href=r},children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:18,fill:"none",children:[jsxRuntimeExports.jsx("title",{children:"Sign in With Farcaster QR Code"}),jsxRuntimeExports.jsx("path",{fill:"#7C65C1",fillRule:"evenodd",d:"M0 3a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3Zm4-1.5v.75c0 .414.336.75.75.75h2.5A.75.75 0 0 0 8 2.25V1.5h1A1.5 1.5 0 0 1 10.5 3v12A1.5 1.5 0 0 1 9 16.5H3A1.5 1.5 0 0 1 1.5 15V3A1.5 1.5 0 0 1 3 1.5h1Z",clipRule:"evenodd"})]}),jsxRuntimeExports.jsx("span",{style:{marginLeft:9},children:"I'm using my phone "})]})})]})})})})}var Ur="_8rz8bk0";function Vr({debug:e,hideSignOut:t,onSignOut:r,...n}){const{onSuccess:i,onStatusResponse:s,onError:o}=n,a=reactExports.useCallback((e=>{null==i||i(e)}),[i]),u=reactExports.useCallback((e=>{null==s||s(e)}),[s]),c=reactExports.useCallback((e=>{null==o||o(e)}),[o]),h=reactExports.useCallback((()=>{null==r||r()}),[r]),l=Fe({...n,onSuccess:a,onStatusResponse:u,onError:c}),{signIn:d,signOut:f,connect:p,reconnect:m,isSuccess:g,isError:y,error:b,channelToken:v,url:w,data:A,validSignature:M}=l,E=reactExports.useCallback((()=>{S(!1),f(),h()}),[f,h]),[_,S]=reactExports.useState(!1),x=reactExports.useCallback((()=>{y&&m(),S(!0),d(),w&&It()&&(window.location.href=w)}),[y,m,d,w]),R=g&&M;return reactExports.useEffect((()=>{v||p()}),[v,p]),jsxRuntimeExports.jsxs("div",{className:"fc-authkit-signin-button",children:[R?jsxRuntimeExports.jsx(Qe,{userData:A,signOut:E,hideSignOut:!!t}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Oe,{initializing:!w,onClick:x,label:"Sign in"}),w&&jsxRuntimeExports.jsx(Dr,{open:_&&!It(),onClose:()=>S(!1),url:w,isError:y,error:b})]}),e&&jsxRuntimeExports.jsx("div",{className:Ur,children:jsxRuntimeExports.jsx("pre",{children:JSON.stringify(l,null,2)})})]})}export{DecodeLogDataMismatch as $,AbiEventNotFoundError as A,BaseError as B,ContractFunctionZeroDataError as C,isAddress as D,InvalidAddressError as E,AccountStateConflictError as F,InvalidBytesLengthError as G,formatBlock as H,InternalRpcError as I,blobsToCommitments as J,commitmentsToVersionedHashes as K,blobsToProofs as L,toBlobSidecars as M,getTransactionType as N,assertRequest as O,parseAccount as P,formatTransactionRequest as Q,RawContractError as R,StateAssignmentConflictError as S,extract as T,UnknownNodeError as U,AbiEventSignatureEmptyTopicsError as V,AbiEventSignatureNotFoundError as W,DecodeLogTopicsMismatch as X,decodeAbiParameters as Y,AbiDecodingDataSizeTooSmallError as Z,PositionOutOfBoundsError as _,toBytes$1 as a,size as a0,formatLog as a1,AbiFunctionOutputsNotFoundError as a2,AbiConstructorNotFoundError as a3,AbiConstructorParamsNotFoundError as a4,ClientChainNotConfiguredError as a5,ChainDoesNotSupportContract as a6,CounterfactualDeploymentFailedError as a7,getCallError as a8,getChainContractAddress as a9,stringToBytes as aA,concat as aB,trim as aC,getUrl as aD,decodeErrorResult as aE,integerRegex as aF,bytesRegex as aG,BytesSizeMismatchError as aH,sliceHex as aI,TransactionNotFoundError as aJ,formatTransaction as aK,TransactionReceiptNotFoundError as aL,formatTransactionReceipt as aM,hexToBool as aN,getAddress as aO,CallExecutionError as aP,WaitForTransactionReceiptTimeoutError as aQ,jsxRuntimeExports as aR,Vr as aS,Pe as aT,parseAbi as aa,stringify as ab,InvalidInputRpcError as ac,LruMap as ad,stringToHex as ae,HttpRequestError as af,UnknownRpcError as ag,UserRejectedRequestError as ah,SwitchChainError as ai,ChainDisconnectedError as aj,ProviderDisconnectedError as ak,UnsupportedProviderMethodError as al,UnauthorizedProviderError as am,JsonRpcVersionUnsupportedError as an,LimitExceededRpcError as ao,MethodNotSupportedRpcError as ap,TransactionRejectedRpcError as aq,ResourceUnavailableRpcError as ar,ResourceNotFoundRpcError as as,InvalidParamsRpcError as at,MethodNotFoundRpcError as au,InvalidRequestRpcError as av,ParseRpcError as aw,TimeoutError as ax,panicReasons as ay,bytesToHex as az,AbiFunctionNotFoundError as b,toFunctionSelector as c,concatHex as d,encodeAbiParameters as e,formatAbiItem as f,getAbiItem as g,AbiDecodingZeroDataError as h,ContractFunctionRevertedError as i,RpcRequestError as j,keccak256 as k,ContractFunctionExecutionError as l,checksumAddress as m,numberToHex as n,isHex as o,process$1 as p,toHex as q,hexToBigInt as r,hexToNumber as s,toEventSelector as t,toRlp as u,hexToBytes as v,prettyPrint as w,formatEther as x,formatGwei as y,getNodeError as z};
